[
  {
    "objectID": "02_conceitos_basicos_r.html",
    "href": "02_conceitos_basicos_r.html",
    "title": "Linguagem R",
    "section": "",
    "text": "Existem muitos conceitos básicos que são fundamentais para quem está começando a programar em R.\nNesta aula, vamos abordar algun conceitos considerados mais importantes para as próximas aulas.",
    "crumbs": [
      "Conceitos básicos",
      "Linguagem R"
    ]
  },
  {
    "objectID": "02_conceitos_basicos_r.html#operações-matemáticas",
    "href": "02_conceitos_basicos_r.html#operações-matemáticas",
    "title": "Linguagem R",
    "section": "Operações matemáticas",
    "text": "Operações matemáticas\nO R permite realizar operações matemáticas básicas, como soma, subtração, multiplicação, divisão, potenciação, entre outras.\n\n1 + 1 # Soma\n\n[1] 2\n\n1 - 1 # Subtração\n\n[1] 0\n\n2 * 3 # Multiplicação\n\n[1] 6\n\n10 / 2 # Divisão\n\n[1] 5\n\n2 ^ 3 # Potenciação\n\n[1] 8\n\n\nA ordem matemática das operações também vale no R. Por exemplo, a expressão 2 + 3 * 4 será calculada como 2 + (3 * 4):\n\n2 + 3 * 4\n\n[1] 14",
    "crumbs": [
      "Conceitos básicos",
      "Linguagem R"
    ]
  },
  {
    "objectID": "02_conceitos_basicos_r.html#objetos",
    "href": "02_conceitos_basicos_r.html#objetos",
    "title": "Linguagem R",
    "section": "Objetos",
    "text": "Objetos\nNo R, um objeto é uma estrutura de dados que armazena valores: podemos armazenar um valor único, um conjunto de valores, uma base de dados, entre outros.\nÉ muito útil armazenar valores em objetos, pois podemos reutilizá-los em diferentes partes do código, sem precisar digitar o valor novamente.\n\nObjetos existentes no R\nExistem alguns objetos já criados no R, como por exemplo o objeto letters, que armazena as letras do alfabeto:\n\npi\n\n[1] 3.141593\n\nletters\n\n [1] \"a\" \"b\" \"c\" \"d\" \"e\" \"f\" \"g\" \"h\" \"i\" \"j\" \"k\" \"l\" \"m\" \"n\" \"o\" \"p\" \"q\" \"r\" \"s\"\n[20] \"t\" \"u\" \"v\" \"w\" \"x\" \"y\" \"z\"\n\n\n\n\n\n\n\n\nAviso\n\n\n\nO R é case-sensitive, ou seja, ele diferencia letras maiúsculas de minúsculas. Portanto, nome é diferente de Nome.\nPor exemplo, o objeto pi armazena o valor de π (com um número limitado de casas decimais). O nome do objeto é escrito em minúsculas:\n\npi\n\n[1] 3.141593\n\n\nSe tentarmos acessar o objeto com o nome em maiúsculas, o R irá retornar um erro, pois esse objeto não existe:\n\nPi\n\nError: object 'Pi' not found\n\n\n\n\n\n\nCriando um objeto\nPara criar um objeto, precisamos definir um nome, e atribuir um valor à este nome. Para isso, usamos o operador de atribuição: &lt;-. Um atalho para esse operador é o Ctrl + - no Windows, ou Option + - no Mac .\nNo exemplo a seguir, criamos um objeto chamado nome_do_curso e atribuímos a ele o texto \"Introdução à análise de dados no R\":\n\nnome_do_curso &lt;- \"Introdução à análise de dados no R\"\n\nPodemos acessar o valor armazenado em um objeto digitando o nome do objeto:\n\nnome_do_curso\n\n[1] \"Introdução à análise de dados no R\"\n\n\nO objeto apenas será alterado se utilizarmos o operador de atribuição novamente. Por exemplo, a função tolower() transforma todas as letras de um texto em minúsculas:\n\ntolower(nome_do_curso)\n\n[1] \"introdução à análise de dados no r\"\n\n\nMas como não utilizamos a atribuição, o objeto nome_do_curso não foi alterado:\n\nnome_do_curso\n\n[1] \"Introdução à análise de dados no R\"\n\n\nPara alterar o objeto, precisamos atribuir o resultado da função tolower() ao objeto nome_do_curso:\n\nnome_do_curso &lt;- tolower(nome_do_curso)\n\nAgora, o objeto nome_do_curso foi alterado:\n\nnome_do_curso\n\n[1] \"introdução à análise de dados no r\"\n\n\nPortanto, cuidado: ao criar um objeto com nome igual à outro objeto existente, o objeto anterior será substituído pelo novo objeto.\n\n\nConsultando os objetos criados\nPara consultar os objetos criados, podemos usar a função ls() (list objects), que lista todos os objetos criados no Painel Environment:\n\nls()\n\n[1] \"nome_do_curso\"\n\n\nOutra forma é consultar o Painel Environment no RStudio, que exibe todos os objetos criados, e permite acessar o valor de cada objeto:\n\n\n\nCaptura de tela do RStudio: Painel Environment\n\n\n\n\nRemovendo objetos\nCaso queira remover um objeto, podemos usar a função rm() (remove objects). Por exemplo, para remover o objeto nome_do_curso:\n\nrm(nome_do_curso)\n\nPodemos consultar novamente os objetos existentes e verificar se o objeto foi removido:\n\nls()\n\n[1] \"nome_do_curso\"\n\n\nCaso queira remover todos os objetos carregados, podemos usar a função rm(list = ls()).\n\nrm(list = ls()) # remover todos os objetos do Global Environment\n\n\n\nDestivando o .RData\nA configuração padrão do RStudio define que, quando fechamos o RStudio, o R salva todos os objetos criados em um arquivo chamado .RData1. Na próxima vez que o RStudio for aberto, os objetos serão carregados automaticamente.\nPorém isso não é uma boa prática. O importante é desenvolver um script que tenha todos os passos necessários para reproduzir os resultados, e não depender de objetos salvos em um arquivo como o .RData.\nPara desabilitar essas configurações, no menu Tools &gt; Global Options &gt; General:\n\nDesmarcar a opção Restore .RData into workspace at startup;\nEm Save workspace to .RData on exit, selecionar Never.\nDesmarcar a opção Always save history (even when not saving .RData).\n\n\n\n\nCaptura de tela do RStudio: Global Options &gt; General\n\n\nApós desativar essa opção, o RStudio não carregará os objetos salvos no .RData na próxima vez que for aberto. Dessa forma, se quisermos apagar todos os objetos, podemos reiniciar a sessão do R (clicando em Session &gt; Restart R no menu superior do RStudio).\n\n\nNomeando objetos\nExistem regras e boas práticas para nomear objetos no R. As regras são obrigatórias: se não seguirmos, o código irá gerar um erro. As boas práticas são recomendações, com o objetivo de evitar erros futuros, e facilitar a leitura do código.\n\n\n\n\n\n\nDica\n\n\n\nRecomendamos seguir essas recomendações não apenas para o nome dos objetos, mas também para nome de pastas e arquivos, nome de colunas, entre outros.\n\n\n\nRegras para nomear objetos no R\n\nO nome não deve começar com um número. Ex: 1objeto não é um nome válido.\n\n\n1objeto &lt;- \"exemplo\"\n\nError in parse(text = input): &lt;text&gt;:1:2: unexpected symbol\n1: 1objeto\n     ^\n\n\n\nO nome não deve começar com underline (_). Ex: _objeto não é um nome válido.\n\n\n_objeto &lt;- \"exemplo\"\n\nError in parse(text = input): &lt;text&gt;:1:2: unexpected symbol\n1: _objeto\n     ^\n\n\n\nO nome do objeto não deve conter traços (-), pois o R interpreta o traço como um operador de subtração. Ex: meu-objeto não é um nome válido.\n\n\nobjeto-1 &lt;- \"exemplo\"\n\nError: object 'objeto' not found\n\n\n\n\nBoas práticas para nomear objetos no R\n\nO nome não deve começar com um ponto. Isso não gerará um erro, porém é contra-indicado pois essa sintaxe é utilizada para nomear objetos ocultos no R (portanto, não aparecerá no Painel Environment), e isso pode dificultar o acesso posteriormente. Ex: .objeto não deve ser usado.\nNão utilizar acentos, cedilhas, ou outros caracteres especiais. Isso pode gerar problemas de compatibilidade com outros sistemas (chamamos de encoding). Ex: aviões não é um nome recomendado.\nNão utilizar espaços, pois dificulta o acesso ao objeto posteriormente: precisaremos utilizar a crase em volta do nome do objeto para acessá-lo.\nExistem diferentes estilos para nomear objetos2, como snake_case, onde todas as letras devem ser minúsculas, e as palavras separadas por underline. O importante é escolher um estilo e manter a consistência.",
    "crumbs": [
      "Conceitos básicos",
      "Linguagem R"
    ]
  },
  {
    "objectID": "02_conceitos_basicos_r.html#tipos-de-dados",
    "href": "02_conceitos_basicos_r.html#tipos-de-dados",
    "title": "Linguagem R",
    "section": "Tipos de dados",
    "text": "Tipos de dados\nExistem diferentes tipos de dados que podemos armazenar em objetos no R, como números, textos, lógicos, fatores, datas, entre outros.\nÉ muito importante identificar o tipo de dado que estamos trabalhando, pois cada tipo de dado permite usar funções específicas.\nA função class() permite verificar a classe de um objeto. Por exemplo, podemos verificar a classe do objeto pi:\n\nclass(pi)\n\n[1] \"numeric\"\n\n\n\nNumérico\nOs objetos numéricos no R podem ser de dois tipos:\n\ninteiros (integer): armazena apenas números inteiros, ou seja, sem casas decimais. Ex: 1, 2, 3, 4, 5.\nnuméricos (numeric ou double): armazena números que podem conter casas decimais. Ex: 1, 2, 3.14, 4, 5.\n\nNa maioria dos casos, utilizamos o tipo numeric para armazenar números, pois ele é mais flexível.\nPor exemplo, para criar um objeto que armazena o número 42:\n\nexemplo_numero &lt;- 42\nclass(exemplo_numero)\n\n[1] \"numeric\"\n\n\nPara criar um objeto que armazena um valor usado para converter dólar em reais (R$), podemos usar o tipo numeric:\n\nconversao_dolar &lt;- 5.45\nclass(conversao_dolar)\n\n[1] \"numeric\"\n\n\n\n\nLógico (booleano)\nO tipo lógico (logical) armazena valores booleanos: TRUE (verdadeiro) ou FALSE (falso). Os valores binários podem ser convertidos para números, onde TRUE será 1, e FALSE será 0.\nPor exemplo, para criar objetos com os valores lógicos TRUE e FALSE:\n\nexemplo_logico_verdadeiro &lt;- TRUE\nclass(exemplo_logico_verdadeiro)\n\n[1] \"logical\"\n\nexemplo_logico_falso &lt;- FALSE\nclass(exemplo_logico_falso)\n\n[1] \"logical\"\n\n\n\n\nCharacter (texto)\nO tipo texto (character, ou também conhecido como string) armazena textos. Para criar um objeto com um texto, precisamos colocar o texto entre aspas:\n\nnome_do_curso &lt;- \"Introdução à análise de dados no R\"\nclass(nome_do_curso)\n\n[1] \"character\"\n\n\n\n\nFator (categórico)\nO tipo fator (factor) armazena variáveis categóricas, ou seja, variáveis que possuem um número limitado de categorias. Os valores possíveis de categoria são chamados de levels. Os fatores podem ser ordenados ou não ordenados.\nOs fatores são muito úteis para a visualização de dados e para alguns modelos usados em análise de dados.\nNeste momento, não vamos aprofundar no conceito de fatores: falaremos mais sobre eles nas próximas aulas.\n\n\nDatas\nO tipo data (Date) armazena datas no formato aaaa-mm-dd (ano-mês-dia).\nPara criar um objeto com uma data, podemos usar a função as.Date(), que converte um texto para o tipo Date. Por exemplo, para criar um objeto com a data de início do curso:\n\ndata_inicio_curso &lt;- as.Date(\"2024-10-01\")\nclass(data_inicio_curso)\n\n[1] \"Date\"\n\n\nA função Sys.Date() retorna a data atual do sistema:\n\ndata_sistema &lt;- Sys.Date()\nclass(data_sistema)\n\n[1] \"Date\"\n\n\nPodemos fazer operações com datas:\n\ndata_inicio_curso - data_sistema # diferença entre datas\n\nTime difference of -5 days\n\ndata_sistema + 1  # somar um dia\n\n[1] \"2024-10-07\"\n\nas.Date(\"2024-02-29\") + 1 # somar um dia\n\n[1] \"2024-03-01\"",
    "crumbs": [
      "Conceitos básicos",
      "Linguagem R"
    ]
  },
  {
    "objectID": "02_conceitos_basicos_r.html#conversões-entre-tipos-de-dados",
    "href": "02_conceitos_basicos_r.html#conversões-entre-tipos-de-dados",
    "title": "Linguagem R",
    "section": "Conversões entre tipos de dados",
    "text": "Conversões entre tipos de dados\nExistem várias funções que podemos usar para transformar variáveis de um tipo para outro. Essas funções tem começam com as. seguido pelo tipo de dado que queremos que seja convertido. Por exemplo:\n\nas.character(): converte valores para texto\nas.numeric(): converte valores para número\nas.logical(): converte valores para lógico\nas.factor(): converte valores para fator\nas.Date(): converte valores para data\n\n\n# número para texto\nas.character(2024)\n\n[1] \"2024\"\n\n# lógico para número\nas.numeric(TRUE)\n\n[1] 1\n\n# texto para data\nas.Date(\"2024-10-01\")\n\n[1] \"2024-10-01\"\n\n# texto para lógico\nas.logical(\"TRUE\")\n\n[1] TRUE\n\n\nPorém, nem toda conversão fará sentido. Por exemplo, podemos converter um número para texto, porém nem toda conversão de texto para número funcionará como esperado:\n\n# texto para número\nas.numeric(\"2024\")\n\n[1] 2024\n\nas.numeric(\"Curso de R\")\n\nWarning: NAs introduced by coercion\n\n\n[1] NA\n\n\nQuando a conversão não é possível, o R irá retornar um valor NA (Not Available), que indica um valor faltante. Falaremos mais sobre valores faltantes na próxima seção.",
    "crumbs": [
      "Conceitos básicos",
      "Linguagem R"
    ]
  },
  {
    "objectID": "02_conceitos_basicos_r.html#valores-faltantes-na",
    "href": "02_conceitos_basicos_r.html#valores-faltantes-na",
    "title": "Linguagem R",
    "section": "Valores faltantes (NA)",
    "text": "Valores faltantes (NA)\nValores faltantes, conhecidos também como missing values, são valores que não estão disponíveis, ou que não foram informados. No R, esses valores são representados pelo valor NA (Not Available).\nPodemos testar se um valor é NA usando a função is.na(): essa função retornará TRUE se o valor for NA, e FALSE caso contrário.\n\nis.na(NA)\n\n[1] TRUE\n\n\nAlgo importante é que o R não consegue fazer operações matemáticas com valores NA. Por exemplo, se tentarmos realizar qualquer operação matemática com NA, o resultado será NA:\n\nNA + 1\n\n[1] NA\n\nNA + NA\n\n[1] NA\n\nNA * 2\n\n[1] NA\n\n\nÉ importante identificar os valores NA em nossos dados, pois eles podem afetar o resultado de nossas análises. Por exemplo, se tentarmos calcular a média de um conjunto com valores NA, o resultado será NA:\n\nnumeros_com_na &lt;- c(1, 2, NA, 4, 5)\nmean(numeros_com_na)\n\n[1] NA\n\n\nEm aulas futuras falaremos sobre como identificar os NA em nossos dados, e algumas estratégias para lidar com eles. Neste momento, podemos utilizar o argumento na.rm = TRUE para que os NA sejam removidos antes de executar a função que calcula a média:\n\nmean(numeros_com_na, na.rm = TRUE)\n\n[1] 3",
    "crumbs": [
      "Conceitos básicos",
      "Linguagem R"
    ]
  },
  {
    "objectID": "02_conceitos_basicos_r.html#tipos-de-objetos",
    "href": "02_conceitos_basicos_r.html#tipos-de-objetos",
    "title": "Linguagem R",
    "section": "Tipos de objetos",
    "text": "Tipos de objetos\nExistem diferentes tipos de objetos no R, e cada tipo de objeto possui diferentes propriedades. Os principais tipos de objetos que utilizaremos ao longo do curso são: vetores, data.frames e listas.\n\nVetores\nVetores armazenam um conjunto de valores de uma dimensão. Eles podem ser criados com a função c(), que significa combine (combinar). Por exemplo, para criar um vetor com os números de 1 a 5:\n\nvetor_de_numeros &lt;- c(1, 2, 3, 4, 5)\n\nOs vetores podem armazenar diferentes tipos de dados, como números, textos, fatores, entre outros. Porém cada vetor pode armazenar apenas um tipo de dado. Por exemplo, se tentarmos criar um vetor que armazena números e textos, o R irá converter todos os valores para texto. Essa propriedade é chamada de coerção.\n\nvetor_misto &lt;- c(1, 2, \"três\", 4, 5)\nclass(vetor_misto)\n\n[1] \"character\"\n\nvetor_misto\n\n[1] \"1\"    \"2\"    \"três\" \"4\"    \"5\"   \n\n\nNo geral, podemos converter dados sem perder informação seguindo essa ordem: Lógico &gt; Inteiro &gt; Numérico &gt; Texto.\n\n\n\n\n\n\n\n\n\n\nData.frames\nOs data.frames são conjuntos de valores com duas dimensões: linhas e colunas. Porém, diferente do que vimos para as matrizes, os data.frames podem armazenar diferentes tipos de dados em cada coluna.\nEsse é o principal tipo de objeto que utilizaremos nesse curso, pois ele é muito útil para armazenar dados tabulares.\nExistem alguns data.frames já criados no R, como o airquality, que armazena dados sobre a qualidade do ar na cidade de Nova York, em 1973. Essas são as primeiras linhas do data.frame airquality:\n\nhead(airquality)\n\n  Ozone Solar.R Wind Temp Month Day\n1    41     190  7.4   67     5   1\n2    36     118  8.0   72     5   2\n3    12     149 12.6   74     5   3\n4    18     313 11.5   62     5   4\n5    NA      NA 14.3   56     5   5\n6    28      NA 14.9   66     5   6\n\n\nPara criar um data.frame, podemos usar a função data.frame(). Entretanto, o mais comum é importar dados de arquivos, como CSV, Excel, ou de bancos de dados. Falaremos sobre como importar dados na próxima aula.\n\n\nListas\nAs listas são os objetos mais flexíveis do R: podemos armazenar diferentes tipos de objetos dentro de uma mesma lista. Por exemplo, podemos armazenar um vetor, uma matriz, um data.frame, e até mesmo outra lista dentro de uma lista.\nPodemos criar uma lista com a função list(). Os elementos da lista podem ser nomeados ou não. Vamos criar uma lista nomeada, com três elementos: o número π, o data.frame airquality, e o vetor letters:\n\nlista_exemplo &lt;- list(numero_pi = pi,\n                      df_qualidade_do_ar = airquality,\n                      letras = letters)\nclass(lista_exemplo)\n\n[1] \"list\"\n\n\nA função str() (structure) exibe a estrutura da lista, mostrando os elementos e seus tipos:\n\nstr(lista_exemplo)\n\nList of 3\n $ numero_pi         : num 3.14\n $ df_qualidade_do_ar:'data.frame': 153 obs. of  6 variables:\n  ..$ Ozone  : int [1:153] 41 36 12 18 NA 28 23 19 8 NA ...\n  ..$ Solar.R: int [1:153] 190 118 149 313 NA NA 299 99 19 194 ...\n  ..$ Wind   : num [1:153] 7.4 8 12.6 11.5 14.3 14.9 8.6 13.8 20.1 8.6 ...\n  ..$ Temp   : int [1:153] 67 72 74 62 56 66 65 59 61 69 ...\n  ..$ Month  : int [1:153] 5 5 5 5 5 5 5 5 5 5 ...\n  ..$ Day    : int [1:153] 1 2 3 4 5 6 7 8 9 10 ...\n $ letras            : chr [1:26] \"a\" \"b\" \"c\" \"d\" ...",
    "crumbs": [
      "Conceitos básicos",
      "Linguagem R"
    ]
  },
  {
    "objectID": "02_conceitos_basicos_r.html#sugestões-de-materiais",
    "href": "02_conceitos_basicos_r.html#sugestões-de-materiais",
    "title": "Linguagem R",
    "section": "Sugestões de materiais",
    "text": "Sugestões de materiais\n\nLivro Zen do R:\n\nCapítulo .RData e .Rhistory\n\nLivro R para Ciência de Dados 2ed:\n\nFluxo de Trabalho: básico",
    "crumbs": [
      "Conceitos básicos",
      "Linguagem R"
    ]
  },
  {
    "objectID": "02_conceitos_basicos_r.html#footnotes",
    "href": "02_conceitos_basicos_r.html#footnotes",
    "title": "Linguagem R",
    "section": "Notas de rodapé",
    "text": "Notas de rodapé\n\n\nLeia mais sobre o arquivo .RData no Zen do R.↩︎\nA documentação da função snakecase::to_any_case() fornece uma lista de estilos de nomenclatura disponíveis no pacote snakecase.↩︎",
    "crumbs": [
      "Conceitos básicos",
      "Linguagem R"
    ]
  },
  {
    "objectID": "06_analise_exploratoria.html",
    "href": "06_analise_exploratoria.html",
    "title": "Análise exploratória de dados",
    "section": "",
    "text": "Nesta aula:\nUma etapa importante da análise exploratória de dados envolve visualizar dados. Isso será apresentado na próxima aula!",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Análise exploratória de dados"
    ]
  },
  {
    "objectID": "06_analise_exploratoria.html#importando-dados",
    "href": "06_analise_exploratoria.html#importando-dados",
    "title": "Análise exploratória de dados",
    "section": "Importando dados",
    "text": "Importando dados\nNesta aula, utilizaremos a tabela preparada na aula anterior: \"dados_output/sidra_4092_arrumado.rds\".\n\n\n\n\n\n\nImportante\n\n\n\nCaso não tenha o arquivo da tabela que utilizaremos, você pode baixar aqui, e copiar o arquivo para a pasta dados_output do seu projeto.\nOutra opção é executar o código abaixo:\n\ndownload.file(\n1  url = \"https://github.com/ipeadata-lab/curso_r_intro_202409/raw/refs/heads/main/dados_output/sidra_4092_arrumado.rds\",\n2  destfile = \"dados_output/sidra_4092_arrumado.rds\",\n3  mode = \"wb\"\n  )\n\n\n1\n\nURL que desejamos baixar\n\n2\n\nCaminho onde queremos baixar o arquivo (diretório + nome do arquivo + extensão do arquivo)\n\n3\n\nConfiguração que evita corromper arquivos binários.\n\n\n\n\n\n\nVamos carregar a base de dados com a função read_rds():\n\n1library(dplyr)\n2dados &lt;- readr::read_rds(\"dados_output/sidra_4092_arrumado.rds\")\n3glimpse(dados)\n\n\n1\n\nCarregando o pacote dplyr\n\n2\n\nImportando os dados\n\n3\n\nEspiando a tabela\n\n\n\n\nRows: 1,350\nColumns: 16\n$ uf                                       &lt;chr&gt; \"Amapá\", \"Bahia\", \"Rio Grande…\n$ uf_codigo                                &lt;fct&gt; 16, 29, 24, 27, 13, 28, 25, 2…\n$ uf_sigla                                 &lt;chr&gt; \"AP\", \"BA\", \"RN\", \"AL\", \"AM\",…\n$ regiao                                   &lt;chr&gt; \"Norte\", \"Nordeste\", \"Nordest…\n$ trimestre                                &lt;chr&gt; \"1º trimestre 2012\", \"1º trim…\n$ trimestre_codigo                         &lt;chr&gt; \"201201\", \"201201\", \"201201\",…\n$ ano                                      &lt;dbl&gt; 2012, 2012, 2012, 2012, 2012,…\n$ trimestre_inicio                         &lt;date&gt; 2012-01-01, 2012-01-01, 2012…\n$ mil_pessoas_total                        &lt;dbl&gt; 487, 10986, 2540, 2383, 2463,…\n$ mil_pessoas_forca_de_trabalho            &lt;dbl&gt; 318, 6888, 1370, 1173, 1558, …\n$ mil_pessoas_forca_de_trabalho_ocupada    &lt;dbl&gt; 278, 6086, 1211, 1041, 1386, …\n$ mil_pessoas_forca_de_trabalho_desocupada &lt;dbl&gt; 40, 802, 159, 133, 173, 99, 1…\n$ mil_pessoas_fora_da_forca_de_trabalho    &lt;dbl&gt; 170, 4098, 1170, 1210, 905, 6…\n$ prop_desocupacao                         &lt;dbl&gt; 0.12578616, 0.11643438, 0.116…\n$ perc_desocupacao                         &lt;dbl&gt; 12.578616, 11.643438, 11.6058…\n$ periodo_pandemia                         &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Análise exploratória de dados"
    ]
  },
  {
    "objectID": "06_analise_exploratoria.html#estatísticas-descritivas",
    "href": "06_analise_exploratoria.html#estatísticas-descritivas",
    "title": "Análise exploratória de dados",
    "section": "Estatísticas descritivas",
    "text": "Estatísticas descritivas\nNa aula conhecendo os dados, vimos algumas funções que são interessantes para ver estatísticas descritivas de todas as variáveis de uma vez, como a summary() e a skim().\nPodemos utilizar também funções do R para calcular estatísticas descritivas de uma variável.\nPor exemplo, para calcular a média da variável perc_desocupacao, podemos usar a função mean():\n\nmean(dados$perc_desocupacao)\n\n[1] 10.2724\n\n\nNesse caso, estamos fazendo a média de TODOS os valores da variável prop_desocupacao, incluindo proporções de períodos diferentes. Veremos em breve como podemos calcular a média considerando grupos (por exemplo, qual é a média em cada período?).\nA seguir, temos uma lista de funções que podem ser utilizadas para calcular estatísticas descritivas de uma variável:\n\n\n\nFunção\nO que retorna?\n\n\n\n\nmin()\nValor mínimo\n\n\nmax()\nValor máximo\n\n\nsum()\nSoma\n\n\nmean()\nMédia\n\n\nmedian()\nMediana\n\n\nvar()\nVariância (simples)\n\n\nsd()\nDesvio Padrão\n\n\n\nVamos calcular algumas dessas estatísticas para a variável perc_desocupacao:\n\nmin(dados$perc_desocupacao)\n\n[1] 2.344666\n\nmax(dados$perc_desocupacao)\n\n[1] 21.7527\n\nmean(dados$perc_desocupacao)\n\n[1] 10.2724\n\nmedian(dados$perc_desocupacao)\n\n[1] 9.776482\n\nvar(dados$perc_desocupacao)\n\n[1] 14.88816\n\nsd(dados$perc_desocupacao)\n\n[1] 3.858517\n\n\n\n\n\n\n\n\nAviso\n\n\n\nAs variáveis que estamos trabalhando não possuem valores faltantes (NA). Caso a variável que você esteja trabalhando possua valores faltantes, é importante considerar o argumento na.rm = TRUE nas funções de estatísticas descritivas, para que os valores faltantes sejam ignorados ao realizar os cálculos.\nPor exemplo:\n\n1altura_personagens_starwars &lt;- dplyr::starwars$height\n2mean(altura_personagens_starwars)\n\n\n1\n\nAtribuindo a variável height (altura) da base starwars ao objeto altura_personagens_starwars.\n\n2\n\nTentando calcular a média da altura dos personagens de Star Wars. O resultado será NA pois temos NA na variável altura_personagens_starwars.\n\n\n\n\n[1] NA\n\n\n\n1mean(altura_personagens_starwars, na.rm = TRUE)\n\n\n1\n\nCalculando a média da altura dos personagens de Star Wars, ignorando os valores faltantes (NA).\n\n\n\n\n[1] 174.6049",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Análise exploratória de dados"
    ]
  },
  {
    "objectID": "06_analise_exploratoria.html#estatísticas-agregadas-summarise",
    "href": "06_analise_exploratoria.html#estatísticas-agregadas-summarise",
    "title": "Análise exploratória de dados",
    "section": "Estatísticas agregadas (summarise())",
    "text": "Estatísticas agregadas (summarise())\nUma função importante do pacote dplyr é a summarise(). Ela permite calcular estatísticas descritivas de variáveis de uma base de dados, usando as funções que vimos anteriormente. A diferença é que retornará um novo data frame com as estatísticas calculadas.\n\ntabela_resumo_perc_desocupacao &lt;- dados |&gt; \n  summarise(\n    minimo = min(perc_desocupacao),\n    maximo = max(perc_desocupacao),\n    media = mean(perc_desocupacao),\n    mediana = median(perc_desocupacao),\n    variancia = var(perc_desocupacao),\n    desvio_padrao = sd(perc_desocupacao)\n  )\n\ntabela_resumo_perc_desocupacao\n\n# A tibble: 1 × 6\n  minimo maximo media mediana variancia desvio_padrao\n   &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;         &lt;dbl&gt;\n1   2.34   21.8  10.3    9.78      14.9          3.86\n\n\nPorém isso não é muito diferente de usar as funções do R diretamente, como fizemos anteriormente.\nA grande vantagem da função summarise() é que podemos calcular estatísticas descritivas para grupos de dados, o que veremos a seguir.",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Análise exploratória de dados"
    ]
  },
  {
    "objectID": "06_analise_exploratoria.html#agrupando-dados-group_by",
    "href": "06_analise_exploratoria.html#agrupando-dados-group_by",
    "title": "Análise exploratória de dados",
    "section": "Agrupando dados (group_by())",
    "text": "Agrupando dados (group_by())\nImagine que queremos calcular a média da taxa de desemprego para cada estado. Para isso, precisaríamos agrupar a base de dados por cada estado.\nA função group_by() do pacote dplyr permite agrupar dados usando uma ou mais variáveis. Ela não faz alterações nas linhas e colunas da base de dados, porém ela cria um atributo que indica que a base de dados está agrupada. Assim, as etapas seguintes que utilizarem a base de dados agrupada irão considerar os grupos criados.\nVeja o exemplo a seguir: ao agrupar a base dados por uf, estamos criando grupos de dados para cada estado. Veja que o resultado é uma tibble, mas a diferença é que agora temos um grupo para cada estado (# Groups:   uf [27]):\n\ndados |&gt; \n  group_by(uf)\n\n# A tibble: 1,350 × 16\n# Groups:   uf [27]\n   uf                 uf_codigo uf_sigla regiao trimestre trimestre_codigo   ano\n   &lt;chr&gt;              &lt;fct&gt;     &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;            &lt;dbl&gt;\n 1 Amapá              16        AP       Norte  1º trime… 201201            2012\n 2 Bahia              29        BA       Norde… 1º trime… 201201            2012\n 3 Rio Grande do Nor… 24        RN       Norde… 1º trime… 201201            2012\n 4 Alagoas            27        AL       Norde… 1º trime… 201201            2012\n 5 Amazonas           13        AM       Norte  1º trime… 201201            2012\n 6 Sergipe            28        SE       Norde… 1º trime… 201201            2012\n 7 Paraíba            25        PB       Norde… 1º trime… 201201            2012\n 8 Pernambuco         26        PE       Norde… 1º trime… 201201            2012\n 9 Acre               12        AC       Norte  1º trime… 201201            2012\n10 Distrito Federal   53        DF       Centr… 1º trime… 201201            2012\n# ℹ 1,340 more rows\n# ℹ 9 more variables: trimestre_inicio &lt;date&gt;, mil_pessoas_total &lt;dbl&gt;,\n#   mil_pessoas_forca_de_trabalho &lt;dbl&gt;,\n#   mil_pessoas_forca_de_trabalho_ocupada &lt;dbl&gt;,\n#   mil_pessoas_forca_de_trabalho_desocupada &lt;dbl&gt;,\n#   mil_pessoas_fora_da_forca_de_trabalho &lt;dbl&gt;, prop_desocupacao &lt;dbl&gt;,\n#   perc_desocupacao &lt;dbl&gt;, periodo_pandemia &lt;dbl&gt;\n\n\nPodemos agrupar também usando mais que uma variável. Neste exemplo, vamos agrupar por uf e ano: uf, ano [351]. Isso significa que temos um grupo para cada combinação de estado (27) e ano (13), totalizando 351 grupos.\n\ndados |&gt; \n  group_by(uf, ano)\n\n# A tibble: 1,350 × 16\n# Groups:   uf, ano [351]\n   uf                 uf_codigo uf_sigla regiao trimestre trimestre_codigo   ano\n   &lt;chr&gt;              &lt;fct&gt;     &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;            &lt;dbl&gt;\n 1 Amapá              16        AP       Norte  1º trime… 201201            2012\n 2 Bahia              29        BA       Norde… 1º trime… 201201            2012\n 3 Rio Grande do Nor… 24        RN       Norde… 1º trime… 201201            2012\n 4 Alagoas            27        AL       Norde… 1º trime… 201201            2012\n 5 Amazonas           13        AM       Norte  1º trime… 201201            2012\n 6 Sergipe            28        SE       Norde… 1º trime… 201201            2012\n 7 Paraíba            25        PB       Norde… 1º trime… 201201            2012\n 8 Pernambuco         26        PE       Norde… 1º trime… 201201            2012\n 9 Acre               12        AC       Norte  1º trime… 201201            2012\n10 Distrito Federal   53        DF       Centr… 1º trime… 201201            2012\n# ℹ 1,340 more rows\n# ℹ 9 more variables: trimestre_inicio &lt;date&gt;, mil_pessoas_total &lt;dbl&gt;,\n#   mil_pessoas_forca_de_trabalho &lt;dbl&gt;,\n#   mil_pessoas_forca_de_trabalho_ocupada &lt;dbl&gt;,\n#   mil_pessoas_forca_de_trabalho_desocupada &lt;dbl&gt;,\n#   mil_pessoas_fora_da_forca_de_trabalho &lt;dbl&gt;, prop_desocupacao &lt;dbl&gt;,\n#   perc_desocupacao &lt;dbl&gt;, periodo_pandemia &lt;dbl&gt;\n\n\nPodemos usar função ungroup() para remover os grupos criados. Porém as funções que utilizaremos muitas vezes já remove os grupos. Veremos exemplos a seguir.",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Análise exploratória de dados"
    ]
  },
  {
    "objectID": "06_analise_exploratoria.html#estatísticas-agregadas-utilizando-grupos-group_by-summarise",
    "href": "06_analise_exploratoria.html#estatísticas-agregadas-utilizando-grupos-group_by-summarise",
    "title": "Análise exploratória de dados",
    "section": "Estatísticas agregadas utilizando grupos (group_by() + summarise())",
    "text": "Estatísticas agregadas utilizando grupos (group_by() + summarise())\nAgora que sabemos como agrupar dados, podemos calcular estatísticas descritivas para cada grupo.\n\nExemplo com um grupo\n\ndados |&gt; \n  group_by(uf) |&gt;\n  summarise(\n    minimo = min(perc_desocupacao),\n    media = mean(perc_desocupacao),\n    mediana = median(perc_desocupacao),\n    maximo = max(perc_desocupacao),\n    amplitude = maximo - minimo\n  )\n\n# A tibble: 27 × 6\n   uf               minimo media mediana maximo amplitude\n   &lt;chr&gt;             &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;\n 1 Acre               6.18 11.4    11.1    18.2     12.0 \n 2 Alagoas            8.15 13.5    12.6    20.4     12.3 \n 3 Amapá              8.88 14.4    14.4    21.7     12.9 \n 4 Amazonas           6.82 12.0    12.0    18.0     11.2 \n 5 Bahia              9.10 15.0    15.3    21.7     12.6 \n 6 Ceará              6.65 10.3    10.3    15.1      8.46\n 7 Distrito Federal   8.49 11.5    11.4    15.7      7.19\n 8 Espírito Santo     4.50  9.39    9.24   14.7     10.2 \n 9 Goiás              3.95  8.39    8.05   13.9      9.91\n10 Maranhão           5.59 11.4    10.9    17.5     11.9 \n# ℹ 17 more rows\n\n\nImportante: A função summarise() retorna um novo data frame com as colunas utilizadas para agrupar os dados e as estatísticas calculadas.\n\n\nExemplo com mais de um grupo\nPodemos utilizar mais que uma variável para agrupar. No exemplo a seguir, vamos agrupar por uf e ano:\n\ndados |&gt; \n  group_by(uf, ano) |&gt;\n  summarise(\n    media = mean(perc_desocupacao)\n  )\n\n`summarise()` has grouped output by 'uf'. You can override using the `.groups`\nargument.\n\n\n# A tibble: 351 × 3\n# Groups:   uf [27]\n   uf      ano media\n   &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Acre   2012  8.55\n 2 Acre   2013  9.06\n 3 Acre   2014  7.82\n 4 Acre   2015  8.68\n 5 Acre   2016 11.0 \n 6 Acre   2017 14.3 \n 7 Acre   2018 13.8 \n 8 Acre   2019 14.7 \n 9 Acre   2020 15.4 \n10 Acre   2021 15.4 \n# ℹ 341 more rows\n\n\nA função retornou o seguinte warning:\n`summarise()` has grouped output by 'uf'. You can override using the `.groups` argument.\nIsso significa que a função summarise() retornou um data frame agrupado por uf. Se quisermos remover o agrupamento, podemos usar o argumento .groups = \"drop\":\n\ndados |&gt; \n  group_by(uf, ano) |&gt;\n  summarise(\n    media = mean(perc_desocupacao),\n1    .groups = \"drop\"\n  )\n\n\n1\n\nO argumento .groups = \"drop\" retorna uma tibble sem grupos.\n\n\n\n\n# A tibble: 351 × 3\n   uf      ano media\n   &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Acre   2012  8.55\n 2 Acre   2013  9.06\n 3 Acre   2014  7.82\n 4 Acre   2015  8.68\n 5 Acre   2016 11.0 \n 6 Acre   2017 14.3 \n 7 Acre   2018 13.8 \n 8 Acre   2019 14.7 \n 9 Acre   2020 15.4 \n10 Acre   2021 15.4 \n# ℹ 341 more rows\n\n\nOutra opção é usar a função ungroup():\n\ndados |&gt; \n  group_by(uf, ano) |&gt;\n  summarise(\n    media = mean(perc_desocupacao)\n  ) |&gt; \n  ungroup()\n\n`summarise()` has grouped output by 'uf'. You can override using the `.groups`\nargument.\n\n\n# A tibble: 351 × 3\n   uf      ano media\n   &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Acre   2012  8.55\n 2 Acre   2013  9.06\n 3 Acre   2014  7.82\n 4 Acre   2015  8.68\n 5 Acre   2016 11.0 \n 6 Acre   2017 14.3 \n 7 Acre   2018 13.8 \n 8 Acre   2019 14.7 \n 9 Acre   2020 15.4 \n10 Acre   2021 15.4 \n# ℹ 341 more rows",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Análise exploratória de dados"
    ]
  },
  {
    "objectID": "06_analise_exploratoria.html#filtros-com-grupos-group_by-filter",
    "href": "06_analise_exploratoria.html#filtros-com-grupos-group_by-filter",
    "title": "Análise exploratória de dados",
    "section": "Filtros com grupos (group_by() + filter())",
    "text": "Filtros com grupos (group_by() + filter())\nPodemos combinar a função group_by() com a função filter() para realizar filtros que respeitem o agrupamento dos dados.\nPor exemplo, queremos responder a pergunta: Qual foi período (trimestre) para cada estado onde a taxa de desocupação foi maior?\nPara isso, primeiro precisamos agrupar com o estado. A primeira coisa que vem em mente é utilizar a função summarise() e buscar o valor máximo:\n\ndados |&gt; \n  group_by(uf) |&gt; \n  summarise(maximo = max(perc_desocupacao))\n\n# A tibble: 27 × 2\n   uf               maximo\n   &lt;chr&gt;             &lt;dbl&gt;\n 1 Acre               18.2\n 2 Alagoas            20.4\n 3 Amapá              21.7\n 4 Amazonas           18.0\n 5 Bahia              21.7\n 6 Ceará              15.1\n 7 Distrito Federal   15.7\n 8 Espírito Santo     14.7\n 9 Goiás              13.9\n10 Maranhão           17.5\n# ℹ 17 more rows\n\n\nPorém como o summarise() apenas retorna as colunas de grupo e as colunas criadas, não temos a informação do trimestre.\nPara isso, podemos utilizar a função filter() para filtrar os dados por estado, filtrando a linha que apresenta o maior valor encontrado (max(perc_desocupacao)) na coluna perc_desocupacao:\n\ndados |&gt;\n1  group_by(uf) |&gt;\n2  filter(perc_desocupacao == max(perc_desocupacao)) |&gt;\n3  arrange(desc(perc_desocupacao)) |&gt;\n4  select(uf, trimestre, perc_desocupacao)\n\n\n1\n\nAgrupando por estado (uf).\n\n2\n\nFiltrando as linhas que apresentam o maior valor encontrado na coluna perc_desocupacao.\n\n3\n\nOrdenando os dados de forma decrescente, segundo o perc_desocupacao.\n\n4\n\nSelecionando apenas as colunas relevantes para a pergunta.\n\n\n\n\n# A tibble: 27 × 3\n# Groups:   uf [27]\n   uf                  trimestre         perc_desocupacao\n   &lt;chr&gt;               &lt;chr&gt;                        &lt;dbl&gt;\n 1 Pernambuco          2º trimestre 2021             21.8\n 2 Amapá               2º trimestre 2018             21.7\n 3 Bahia               1º trimestre 2021             21.7\n 4 Sergipe             3º trimestre 2020             20.8\n 5 Alagoas             4º trimestre 2020             20.4\n 6 Rio de Janeiro      1º trimestre 2021             19.6\n 7 Roraima             3º trimestre 2020             19.1\n 8 Acre                1º trimestre 2019             18.2\n 9 Amazonas            1º trimestre 2017             18.0\n10 Rio Grande do Norte 3º trimestre 2020             17.9\n# ℹ 17 more rows\n\n\n\nCriando colunas utilizando grupos (group_by() + mutate())\nPodemos criar novas colunas utilizando a função mutate().\nPodemos utilizar essa pergunta como exemplo: - Qual é a média da taxa de desocupação para cada trimestre?\nPodemos fazer calcular a média com a função summarise():\n\ndados |&gt;\n  group_by(trimestre) |&gt;\n  summarise(media = mean(perc_desocupacao)) \n\n# A tibble: 50 × 2\n   trimestre         media\n   &lt;chr&gt;             &lt;dbl&gt;\n 1 1º trimestre 2012  8.52\n 2 1º trimestre 2013  8.65\n 3 1º trimestre 2014  7.54\n 4 1º trimestre 2015  8.21\n 5 1º trimestre 2016 10.7 \n 6 1º trimestre 2017 13.8 \n 7 1º trimestre 2018 13.2 \n 8 1º trimestre 2019 13.2 \n 9 1º trimestre 2020 12.8 \n10 1º trimestre 2021 15.1 \n# ℹ 40 more rows\n\n\nA média foi calculada, porém o resultado é apenas uma tabela contendo o trimestre (a coluna de agrupamento), e a média (a coluna criada dentro do summarise()). Porém, se quisermos ter essa média como uma coluna da tabela, podemos fazer esse cálculo utilizando o mutate()\n\ndados_media_trimestre &lt;- dados |&gt; \n  group_by(trimestre) |&gt; \n  mutate(media_desocupacao_trimestre = mean(perc_desocupacao))",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Análise exploratória de dados"
    ]
  },
  {
    "objectID": "06_analise_exploratoria.html#tabelas-de-frequência",
    "href": "06_analise_exploratoria.html#tabelas-de-frequência",
    "title": "Análise exploratória de dados",
    "section": "Tabelas de frequência",
    "text": "Tabelas de frequência\nUtilizamos tabelas de frequência para representar a quantidade de ocorrências de linhas segundo um grupo de variáveis.\nA função count() do pacote dplyr é uma forma simples de criar tabelas de frequência.\nPor exemplo: Se queremos saber quantos estados temos em cada região, podemos filtrar para apenas um período (para que não haja duplicações), e contar a quantidade de linhas em cada categoria da coluna regiao, usando a função count():\n\ndados |&gt; \n1  filter(trimestre_codigo == \"202402\") |&gt;\n2  count(regiao)\n\n\n1\n\nFiltrando o trimestre mais recente\n\n2\n\nContando a quantidade de linhas para cada região (nesse caso, quantos estados tem por região).\n\n\n\n\n# A tibble: 5 × 2\n  regiao           n\n  &lt;chr&gt;        &lt;int&gt;\n1 Centro Oeste     4\n2 Nordeste         9\n3 Norte            7\n4 Sudeste          4\n5 Sul              3",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Análise exploratória de dados"
    ]
  },
  {
    "objectID": "06_analise_exploratoria.html#exercícios-sugeridos",
    "href": "06_analise_exploratoria.html#exercícios-sugeridos",
    "title": "Análise exploratória de dados",
    "section": "Exercícios sugeridos",
    "text": "Exercícios sugeridos\n\nCalcule média da taxa de desocupação nos dois primeiros trimestres de 2024, por região.\nQual foi o período (trimestre) para cada estado onde a taxa de desocupação foi menor?\nQual foi a mediana da taxa de desocupação para cada estado, durante o período da pandemia?",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Análise exploratória de dados"
    ]
  },
  {
    "objectID": "06_analise_exploratoria.html#sugestões-de-materiais",
    "href": "06_analise_exploratoria.html#sugestões-de-materiais",
    "title": "Análise exploratória de dados",
    "section": "Sugestões de materiais",
    "text": "Sugestões de materiais\n\nLivro Metodologia de Pesquisa Jurimétrica:\n\nCapítulo 3 - Estatísticas",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Análise exploratória de dados"
    ]
  },
  {
    "objectID": "00_instrucoes_pre_curso.html",
    "href": "00_instrucoes_pre_curso.html",
    "title": "Instalação",
    "section": "",
    "text": "Importante\n\n\n\nRecomendamos que todas as pessoas participantes instalem o R e o RStudio antes do início do curso.\nCaso tenha alguma dificuldade, entre em contato com a equipe do curso o quanto antes.",
    "crumbs": [
      "Pré-curso",
      "Instalação"
    ]
  },
  {
    "objectID": "00_instrucoes_pre_curso.html#instalação-do-r-e-rstudio",
    "href": "00_instrucoes_pre_curso.html#instalação-do-r-e-rstudio",
    "title": "Instalação",
    "section": "Instalação do R e RStudio",
    "text": "Instalação do R e RStudio\nPara a utilização do R, é necessário instalar o software R e o RStudio. O R é a linguagem de programação e o RStudio é um ambiente de desenvolvimento integrado (IDE - Integrated Development Environment) que facilita a utilização do R.\n\n\n\n\n\n\nAviso\n\n\n\nAtenção: O R deve ser instalado antes do RStudio.\n\n\n\nInstalação do R\nPara instalar o R, acesse o site CRAN e escolha o link de download de acordo com o seu sistema operacional:\n\n\n\nCaptura de tela do site CRAN\n\n\nInstale o R utilizando o instalador baixado.\n\n\nInstalação do RStudio\nApós instalar o R, acesse o site RStudio Desktop e escolha o link de download de acordo com o seu sistema operacional:\n\n\n\nCaptura de tela do site RStudio Desktop\n\n\nInstale o RStudio utilizando o instalador baixado.\n\n\nVerificação da instalação\nPara verificar se a instalação foi realizada com sucesso, abra o RStudio. Para isso, procure o ícone do RStudio no menu de programas do seu sistema operacional.\nA tela inicial do RStudio é semelhante à imagem abaixo:\n\n\n\nCaptura de tela da IDE RStudio\n\n\n\n\nVerificação da versão do R\nO R possui versões, e é importante verificar se a versão instalada é recente.\n\n\n\n\n\n\nAviso\n\n\n\nRecomendamos que utilizem o R na versão 4.1.0 ou superior.\nCaso a versão do R seja inferior a 4.1.0, recomendamos que atualizem o R para a versão mais recente.\nVersões mais antigas podem ter incompatibilidades com alguns códigos que utilizaremos durante o curso.\n\n\nExiste mais de uma forma para verificar a versão do R. A forma mais simples é verificando o texto que aparece no painel “Console” ao abrir o RStudio:\n\n\n\nCaptura de tela da IDE RStudio\n\n\nOutra forma é utilizando o comando R.version.string. Para isso, execute o seguinte comando no console do RStudio. Por exemplo, a versão do R utilizada para a elaboração deste material é 4.4.1:\nO comando R.version retorna um objeto com diversas informações sobre a versão do R, o sistema operacional utilizado, etc:\n\nR.version\n\n               _                           \nplatform       aarch64-apple-darwin20      \narch           aarch64                     \nos             darwin20                    \nsystem         aarch64, darwin20           \nstatus                                     \nmajor          4                           \nminor          4.1                         \nyear           2024                        \nmonth          06                          \nday            14                          \nsvn rev        86737                       \nlanguage       R                           \nversion.string R version 4.4.1 (2024-06-14)\nnickname       Race for Your Life",
    "crumbs": [
      "Pré-curso",
      "Instalação"
    ]
  },
  {
    "objectID": "08_regressao_linear.html",
    "href": "08_regressao_linear.html",
    "title": "Regressão linear",
    "section": "",
    "text": "Aviso\n\n\n\nPágina em construção! Em breve.",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Regressão linear"
    ]
  },
  {
    "objectID": "08_regressao_linear.html#sugestões-de-materiais",
    "href": "08_regressao_linear.html#sugestões-de-materiais",
    "title": "Regressão linear",
    "section": "Sugestões de materiais",
    "text": "Sugestões de materiais\n\nLivro Introduction to Modern Statistics de Mine Çetinkaya-Rundel e Johanna Hardin.\n\nRegression Modeling",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Regressão linear"
    ]
  },
  {
    "objectID": "04_conhecendo.html",
    "href": "04_conhecendo.html",
    "title": "Conhecendo a base de dados",
    "section": "",
    "text": "Conceitos prévios importantes:\n\nComo importar bases de dados?\nTipos de variáveis\nValores faltantes (NA)\nNesta seção, vamos conhecer algumas funções que nos ajudarão a conhecer um pouco mais sobre a base de dados que estamos trabalhando.\nEssa etapa é importante para:\nVamos começar importando a base de dados que utilizaremos:\nlibrary(tidyverse)\ndados &lt;- read_rds(\"dados/sidrar_4092_bruto.rds\")",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Conhecendo a base de dados"
    ]
  },
  {
    "objectID": "04_conhecendo.html#estrutura-da-base-de-dados",
    "href": "04_conhecendo.html#estrutura-da-base-de-dados",
    "title": "Conhecendo a base de dados",
    "section": "Estrutura da base de dados",
    "text": "Estrutura da base de dados\nVamos começar conhecendo a estrutura da base de dados. Para isso, existem algumas funções para saber o número de colunas e linhas, os nomes das colunas, entre outras informações. Algumas delas apresentam as mesmas informações, mas de formas diferentes.\n\n# Número de colunas\nncol(dados)\n\n[1] 13\n\n# Número de linhas\nnrow(dados)\n\n[1] 27000\n\n# Número de linhas e colunas\ndim(dados)\n\n[1] 27000    13\n\n# Nomes das colunas\nnames(dados)\n\n [1] \"Nível Territorial (Código)\"                                             \n [2] \"Nível Territorial\"                                                      \n [3] \"Unidade de Medida (Código)\"                                             \n [4] \"Unidade de Medida\"                                                      \n [5] \"Valor\"                                                                  \n [6] \"Unidade da Federação (Código)\"                                          \n [7] \"Unidade da Federação\"                                                   \n [8] \"Trimestre (Código)\"                                                     \n [9] \"Trimestre\"                                                              \n[10] \"Variável (Código)\"                                                      \n[11] \"Variável\"                                                               \n[12] \"Condição em relação à força de trabalho e condição de ocupação (Código)\"\n[13] \"Condição em relação à força de trabalho e condição de ocupação\"         \n\n\nA função glimpse() do pacote {dplyr} apresenta informações como: número de linhas, número de colunas, nome e tipo de cada coluna, e os primeiros valores de cada coluna. Porém o texto resultante dependerá da largura do Console:\n\nglimpse(dados)\n\n\n\n\nCaptura de tela: Resultado da função glimpse()\n\n\n\nView\nUma outra função que é interessante é a View(). Ela nos permite visualizar a base de dados em uma nova janela, em formato de tabela. Porém, é importante tomar cuidado ao usá-la com bases de dados grandes, pois pode travar o RStudio dependendo.\n\n\n\n\n\n\nDica\n\n\n\nObservação: Se você estiver com o {tidyverse} carregado, a função view() (com o v minúsculo) também está disponível. Ela é uma versão mais moderna da função View(), e tem algumas funcionalidades a mais. Para os fins dessa aula, podemos usar qualquer uma das duas.\n\n\nOutra forma de acessar o View é clicando na linha do objeto no painel Environment do RStudio:\n\n\n\nCaptura de tela: Onde clicamos para abrir o View\n\n\n\nView(dados)\n\n\n\n\nGravação da tela - Usando o View",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Conhecendo a base de dados"
    ]
  },
  {
    "objectID": "04_conhecendo.html#sumário-das-variáveis",
    "href": "04_conhecendo.html#sumário-das-variáveis",
    "title": "Conhecendo a base de dados",
    "section": "Sumário das variáveis",
    "text": "Sumário das variáveis\nEm funções apresentadas anteriormente, como a names(), já conseguimos ter uma ideia de quais são as variáveis da base de dados. Mas é interessante ter mais informações, como: tipo de variável, quantidade de valores faltantes, entre outros.\nNessa etapa, conheceremos algumas funções que nos ajudarão a ter essas informações. Algumas apresentam as mesmas informações, mas de formas diferentes. Portanto, é interessante conhecer algumas delas, e escolher qual é a que melhor atende às nossas necessidades.\n\n\n\n\n\n\nAviso\n\n\n\nCuidado: as funções apresentadas a seguir calculam algumas estatísticas descritivas (como a média, mediana, desvio padrão, valor mínimo, valor máximo, entre outras) em variáveis numéricas. Porém, ainda não “arrumamos” a base de dados (faremos isso no capítulo Transformando dados), e os dados ainda não estão adequados para esses cálculos.\nAlguns exemplos:\n\nVárias colunas numéricas representam o código de uma categoria, e não faz sentido calcular a média desses códigos.\nA variável valor está relacionada com a variável Unidade de Medida. Neste momento, a tabela apresenta valores com diferentes unidades de medida, e não faz sentido calcular a média desses valores.\n\nFalaremos sobre o cálculo de estatísticas descritivas no capítulo Análise Exploratória de Dados.\n\n\n\nsummary()\nA função summary() é uma função do R base (ou seja, não precisamos carregar nenhum pacote para usá-la), e ela nos dá um sumário das variáveis da base de dados.\n\nsummary(dados)\n\n Nível Territorial (Código) Nível Territorial  Unidade de Medida (Código)\n Length:27000               Length:27000       Length:27000              \n Class :character           Class :character   Class :character          \n Mode  :character           Mode  :character   Mode  :character          \n                                                                         \n                                                                         \n                                                                         \n                                                                         \n Unidade de Medida      Valor         Unidade da Federação (Código)\n Length:27000       Min.   :    0.3   Length:27000                 \n Class :character   1st Qu.:    1.5   Class :character             \n Mode  :character   Median :    7.8   Mode  :character             \n                    Mean   :  862.0                                \n                    3rd Qu.:  105.8                                \n                    Max.   :39480.0                                \n                    NA's   :1350                                   \n Unidade da Federação Trimestre (Código)  Trimestre         Variável (Código) \n Length:27000         Length:27000       Length:27000       Length:27000      \n Class :character     Class :character   Class :character   Class :character  \n Mode  :character     Mode  :character   Mode  :character   Mode  :character  \n                                                                              \n                                                                              \n                                                                              \n                                                                              \n   Variável        \n Length:27000      \n Class :character  \n Mode  :character  \n                   \n                   \n                   \n                   \n Condição em relação à força de trabalho e condição de ocupação (Código)\n Length:27000                                                           \n Class :character                                                       \n Mode  :character                                                       \n                                                                        \n                                                                        \n                                                                        \n                                                                        \n Condição em relação à força de trabalho e condição de ocupação\n Length:27000                                                  \n Class :character                                              \n Mode  :character                                              \n                                                               \n                                                               \n                                                               \n                                                               \n\n\n\n\nskimr::skim()\nO pacote {skimr} tem uma função chamada skim() que nos dá um sumário das variáveis da base de dados.\nÉ interesante salvar o resultado da função em um objeto, para que possamos acessar as informações posteriormente, em formato de tabela.\n\nlibrary(skimr)\nskim_dados &lt;- skim(dados)\n\nA seguir, podemos ver o resultado da função skim():\n\nskim_dados\n\n\nData summary\n\n\nName\ndados\n\n\nNumber of rows\n27000\n\n\nNumber of columns\n13\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\ncharacter\n12\n\n\nnumeric\n1\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: character\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nempty\nn_unique\nwhitespace\n\n\n\n\nNível Territorial (Código)\n0\n1\n1\n1\n0\n1\n0\n\n\nNível Territorial\n0\n1\n20\n20\n0\n1\n0\n\n\nUnidade de Medida (Código)\n0\n1\n1\n4\n0\n2\n0\n\n\nUnidade de Medida\n0\n1\n1\n11\n0\n2\n0\n\n\nUnidade da Federação (Código)\n0\n1\n2\n2\n0\n27\n0\n\n\nUnidade da Federação\n0\n1\n4\n19\n0\n27\n0\n\n\nTrimestre (Código)\n0\n1\n6\n6\n0\n50\n0\n\n\nTrimestre\n0\n1\n17\n17\n0\n50\n0\n\n\nVariável (Código)\n0\n1\n4\n4\n0\n4\n0\n\n\nVariável\n0\n1\n35\n89\n0\n4\n0\n\n\nCondição em relação à força de trabalho e condição de ocupação (Código)\n0\n1\n5\n5\n0\n5\n0\n\n\nCondição em relação à força de trabalho e condição de ocupação\n0\n1\n5\n30\n0\n5\n0\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\nValor\n1350\n0.95\n862.03\n2896.64\n0.3\n1.5\n7.8\n105.75\n39480\n▇▁▁▁▁\n\n\n\n\n\nO resultado da função skim() é dividido em duas partes:\n\nData summary: informações gerais sobre a base de dados, como: nome do objeto, número de linhas, número de colunas, quantas colunas temos em cada tipo, e se a base está agrupada por alguma variável1.\nVariable type: para cada tipo de variável presente na base de dados, temos informações como:\n\nskim_variable: nome da variável.\nn_missing: número de valores faltantes.\ncomplete_rate: proporção de valores não faltantes (está relacionada com a n_missing).\nOutras colunas específicas segundo o tipo de variável.\n\n\nA seguir, estão as informações que a função skim() retorna para os tipos de variáveis mais frequentes:\n\ncharacter (dados de texto):\n\nmin: número mínimo de caracteres.\nmax: número máximo de caracteres.\nempty: número de linhas contendo valores vazios (um valor vazio é um valor que contém apenas \"\").\nn_unique: número de valores únicos.\nwhitespace: número de linhas contendo apenas espaços em branco.\n\nnumeric (dados numéricos):\n\nmean: média.\nsd: desvio padrão.\np0: valor mínimo.\np25: primeiro quartil.\np50: mediana.\np75: terceiro quartil.\np100: valor máximo.\nhist: histograma dos valores.\n\ndate (datas):\n\nmin: data mínima.\nmax: data máxima.\nmedian: data mediana.\nn_unique: número de datas únicas.\n\nfactor (dados categóricos):\n\nordered: os níveis do fator estão ordenados?\nn_unique: número de valores únicos do fator.\ntop_counts: os valores mais frequentes do fator.\n\nlogical (dados booleanos):\n\nmean: média dos valores, considerando que TRUE é 1 e FALSE é 0.\ncount: contagem dos valores TRUE e FALSE.",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Conhecendo a base de dados"
    ]
  },
  {
    "objectID": "04_conhecendo.html#valores-faltantes-na",
    "href": "04_conhecendo.html#valores-faltantes-na",
    "title": "Conhecendo a base de dados",
    "section": "Valores faltantes (NA)",
    "text": "Valores faltantes (NA)\nA presença de valores faltantes é algo comum em bases de dados. Eles podem ocorrer por diversos motivos, como: não temos a informação, erros de digitação, entre outros.\nÉ importante identificar onde estão esses valores, para que possamos nos atentar em análises futuras.\nExistem algumas funções que nos ajudam a identificar a presença de valores faltantes na base de dados. O pacote {naniar} apresenta funções úteis para isso: a função gg_miss_var() cria uma visualição apresentando o nome das variáveis da base de dados, assim como a quantidade de valores faltantes em cada uma delas.\n\nlibrary(naniar)\n# Valores absolutos\ngg_miss_var(dados)\n\n\n\n\n\n\n\n# Valores relativos\ngg_miss_var(dados, show_pct = TRUE)",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Conhecendo a base de dados"
    ]
  },
  {
    "objectID": "04_conhecendo.html#retornar-algumas-linhas-da-base-de-dados",
    "href": "04_conhecendo.html#retornar-algumas-linhas-da-base-de-dados",
    "title": "Conhecendo a base de dados",
    "section": "Retornar algumas linhas da base de dados",
    "text": "Retornar algumas linhas da base de dados\nEm situações onde trabalharmos com dados que possuem um número de linhas muito grande, não podemos utilizar a função View() para ver a tabela inteira.\nNesse caso, podemos ser interessante usar funções que retornam apenas algumas linhas da base de dados, como head(), tail(), slice_sample(), entre outras.\nAntes de usá-las, vamos adicionar uma coluna que represente o número da linha, para que seja mais fácil identificar as linhas que estamos selecionando:\n\ndados_com_n_linha &lt;- rowid_to_column(dados, \"n_linha\")\n\nAgora podemos usar as funções para retornar algumas linhas da base de dados. Observe os resultados apresentados, e os valores na coluna n_linha:\n\n# Exibindo as primeiras linhas\nhead(dados_com_n_linha)\n\n  n_linha Nível Territorial (Código)    Nível Territorial\n1       1                          3 Unidade da Federação\n2       2                          3 Unidade da Federação\n3       3                          3 Unidade da Federação\n4       4                          3 Unidade da Federação\n5       5                          3 Unidade da Federação\n6       6                          3 Unidade da Federação\n  Unidade de Medida (Código) Unidade de Medida  Valor\n1                       1572       Mil pessoas 1210.0\n2                       1572       Mil pessoas  765.0\n3                       1572       Mil pessoas  703.0\n4                       1572       Mil pessoas   62.0\n5                       1572       Mil pessoas  446.0\n6                          2                 %    0.7\n  Unidade da Federação (Código) Unidade da Federação Trimestre (Código)\n1                            11             Rondônia             201201\n2                            11             Rondônia             201201\n3                            11             Rondônia             201201\n4                            11             Rondônia             201201\n5                            11             Rondônia             201201\n6                            11             Rondônia             201201\n          Trimestre Variável (Código)\n1 1º trimestre 2012              1641\n2 1º trimestre 2012              1641\n3 1º trimestre 2012              1641\n4 1º trimestre 2012              1641\n5 1º trimestre 2012              1641\n6 1º trimestre 2012              4087\n                                                       Variável\n1                           Pessoas de 14 anos ou mais de idade\n2                           Pessoas de 14 anos ou mais de idade\n3                           Pessoas de 14 anos ou mais de idade\n4                           Pessoas de 14 anos ou mais de idade\n5                           Pessoas de 14 anos ou mais de idade\n6 Coeficiente de variação - Pessoas de 14 anos ou mais de idade\n  Condição em relação à força de trabalho e condição de ocupação (Código)\n1                                                                   32385\n2                                                                   32386\n3                                                                   32387\n4                                                                   32446\n5                                                                   32447\n6                                                                   32385\n  Condição em relação à força de trabalho e condição de ocupação\n1                                                          Total\n2                                              Força de trabalho\n3                                    Força de trabalho - ocupada\n4                                 Força de trabalho - desocupada\n5                                      Fora da força de trabalho\n6                                                          Total\n\n# Exibindo as últimas linhas\ntail(dados_com_n_linha)\n\n      n_linha Nível Territorial (Código)    Nível Territorial\n26995   26995                          3 Unidade da Federação\n26996   26996                          3 Unidade da Federação\n26997   26997                          3 Unidade da Federação\n26998   26998                          3 Unidade da Federação\n26999   26999                          3 Unidade da Federação\n27000   27000                          3 Unidade da Federação\n      Unidade de Medida (Código) Unidade de Medida Valor\n26995                          2                 %  31.6\n26996                          2                 %    NA\n26997                          2                 %   1.1\n26998                          2                 %   1.3\n26999                          2                 %   7.4\n27000                          2                 %   2.3\n      Unidade da Federação (Código) Unidade da Federação Trimestre (Código)\n26995                            53     Distrito Federal             202402\n26996                            53     Distrito Federal             202402\n26997                            53     Distrito Federal             202402\n26998                            53     Distrito Federal             202402\n26999                            53     Distrito Federal             202402\n27000                            53     Distrito Federal             202402\n              Trimestre Variável (Código)\n26995 2º trimestre 2024              4104\n26996 2º trimestre 2024              4105\n26997 2º trimestre 2024              4105\n26998 2º trimestre 2024              4105\n26999 2º trimestre 2024              4105\n27000 2º trimestre 2024              4105\n                                                                                       Variável\n26995                           Distribuição percentual das pessoas de 14 anos ou mais de idade\n26996 Coeficiente de variação - Distribuição percentual das pessoas de 14 anos ou mais de idade\n26997 Coeficiente de variação - Distribuição percentual das pessoas de 14 anos ou mais de idade\n26998 Coeficiente de variação - Distribuição percentual das pessoas de 14 anos ou mais de idade\n26999 Coeficiente de variação - Distribuição percentual das pessoas de 14 anos ou mais de idade\n27000 Coeficiente de variação - Distribuição percentual das pessoas de 14 anos ou mais de idade\n      Condição em relação à força de trabalho e condição de ocupação (Código)\n26995                                                                   32447\n26996                                                                   32385\n26997                                                                   32386\n26998                                                                   32387\n26999                                                                   32446\n27000                                                                   32447\n      Condição em relação à força de trabalho e condição de ocupação\n26995                                      Fora da força de trabalho\n26996                                                          Total\n26997                                              Força de trabalho\n26998                                    Força de trabalho - ocupada\n26999                                 Força de trabalho - desocupada\n27000                                      Fora da força de trabalho\n\n# \"Sorteando\" linhas\nslice_sample(dados_com_n_linha, n = 5)\n\n  n_linha Nível Territorial (Código)    Nível Territorial\n1   23315                          3 Unidade da Federação\n2   12084                          3 Unidade da Federação\n3   21994                          3 Unidade da Federação\n4   25226                          3 Unidade da Federação\n5    6230                          3 Unidade da Federação\n  Unidade de Medida (Código) Unidade de Medida Valor\n1                          2                 %  33.4\n2                       1572       Mil pessoas 412.0\n3                          2                 %   2.2\n4                          2                 %   0.5\n5                          2                 %   2.3\n  Unidade da Federação (Código) Unidade da Federação Trimestre (Código)\n1                            50   Mato Grosso do Sul             201504\n2                            26           Pernambuco             201301\n3                            42       Santa Catarina             202402\n4                            52                Goiás             201404\n5                            17            Tocantins             201404\n          Trimestre Variável (Código)\n1 4º trimestre 2015              4104\n2 1º trimestre 2013              1641\n3 2º trimestre 2024              4104\n4 4º trimestre 2014              4087\n5 4º trimestre 2014              4087\n                                                         Variável\n1 Distribuição percentual das pessoas de 14 anos ou mais de idade\n2                             Pessoas de 14 anos ou mais de idade\n3 Distribuição percentual das pessoas de 14 anos ou mais de idade\n4   Coeficiente de variação - Pessoas de 14 anos ou mais de idade\n5   Coeficiente de variação - Pessoas de 14 anos ou mais de idade\n  Condição em relação à força de trabalho e condição de ocupação (Código)\n1                                                                   32447\n2                                                                   32446\n3                                                                   32446\n4                                                                   32385\n5                                                                   32447\n  Condição em relação à força de trabalho e condição de ocupação\n1                                      Fora da força de trabalho\n2                                 Força de trabalho - desocupada\n3                                 Força de trabalho - desocupada\n4                                                          Total\n5                                      Fora da força de trabalho",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Conhecendo a base de dados"
    ]
  },
  {
    "objectID": "04_conhecendo.html#conhecendo-os-valores-únicos-de-uma-coluna",
    "href": "04_conhecendo.html#conhecendo-os-valores-únicos-de-uma-coluna",
    "title": "Conhecendo a base de dados",
    "section": "Conhecendo os valores únicos de uma coluna",
    "text": "Conhecendo os valores únicos de uma coluna\nPara variáveis categóricas ou de texto, é interessante conhecer os valores únicos presentes.\nPara acessar uma coluna específica, utilize o $. Elas retornarão como vetores, e poderemos usar as funções que já conhecemos. Ex: dados$ano.\n\n\n\n\n\n\nDica\n\n\n\nDica: após escrever o nome_do_dataframe$, aperte tab para que o RStudio faça sugestões de colunas da base.\n\n\nA função unique() retorna os valores únicos de um vetor. Exemplo:\n\nunique(dados$`Unidade de Medida`)\n\n[1] \"Mil pessoas\" \"%\"          \n\n\nNote que, nesse caso, foi necessário colocar uma crase para identificar o nome da coluna. Isso acontece porque a coluna contém espaços em branco e, por isso, o R entenderia que o nome da coluna é Unidade e de e Medida. Com a crase, o R entende que o nome da coluna é Unidade de Medida.\n\n\n\n\n\n\nDica\n\n\n\nÉ uma boa prática evitar espaços em branco e caracteres especiais nos nomes das colunas. Em Transformando dados &gt; Padronizar nome das colunas apresentaremos uma forma de fazer isso!\n\n\nOutra forma de extrair o conteúdo de uma coluna é utilizando o operador [[:\n\nunique(dados[[\"Unidade de Medida\"]])\n\n[1] \"Mil pessoas\" \"%\"          \n\n\nO resultado é o mesmo, mas dessa forma utilizamos o nome da coluna em texto (string) para acessar a coluna.",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Conhecendo a base de dados"
    ]
  },
  {
    "objectID": "04_conhecendo.html#footnotes",
    "href": "04_conhecendo.html#footnotes",
    "title": "Conhecendo a base de dados",
    "section": "Notas de rodapé",
    "text": "Notas de rodapé\n\n\nAinda não abordamos o conceito de grupos, então isso ficará mais claro posteriormente.↩︎",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Conhecendo a base de dados"
    ]
  },
  {
    "objectID": "00_intro_etapas_analise.html",
    "href": "00_intro_etapas_analise.html",
    "title": "Introdução",
    "section": "",
    "text": "Na seção “Conceitos básicos”, abordamos alguns conceitos importantes para começar a programar em R.\nNesta seção, cada aula apresentará uma etapa comum quando realizamos uma análise de dados.\nA figura abaixo ilustra algumas etapas comuns em uma análise de dados, conforme apresentado no livro “R para Ciência de Dados”:\n\n\n\nProcesso de ciência de dados, por Wickham, Çetinkaya-Rundel e Grolemund\n\n\nO principal pacote que utilizaremos é o tidyverse. O tidyverse é uma coleção de pacotes em R desenvolvidos com o objetivo de facilitar etapas de análise de dados. Os pacotes do tidyverse compartilham uma filosofia comum e são projetados para funcionar bem juntos.\n\n\n\nPacotes principais (core packages) do tidyverse. Fonte: Site do tidyverse.\n\n\nPortanto, é importante checar se o tidyverse está instalado e carregá-lo no início de cada aula:\n\nlibrary(\"tidyverse\")\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\n\nO livro “R para Ciência de Dados” foi escrito por pessoas que trabalham (ou trabalharam) no desenvolvimento do tidyverse, e é uma excelente referência para estudar mais. Para cada aula, indicaremos seções do livro que podem ser úteis para aprofundar o conteúdo.",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Introdução"
    ]
  },
  {
    "objectID": "index.html#introdução-ao-material",
    "href": "index.html#introdução-ao-material",
    "title": "Introdução à análise de dados no R",
    "section": "Introdução ao material",
    "text": "Introdução ao material\nEste site apresenta o material de apoio para o curso “Introdução à análise de dados no R”, oferecido em 2024 para servidores do Instituto de Pesquisa Econômica Aplicada (Ipea). O curso será realizado de forma remota híbrida, com aulas ao vivo e atividades práticas.\n\n\n\n\n\n\nImportante\n\n\n\nRecomendamos que todas as pessoas participantes instalem o R e o RStudio antes do início do curso. Para isso, siga as instruções disponíveis na página Instruções de instalação.\nCaso tenha alguma dificuldade, entre em contato com a equipe do curso o quanto antes.",
    "crumbs": [
      "Pré-curso",
      "Introdução à análise de dados no R"
    ]
  },
  {
    "objectID": "index.html#equipe-do-curso",
    "href": "index.html#equipe-do-curso",
    "title": "Introdução à análise de dados no R",
    "section": "Equipe do curso",
    "text": "Equipe do curso\nBeatriz Milz  Pesquisadora Colaboradora | Estágio pós-doutoral  Laboratório de Planejamento Territorial (LaPlan) - Universidade Federal do ABC (UFABC)  Email | GitHub | LinkedIn | ResearchGate | Currículo Lattes | Orcid\nPedro Cavalcanti Gonçalves Ferreira  Coordenação de Ciência de Dados - COCD  Instituto de Pesquisa Econômica Aplicada (Ipea)  GitHub | LinkedIn | Currículo Lattes | Orcid\nRafael H. M. Pereira  Coordenador de Ciência de Dados  Instituto de Pesquisa Econômica Aplicada (Ipea)  Website | Google Scholar | Linkedin |",
    "crumbs": [
      "Pré-curso",
      "Introdução à análise de dados no R"
    ]
  },
  {
    "objectID": "index.html#sobre-este-material",
    "href": "index.html#sobre-este-material",
    "title": "Introdução à análise de dados no R",
    "section": "Sobre este material",
    "text": "Sobre este material\n\nContribuidores\nAlém da equipe do curso, esse material recebeu contribuições de:\n\nJulio Trecenti\n\n\n\nLicença\nEsse material está disponível sob a licença CC BY-SA 4.0.",
    "crumbs": [
      "Pré-curso",
      "Introdução à análise de dados no R"
    ]
  },
  {
    "objectID": "07_visualizacao.html",
    "href": "07_visualizacao.html",
    "title": "Visualizando dados",
    "section": "",
    "text": "Nesta aula:\n\nConheceremos o pacote ggplot2 para visualização de dados\nAprenderemos a criar diferentes tipos de gráficos como: de dispersão, linha, barra/coluna, entre outros\nVeremos como salvar os gráficos criados\nExploraremos funções para customizar a aparência dos gráficos\n\nNesta aula, utilizaremos principalmente os pacotes {ggplot2} e {dplyr}. Vamos carregá-los:\n\n1library(ggplot2)\n2library(dplyr)\n\n\n1\n\nPacote para visualização de dados\n\n2\n\nPacote para transformação de dados",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Visualizando dados"
    ]
  },
  {
    "objectID": "07_visualizacao.html#objetivos",
    "href": "07_visualizacao.html#objetivos",
    "title": "Visualizando dados",
    "section": "",
    "text": "Nesta aula:\n\nConheceremos o pacote ggplot2 para visualização de dados\nAprenderemos a criar diferentes tipos de gráficos como: de dispersão, linha, barra/coluna, entre outros\nVeremos como salvar os gráficos criados\nExploraremos funções para customizar a aparência dos gráficos\n\nNesta aula, utilizaremos principalmente os pacotes {ggplot2} e {dplyr}. Vamos carregá-los:\n\n1library(ggplot2)\n2library(dplyr)\n\n\n1\n\nPacote para visualização de dados\n\n2\n\nPacote para transformação de dados",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Visualizando dados"
    ]
  },
  {
    "objectID": "07_visualizacao.html#importando-dados",
    "href": "07_visualizacao.html#importando-dados",
    "title": "Visualizando dados",
    "section": "Importando dados",
    "text": "Importando dados\nNesta aula, utilizaremos a tabela preparada na aula sobre transformação de dados: \"dados_output/sidra_4092_arrumado.rds\".\n\n\n\n\n\n\nExpanda para fazer download da base de dados\n\n\n\n\n\nCaso não tenha o arquivo da tabela que utilizaremos, você pode baixar aqui, e copiar o arquivo para a pasta dados_output do seu projeto.\nOutra opção é executar o código abaixo:\n\ndownload.file(\n1  url = \"https://github.com/ipeadata-lab/curso_r_intro_202409/raw/refs/heads/main/dados_output/sidra_4092_arrumado.rds\",\n2  destfile = \"dados_output/sidra_4092_arrumado.rds\",\n3  mode = \"wb\"\n  )\n\n\n1\n\nURL que desejamos baixar\n\n2\n\nCaminho onde queremos baixar o arquivo (diretório + nome do arquivo + extensão do arquivo)\n\n3\n\nConfiguração que evita corromper arquivos binários.\n\n\n\n\n\n\n\nVamos carregar a base de dados com a função read_rds():\n\n1dados &lt;- readr::read_rds(\"dados_output/sidra_4092_arrumado.rds\")\n2glimpse(dados)\n\n\n1\n\nImportando os dados\n\n2\n\nEspiando a tabela: quantas colunas tem? quantas linhas? quais são as variáveis?\n\n\n\n\nRows: 1,350\nColumns: 16\n$ uf                                       &lt;chr&gt; \"Amapá\", \"Bahia\", \"Rio Grande…\n$ uf_codigo                                &lt;fct&gt; 16, 29, 24, 27, 13, 28, 25, 2…\n$ uf_sigla                                 &lt;chr&gt; \"AP\", \"BA\", \"RN\", \"AL\", \"AM\",…\n$ regiao                                   &lt;chr&gt; \"Norte\", \"Nordeste\", \"Nordest…\n$ trimestre                                &lt;chr&gt; \"1º trimestre 2012\", \"1º trim…\n$ trimestre_codigo                         &lt;chr&gt; \"201201\", \"201201\", \"201201\",…\n$ ano                                      &lt;dbl&gt; 2012, 2012, 2012, 2012, 2012,…\n$ trimestre_inicio                         &lt;date&gt; 2012-01-01, 2012-01-01, 2012…\n$ mil_pessoas_total                        &lt;dbl&gt; 487, 10986, 2540, 2383, 2463,…\n$ mil_pessoas_forca_de_trabalho            &lt;dbl&gt; 318, 6888, 1370, 1173, 1558, …\n$ mil_pessoas_forca_de_trabalho_ocupada    &lt;dbl&gt; 278, 6086, 1211, 1041, 1386, …\n$ mil_pessoas_forca_de_trabalho_desocupada &lt;dbl&gt; 40, 802, 159, 133, 173, 99, 1…\n$ mil_pessoas_fora_da_forca_de_trabalho    &lt;dbl&gt; 170, 4098, 1170, 1210, 905, 6…\n$ prop_desocupacao                         &lt;dbl&gt; 0.12578616, 0.11643438, 0.116…\n$ perc_desocupacao                         &lt;dbl&gt; 12.578616, 11.643438, 11.6058…\n$ periodo_pandemia                         &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Visualizando dados"
    ]
  },
  {
    "objectID": "07_visualizacao.html#o-que-é-o-ggplot2",
    "href": "07_visualizacao.html#o-que-é-o-ggplot2",
    "title": "Visualizando dados",
    "section": "O que é o ggplot2?",
    "text": "O que é o ggplot2?\nO ggplot2 é o principal pacote para criação de gráficos em R. Ele é baseado na gramática de gráficos, uma teoria que apresenta uma forma de descrever os componentes de um gráfico.\nO ggplot2 faz parte do tidyverse.",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Visualizando dados"
    ]
  },
  {
    "objectID": "07_visualizacao.html#vocabulário-do-ggplot2",
    "href": "07_visualizacao.html#vocabulário-do-ggplot2",
    "title": "Visualizando dados",
    "section": "Vocabulário do ggplot2",
    "text": "Vocabulário do ggplot2\nA gramática de gráficos é composta por alguns elementos, sendo os seguintes principais para iniciar:\n\nDados: um data frame que contém os dados que serão apresentados\nAesthetics (atributos estéticos): mapeamento dos dados para propriedades visuais do gráfico, como eixos, cor, forma e tamanho\nGeometrias: formas geométricas que representam os dados, como pontos, linhas e barras.\n\nVeja o exemplo abaixo, e observe as anotações que explicam cada parte do código:\n\n1dados |&gt;\n2  ggplot() +\n3  aes(x = trimestre_inicio, y = perc_desocupacao) +\n4  geom_point()\n\n\n1\n\nDados: dados que serão utilizados\n\n2\n\nggplot(): função para iniciar o gráfico\n\n3\n\nAesthetics (atributos estéticos): informando quais variáveis serão utilizadas nos eixos x e y\n\n4\n\nGeometria do gráfico: informando que faremos um gráfico de pontos\n\n\n\n\n\n\n\n\n\n\n\n\nAtenção: Observe que a cada linha de código, adicionamos um + para adicionar um novo elemento ao gráfico.",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Visualizando dados"
    ]
  },
  {
    "objectID": "07_visualizacao.html#gráficos-de-dispersão",
    "href": "07_visualizacao.html#gráficos-de-dispersão",
    "title": "Visualizando dados",
    "section": "Gráficos de dispersão",
    "text": "Gráficos de dispersão\nVamos começar criando um gráfico de dispersão com o ggplot2. Para isso, utilizaremos a função ggplot() e a função geom_point().\n\ndados\n\n# A tibble: 1,350 × 16\n   uf                 uf_codigo uf_sigla regiao trimestre trimestre_codigo   ano\n   &lt;chr&gt;              &lt;fct&gt;     &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;            &lt;dbl&gt;\n 1 Amapá              16        AP       Norte  1º trime… 201201            2012\n 2 Bahia              29        BA       Norde… 1º trime… 201201            2012\n 3 Rio Grande do Nor… 24        RN       Norde… 1º trime… 201201            2012\n 4 Alagoas            27        AL       Norde… 1º trime… 201201            2012\n 5 Amazonas           13        AM       Norte  1º trime… 201201            2012\n 6 Sergipe            28        SE       Norde… 1º trime… 201201            2012\n 7 Paraíba            25        PB       Norde… 1º trime… 201201            2012\n 8 Pernambuco         26        PE       Norde… 1º trime… 201201            2012\n 9 Acre               12        AC       Norte  1º trime… 201201            2012\n10 Distrito Federal   53        DF       Centr… 1º trime… 201201            2012\n# ℹ 1,340 more rows\n# ℹ 9 more variables: trimestre_inicio &lt;date&gt;, mil_pessoas_total &lt;dbl&gt;,\n#   mil_pessoas_forca_de_trabalho &lt;dbl&gt;,\n#   mil_pessoas_forca_de_trabalho_ocupada &lt;dbl&gt;,\n#   mil_pessoas_forca_de_trabalho_desocupada &lt;dbl&gt;,\n#   mil_pessoas_fora_da_forca_de_trabalho &lt;dbl&gt;, prop_desocupacao &lt;dbl&gt;,\n#   perc_desocupacao &lt;dbl&gt;, periodo_pandemia &lt;dbl&gt;",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Visualizando dados"
    ]
  },
  {
    "objectID": "07_visualizacao.html#gráficos-de-dispersão-1",
    "href": "07_visualizacao.html#gráficos-de-dispersão-1",
    "title": "Visualizando dados",
    "section": "Gráficos de dispersão",
    "text": "Gráficos de dispersão",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Visualizando dados"
    ]
  },
  {
    "objectID": "07_visualizacao.html#gráficos-de-linha",
    "href": "07_visualizacao.html#gráficos-de-linha",
    "title": "Visualizando dados",
    "section": "Gráficos de linha",
    "text": "Gráficos de linha",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Visualizando dados"
    ]
  },
  {
    "objectID": "07_visualizacao.html#gráficos-de-barracoluna",
    "href": "07_visualizacao.html#gráficos-de-barracoluna",
    "title": "Visualizando dados",
    "section": "Gráficos de barra/coluna",
    "text": "Gráficos de barra/coluna",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Visualizando dados"
    ]
  },
  {
    "objectID": "07_visualizacao.html#gráficos-por-subgrupos-por-colorfill-ou-facet",
    "href": "07_visualizacao.html#gráficos-por-subgrupos-por-colorfill-ou-facet",
    "title": "Visualizando dados",
    "section": "Gráficos por subgrupos por color/fill ou facet",
    "text": "Gráficos por subgrupos por color/fill ou facet",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Visualizando dados"
    ]
  },
  {
    "objectID": "07_visualizacao.html#salvando-os-gráficos",
    "href": "07_visualizacao.html#salvando-os-gráficos",
    "title": "Visualizando dados",
    "section": "Salvando os gráficos",
    "text": "Salvando os gráficos",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Visualizando dados"
    ]
  },
  {
    "objectID": "07_visualizacao.html#mudanças-de-layout-com-ggthemes-e-ipeaplot",
    "href": "07_visualizacao.html#mudanças-de-layout-com-ggthemes-e-ipeaplot",
    "title": "Visualizando dados",
    "section": "Mudanças de layout com ggthemes e ipeaplot",
    "text": "Mudanças de layout com ggthemes e ipeaplot",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Visualizando dados"
    ]
  },
  {
    "objectID": "07_visualizacao.html#sugestões-de-materiais",
    "href": "07_visualizacao.html#sugestões-de-materiais",
    "title": "Visualizando dados",
    "section": "Sugestões de materiais",
    "text": "Sugestões de materiais\n\nLivro R para Ciência de Dados 2ed:\n\nVisualização de dados\nVsualizar\nVisualizar: Camadas\nVisualizar: Análise exploratória de dados\nVisualizar: Comunicação\n\nLivro: Metodologia de Pesquisa Jurimétrica:\n\nCapítulo 4 - Visualização\n\n\n\nExtras: Curiosidades e Referências\n\nGrammar of Graphics - livro de Leland Wilkinson, cuja teoria é a base do ggplot2\nggplot2: Elegant Graphics for Data Analysis - livro de Hadley Wickham, criador do ggplot2, Danielle Navarro e Thomas Lin Pedersen (em inglês)",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Visualizando dados"
    ]
  },
  {
    "objectID": "10_censobr_conceitos.html",
    "href": "10_censobr_conceitos.html",
    "title": "Conceitos iniciais do Censo",
    "section": "",
    "text": "O censo demográfico brasileiro é a principal pesquisa populacional domiciliar realizada no Brasil, conduzida pelo Instituto Brasileiro de Geografia e Estatística (IBGE). Trata-se da pesquisa de maior cobertura territorial do país, e que levanta informações sobre as características e condições de vida da população brasileira nos mais diversos temas, como perfil demográfico, educação, trabalho, fecundidade, migração, condições de moradia, etc.\nNesta seção, nós revisamos alguns conceitos básicos sobre a organização dos censos demográficos no Brasil.",
    "crumbs": [
      "Explorando o Censo Demográfico",
      "Conceitos iniciais do Censo"
    ]
  },
  {
    "objectID": "10_censobr_conceitos.html#pesquisa-da-amostra-e-do-universo",
    "href": "10_censobr_conceitos.html#pesquisa-da-amostra-e-do-universo",
    "title": "Conceitos iniciais do Censo",
    "section": "Pesquisa da amostra e do universo",
    "text": "Pesquisa da amostra e do universo\nDesde 1960, o Censo Demográfico passou a consistir de duas pesquisas realizadas simultaneamente.\n\nUniverso: uma pesquisa aplicada a todos os domicílios (ou universo). Esta pesquisa é feita com um questionário básico que costuma ser curto, contendo entre 9 e 30 questões, dependendo da edição do censo.\nAmostra: uma pesquisa amostral aplicada a apenas uma parcela dos domicílios. A fração amostral era de 25% nos anos de 1960, 1970 e 1980 e passou para cerca de 10% em 1991 em diante. Esta pesquisa é feita com um questionário mais extenso.",
    "crumbs": [
      "Explorando o Censo Demográfico",
      "Conceitos iniciais do Censo"
    ]
  },
  {
    "objectID": "10_censobr_conceitos.html#microdados-da-amostra-e-dados-agregados-do-universo",
    "href": "10_censobr_conceitos.html#microdados-da-amostra-e-dados-agregados-do-universo",
    "title": "Conceitos iniciais do Censo",
    "section": "Microdados da Amostra e Dados Agregados do Universo",
    "text": "Microdados da Amostra e Dados Agregados do Universo\nMicrodados são bancos de dados em que cada observação representa uma unidade de coleta de informação. Nos censos, os microdados se referem aos arquivos em que cada observação ou linha são domicílios ou pessoas. A noção de microdados se contrapõe à de dados agregados, nos quais os casos são “agregações” das informações obtidas a partir por exemplo da soma ou das médias das informações dos microdados. Tais agregações podem ser, por exemplo, no nível de bairros, distritos, municípios etc.\n\n\n\n\n\n\nImportante\n\n\n\nOs dados disponibilizados pelo IBGE, e que estão disponíveis no pacote {censobr} incluem tnato os microdados da pesquisa amostral quanto os dados do universo agregados por setor censitário.\nObs. O IBGE não disponibiliza os microdados do universo porque a sua divulgação poderia violar o sigilo dos respondentes.",
    "crumbs": [
      "Explorando o Censo Demográfico",
      "Conceitos iniciais do Censo"
    ]
  },
  {
    "objectID": "10_censobr_conceitos.html#setores-censitários-e-áreas-de-ponderação",
    "href": "10_censobr_conceitos.html#setores-censitários-e-áreas-de-ponderação",
    "title": "Conceitos iniciais do Censo",
    "section": "Setores Censitários e Áreas de Ponderação",
    "text": "Setores Censitários e Áreas de Ponderação\nCom os Microdados da Amostra é possível fazer análises por indivíduos, famílias e domicílios. Mas análises espaciais, que levam em conta vizinhanças e distâncias geográficas, por exemplo, também podem ser de interesse. Nesse caso, é importante ter ciência da granularidade dos dados – i.e. de qual a menor unidade espacial que permite inferência estatística. Para isso, cabe destacar as duas principais unidades espaciais na construção dos censos demográficos:\n\nSetores censitários\n\nOs setores censitários são a menor unidade de análise espacial nas pesquisas domiciliares do IBGE. Um setor é uma unidade territorial demarcada para fins operacionais de organizar a coleta de dados. Cada setor é coberto por um único recenseador e possui em média, cerca de 200 domicílios. No entanto, este número, assim como o tamanho do setor podem variar a depender da densidade demográfica de cada região. Os dados do universo são disponibilizados apenas no formato agregado por setores censitários.\n\n\n\nÁreas de ponderação\n\nAs áreas de ponderação são a menor unidade espacial para a qual os dados da pesquisa amostral possuem representatividade estatística. Essas áreas são constituídas por agrupamentos de setores censitários contíguos, mas que também variam de acordo com a densidade demográfica de cada região. Para o Censo de 2010, o IBGE estabeleceu que uma área de ponderação deveria ter, no mínimo, 400 domicílios ocupados na amostra. Em regiões menos densamente povoadas, essas áreas acabam ocupando uma larga extensão territorial.\n\n\n\nCódigo\nlibrary(geobr)\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(sf)\n\n# codigo do municipio de Belford Roxo\nmymuni &lt;- 3300456\n\n# baixa geometria do municipio\nmuni &lt;- geobr::read_municipality(mymuni)\n\n# baixa geometria das areas de ponderacao\nap &lt;- geobr::read_weighting_area(code_weighting = mymuni, \n                                 year = 2010, \n                                 simplified = F)\n\n# baixa geometria dos setores censitarios\nct &lt;- geobr::read_census_tract(code_tract = mymuni, \n                               year = 2010, \n                               simplified = FALSE)\n\n# funcao para 'inclinar' mapa\nrotate_data_geom &lt;- function(data, x_add = 0, y_add = 0) {\n  shear_matrix &lt;- function(){ matrix(c(2, 1.2, 0, 1), 2, 2) }\n  \n  rotate_matrix &lt;- function(x) { \n    matrix(c(cos(x), sin(x), -sin(x), cos(x)), 2, 2) \n  }\n  dplyr::mutate(data,\n    geom = geom * shear_matrix() * rotate_matrix(pi/20) + c(x_add, y_add)\n    )\n}\n\n\n# annotate parameters\nx = -116.03\nclr = 'gray40'\nsz = 4\n\n# MAP\ntemp1  &lt;- ggplot() +\n  # municipio\n  geom_sf(data = rotate_data_geom(data = muni, y_add = .01),\n          color='gray30', fill='#FCDE70', show.legend = FALSE) +\n  annotate(\"text\", label='Município', x=x, y=-4.59,\n           hjust = 0, color=clr, size=sz) +\n  \n  # areas de ponderacao\n  geom_sf(data = rotate_data_geom(data = ap, y_add = .07), \n          fill='#ff7b7b', color='#ff0000', show.legend = FALSE) +\n  annotate(\"text\", label='Áreas de\\nPonderação', x=x, y= -4.53,\n           hjust = 0, color=clr, size=sz) +\n\n  # setores censitarios\n  geom_sf(data = rotate_data_geom(data = ct, y_add = 0.13),\n          color='gray30', fill='gray98', show.legend = FALSE) +\n  annotate(\"text\", label='Setores\\nCensitários', x=x, y= -4.47, \n           hjust = 0, color=clr, size=sz) +\n  coord_sf(xlim = c(-116.305, -115.98)) +\n  theme_void() +\n  theme(plot.background = element_rect(fill = 'white', color='white'))\n\ntemp1\n# ggsave(temp1, filename = 'fig_spatial_layers.png', \n#        width = 12, height = 8, units = 'cm', dpi = 300)",
    "crumbs": [
      "Explorando o Censo Demográfico",
      "Conceitos iniciais do Censo"
    ]
  },
  {
    "objectID": "12_censobr_agregados_setores.html",
    "href": "12_censobr_agregados_setores.html",
    "title": "Agregados dos Setores Censitários",
    "section": "",
    "text": "Talvez os conjuntos de dados mais comumente usados dos censos brasileiros sejam os microdados de pessoas e domicílios. No entanto, o IBGE também disponibiliza dados muito ricos sobre as características populacionais e ambientais agregados no nível de setores censitários. Neste capítulo, mostramos como usar o pacote {censobr} para acessar facilmente esses dados usando a função read_tracts().\n\n\nNo seu formato original, os dados agregados no nível de setores censitários estão divididos em diferentes tipos de variáveis (e.g. variáveis de características de pessoas, de domicílios, etc). Em muitos casos, esses conjuntos de variáveis estão espalhadas por vários arquivos (em alguns casos com centenas variáveis). Para facilitar o entendimento desses dados, o {censobr} reúne todos os arquivos / variáveis em 8 tabelas:\n\n\"Basico\"\n\"Entorno\"\n\"Domicilio\"\n\"Pessoa\"\n\"Responsavel\"\n\"PessoaRenda\"\n\"DomicilioRenda\"\n\"ResponsavelRenda\"\n\nTodas estas tabelas estão organizadas seguindo a mesma lógica. Nos casos em que as variáveis de uma tabela provêm de arquivos diferentes, o nome da variável recebe um prefixo indicando a sua tabela de origem. Isso é feito para facilitar a consulta do significado de cada coluna no arquivo de dicionário variáveis (no próximo capítulo a gente vai ver como baixar os dicionários variáveis dos censos).\nPara ilustrar isso, vejamos a tabela com variáveis de \"Domicilio\". Essa tabela provêm de dois arquivos separados: Domicilio01 e Domicilio02. Assim, os nomes das colunas nessa tabela são organizados da seguinte maneira:\n\nlibrary(censobr)\n\n# baixa dados agregados de setores: variáveis de domicilios\ndom &lt;- read_tracts(year = 2010, \n                   dataset = 'Domicilio',\n                   as_data_frame = FALSE,\n                   showProgress = FALSE)\n\nnames(dom)[c(1:12,301:306)]\n\n [1] \"code_tract\"        \"code_weighting\"    \"code_muni\"        \n [4] \"code_state\"        \"abbrev_state\"      \"name_state\"       \n [7] \"code_region\"       \"name_region\"       \"domicilio01_V1005\"\n[10] \"domicilio01_V001\"  \"domicilio01_V002\"  \"domicilio01_V003\" \n[13] \"domicilio02_V050\"  \"domicilio02_V051\"  \"domicilio02_V052\" \n[16] \"domicilio02_V053\"  \"domicilio02_V054\"  \"domicilio02_V055\" \n\n\n\n\n\nPara verificar o significado de cada variável, você pode executar o comando data_dictionary(), que abrirá no navegador um arquivo .html ou .pdf com o dicionário de variáveis de cada conjunto de dados (ver mais info no capítulo 6 sobre Documentação).\n\ndata_dictionary(year = 2010,\n                dataset = 'tracts')\n\n\n\n\nEssa organização dos dados agregados por setores censitários parece confusa a primeira vista. E é mesmo. Mas essa organização fica mais clara com alguns exemplos práticos.\nNesta seção, nós vamos utilizar alguns exemplos para ilustrar como trabalhar com dados no nível de setor censitário. Primeiro, precisamos carregar as bibliotecas que usaremos neste tutorial.\n\nlibrary(censobr)\nlibrary(geobr)\nlibrary(arrow)\nlibrary(dplyr)\nlibrary(ggplot2)\n\nNos dois exemplos abaixo, usaremos a cidade de Belo Horizonte para fins de demonstração. No primeiro exemplo, nós vamos mapear a distribuição espacial da renda com dados de 2010. No segundo exemplo, nós vamos mapear a distribuição espacial da densidade populacional de BH com os dados preliminares do censo de 2022.\n\n\nNeste primeiro exemplo, criaremos um mapa da distribuição espacial da renda média per capita. A informação sobre o número total de residentes em cada setor censitário está disponível na tabela com conjunto de variáveis do bloco \"Basico\", na variável \"V002\". Já a informação sobre renda total do setor censiário pode ser encontradas na tabela do bloco \"DomicilioRenda\", na variável \"V003\".\nUtilizando o código abaixo, podemos baixar os dados e calcular a renda per capita de todos os setores censitários no Brasil. Posteriormente nós vamos filtrar esses resultados para ficar apenas com os setores de BH.\n\n# baixa os dados\n1tract_basico &lt;- read_tracts(year = 2010,\n                            dataset = \"Basico\",\n                            showProgress = FALSE)\n\n2tract_income &lt;- read_tracts(year = 2010,\n                            dataset = \"DomicilioRenda\",\n                            showProgress = FALSE)     \n\n# selecionar conlunas\n3tract_basico &lt;- tract_basico |&gt; select('code_tract','V002')\ntract_income &lt;- tract_income |&gt; select('code_tract','V003')\n\n# unir as tabelass\n4tracts_df10 &lt;- left_join(tract_basico, tract_income)\n                \n\n# calcular a renda per capita\ntracts_df10 &lt;- tracts_df10 |&gt; \n5                mutate(income_pc = V003 / V002) |&gt;\n6                collect()\n\nhead(tracts_df10)\n\n\n1\n\nDownload de dados do bloco Basico\n\n2\n\nDownload de dados do bloco DomicilioRenda\n\n3\n\nSeleciona apenas as variáveis que vamos utilizar\n\n4\n\nJunta as duas variáveis num único data.frame\n\n5\n\nCacula renda per capita de cada setor censitário\n\n6\n\nExtração dos resultados\n\n\n\n\n        code_tract  V002   V003 income_pc\n            &lt;char&gt; &lt;num&gt;  &lt;num&gt;     &lt;num&gt;\n1: 293076605000017   715 149721 209.40000\n2: 293076605000018   697 110160 158.04878\n3: 293076605000019   115  18905 164.39130\n4: 293076605000020   301  32147 106.80066\n5: 293076605000021    55   3904  70.98182\n6: 293076605000022   503  32177  63.97018\n\n\nO próximo passo é baixar as geometrias dos setores censitários de BH em 2010 com a função read_census_tract, do pacote {geobr}. Aqui, nós passamos o parâmetro code_tract = \"MG\" baixar os todos os setores do estado de Minas Gerais e depois filtramos apenas o município de Belo Horizonte.\n\n# busca qual o código do municipio de Belo Horizonte\nbh_info &lt;- geobr::lookup_muni(name_muni = 'Belo Horizonte')\n#&gt; code_muni: 3106200\n\n# baixa municipio de BH\nmuni_bh &lt;- geobr::read_municipality(code_muni = 'MG', \n                                    year = 2010,\n                                    showProgress = FALSE) |&gt;\n           filter(name_muni == \"Belo Horizonte\")\n\n# baixa todos setores de Minas Gerais\ntracts_2010 &lt;- geobr::read_census_tract(code_tract = \"MG\",\n                                        year = 2010,\n                                        simplified = FALSE,\n1                                        showProgress = FALSE)\n\n# filtra setores de BH\ntracts_2010 &lt;- filter(tracts_2010, name_muni == 'Belo Horizonte')\n\n# mapa de setores censitarios\nggplot() + \n  geom_sf(data=tracts_2010, fill = 'gray90', color='gray60') +\n  theme_void()\n\n\n1\n\nO comportamento padrão do {geobr} é baixar uma versão da malha espacial com geometrias ligeiramente simplificadas (simplified = TRUE) para agilizar o processamento e visualização de dados. Aqui, nós baixamos os dados com geometrias originais devido à escala espacial da visualização dos resultados.\n\n\n\n\n\n\n\n\n\n\n\nPor fim, a gente pode fazer um merge dos dados espaciais e de renda dos setores censitários usando como variável chave o código do setor censitário (code_tract) e criar o mapa da distribuição espacial da renda per capita do município.\n\nbh_tracts &lt;- left_join(tracts_2010, tracts_df10, by = 'code_tract')\n\nggplot() +\n  geom_sf(data = bh_tracts, aes(fill = ifelse(income_pc&lt;10000,income_pc,10000)), \n          color=NA) +\n  geom_sf(data = muni_bh, color='gray10', fill=NA) +\n  labs(title = 'Renda per capita dos setores censitários',\n       subtitle= 'Belo Horizonte, 2010') +\n  scale_fill_viridis_c(name = \"Reda per\\ncapita (R$)\",\n                       na.value=\"white\",\n                       option = 'cividis',\n                       breaks = c(0,  1e3, 4e3, 8e3, 1e4) ,\n                        labels  = c('0',  '1.000', '4.000', '8.000', '&gt; 10.000')\n                       ) +\n  theme_void()\n\n\n\n\n\n\n\n\n\n\n\nNeste segundo exemplo, nós vamos utilizar os resultados \"Preliminares\" dos agregados dos setores censitários do censo de 2022, que foram divulgados pelo IBGE em março de 2024. Em particular, vamos utilizar a variável V0001 que informa a população total dos setores. Além disso, como houve uma mudança na malha espacial de setores censitários entre 2010 e 2022, nós precisamos baixar a malha do ano correspondente.\n\n# download dados preliminares dos setores de 2022\ntracts_df22 &lt;- read_tracts(year = 2022,\n                          dataset = \"Preliminares\",\n                          showProgress = FALSE) |&gt;\n               filter(name_muni == 'Belo Horizonte') |&gt;\n               collect()\n\n# baixa todos setores de Minas Gerais\ntracts_2022 &lt;- geobr::read_census_tract(code_tract = \"MG\",\n                                        year = 2022,\n                                        simplified = FALSE,\n                                        showProgress = FALSE)\n\n# filtra setores de BH\ntracts_2022 &lt;- filter(tracts_2022, name_muni == 'Belo Horizonte')\n\nAgora a gente pode fazer um merge da tabela de população com os dados espaciais, calcular a área dos setores em Km2 e a densidade demográfica de cada setor, e criar o mapa.\n\n# merge tables\ntracts_df22$code_tract &lt;- as.numeric(tracts_df22$code_tract)\nbh_tracts22 &lt;- left_join(tracts_2022, tracts_df22, by = 'code_tract')\n\n# calcula a área dos setores\nbh_tracts22 &lt;- bh_tracts22 |&gt;\n              mutate(tract_aream2 = sf::st_area(tracts_2022),\n                     tract_areakm2 = units::set_units(tract_aream2, km2))\n\n# calcula densidade demografica\nbh_tracts22 &lt;- bh_tracts22 |&gt;\n               mutate(pop_km2 = as.numeric(V0001/ tract_areakm2))\n\n# map\nggplot() +\n  geom_sf(data = bh_tracts22, color=NA,\n          aes(fill = ifelse(pop_km2&lt;20000,pop_km2,20000))) +\n  geom_sf(data = muni_bh, color='gray10', fill=NA) +\n  labs(title = 'Densidade populacional dos setores censitários',\n       subtitle= 'Belo Horizonte, 2022') +\n  scale_fill_distiller(palette = \"Reds\", direction = 1, \n                       name='População por'~Km^2,\n                       breaks = c(0,  5e3, 10e3, 15e3, 2e4) ,\n                       labels  = c('0',  '5.000', '10.000', '15.000', '&gt; 20.000')) +\n  theme_void()",
    "crumbs": [
      "Explorando o Censo Demográfico",
      "Agregados dos Setores Censitários"
    ]
  },
  {
    "objectID": "12_censobr_agregados_setores.html#estrutura-dos-dados",
    "href": "12_censobr_agregados_setores.html#estrutura-dos-dados",
    "title": "Agregados dos Setores Censitários",
    "section": "",
    "text": "No seu formato original, os dados agregados no nível de setores censitários estão divididos em diferentes tipos de variáveis (e.g. variáveis de características de pessoas, de domicílios, etc). Em muitos casos, esses conjuntos de variáveis estão espalhadas por vários arquivos (em alguns casos com centenas variáveis). Para facilitar o entendimento desses dados, o {censobr} reúne todos os arquivos / variáveis em 8 tabelas:\n\n\"Basico\"\n\"Entorno\"\n\"Domicilio\"\n\"Pessoa\"\n\"Responsavel\"\n\"PessoaRenda\"\n\"DomicilioRenda\"\n\"ResponsavelRenda\"\n\nTodas estas tabelas estão organizadas seguindo a mesma lógica. Nos casos em que as variáveis de uma tabela provêm de arquivos diferentes, o nome da variável recebe um prefixo indicando a sua tabela de origem. Isso é feito para facilitar a consulta do significado de cada coluna no arquivo de dicionário variáveis (no próximo capítulo a gente vai ver como baixar os dicionários variáveis dos censos).\nPara ilustrar isso, vejamos a tabela com variáveis de \"Domicilio\". Essa tabela provêm de dois arquivos separados: Domicilio01 e Domicilio02. Assim, os nomes das colunas nessa tabela são organizados da seguinte maneira:\n\nlibrary(censobr)\n\n# baixa dados agregados de setores: variáveis de domicilios\ndom &lt;- read_tracts(year = 2010, \n                   dataset = 'Domicilio',\n                   as_data_frame = FALSE,\n                   showProgress = FALSE)\n\nnames(dom)[c(1:12,301:306)]\n\n [1] \"code_tract\"        \"code_weighting\"    \"code_muni\"        \n [4] \"code_state\"        \"abbrev_state\"      \"name_state\"       \n [7] \"code_region\"       \"name_region\"       \"domicilio01_V1005\"\n[10] \"domicilio01_V001\"  \"domicilio01_V002\"  \"domicilio01_V003\" \n[13] \"domicilio02_V050\"  \"domicilio02_V051\"  \"domicilio02_V052\" \n[16] \"domicilio02_V053\"  \"domicilio02_V054\"  \"domicilio02_V055\"",
    "crumbs": [
      "Explorando o Censo Demográfico",
      "Agregados dos Setores Censitários"
    ]
  },
  {
    "objectID": "12_censobr_agregados_setores.html#dicionário-de-variáveis",
    "href": "12_censobr_agregados_setores.html#dicionário-de-variáveis",
    "title": "Agregados dos Setores Censitários",
    "section": "",
    "text": "Para verificar o significado de cada variável, você pode executar o comando data_dictionary(), que abrirá no navegador um arquivo .html ou .pdf com o dicionário de variáveis de cada conjunto de dados (ver mais info no capítulo 6 sobre Documentação).\n\ndata_dictionary(year = 2010,\n                dataset = 'tracts')",
    "crumbs": [
      "Explorando o Censo Demográfico",
      "Agregados dos Setores Censitários"
    ]
  },
  {
    "objectID": "12_censobr_agregados_setores.html#exemplos-reproduzíveis",
    "href": "12_censobr_agregados_setores.html#exemplos-reproduzíveis",
    "title": "Agregados dos Setores Censitários",
    "section": "",
    "text": "Essa organização dos dados agregados por setores censitários parece confusa a primeira vista. E é mesmo. Mas essa organização fica mais clara com alguns exemplos práticos.\nNesta seção, nós vamos utilizar alguns exemplos para ilustrar como trabalhar com dados no nível de setor censitário. Primeiro, precisamos carregar as bibliotecas que usaremos neste tutorial.\n\nlibrary(censobr)\nlibrary(geobr)\nlibrary(arrow)\nlibrary(dplyr)\nlibrary(ggplot2)\n\nNos dois exemplos abaixo, usaremos a cidade de Belo Horizonte para fins de demonstração. No primeiro exemplo, nós vamos mapear a distribuição espacial da renda com dados de 2010. No segundo exemplo, nós vamos mapear a distribuição espacial da densidade populacional de BH com os dados preliminares do censo de 2022.\n\n\nNeste primeiro exemplo, criaremos um mapa da distribuição espacial da renda média per capita. A informação sobre o número total de residentes em cada setor censitário está disponível na tabela com conjunto de variáveis do bloco \"Basico\", na variável \"V002\". Já a informação sobre renda total do setor censiário pode ser encontradas na tabela do bloco \"DomicilioRenda\", na variável \"V003\".\nUtilizando o código abaixo, podemos baixar os dados e calcular a renda per capita de todos os setores censitários no Brasil. Posteriormente nós vamos filtrar esses resultados para ficar apenas com os setores de BH.\n\n# baixa os dados\n1tract_basico &lt;- read_tracts(year = 2010,\n                            dataset = \"Basico\",\n                            showProgress = FALSE)\n\n2tract_income &lt;- read_tracts(year = 2010,\n                            dataset = \"DomicilioRenda\",\n                            showProgress = FALSE)     \n\n# selecionar conlunas\n3tract_basico &lt;- tract_basico |&gt; select('code_tract','V002')\ntract_income &lt;- tract_income |&gt; select('code_tract','V003')\n\n# unir as tabelass\n4tracts_df10 &lt;- left_join(tract_basico, tract_income)\n                \n\n# calcular a renda per capita\ntracts_df10 &lt;- tracts_df10 |&gt; \n5                mutate(income_pc = V003 / V002) |&gt;\n6                collect()\n\nhead(tracts_df10)\n\n\n1\n\nDownload de dados do bloco Basico\n\n2\n\nDownload de dados do bloco DomicilioRenda\n\n3\n\nSeleciona apenas as variáveis que vamos utilizar\n\n4\n\nJunta as duas variáveis num único data.frame\n\n5\n\nCacula renda per capita de cada setor censitário\n\n6\n\nExtração dos resultados\n\n\n\n\n        code_tract  V002   V003 income_pc\n            &lt;char&gt; &lt;num&gt;  &lt;num&gt;     &lt;num&gt;\n1: 293076605000017   715 149721 209.40000\n2: 293076605000018   697 110160 158.04878\n3: 293076605000019   115  18905 164.39130\n4: 293076605000020   301  32147 106.80066\n5: 293076605000021    55   3904  70.98182\n6: 293076605000022   503  32177  63.97018\n\n\nO próximo passo é baixar as geometrias dos setores censitários de BH em 2010 com a função read_census_tract, do pacote {geobr}. Aqui, nós passamos o parâmetro code_tract = \"MG\" baixar os todos os setores do estado de Minas Gerais e depois filtramos apenas o município de Belo Horizonte.\n\n# busca qual o código do municipio de Belo Horizonte\nbh_info &lt;- geobr::lookup_muni(name_muni = 'Belo Horizonte')\n#&gt; code_muni: 3106200\n\n# baixa municipio de BH\nmuni_bh &lt;- geobr::read_municipality(code_muni = 'MG', \n                                    year = 2010,\n                                    showProgress = FALSE) |&gt;\n           filter(name_muni == \"Belo Horizonte\")\n\n# baixa todos setores de Minas Gerais\ntracts_2010 &lt;- geobr::read_census_tract(code_tract = \"MG\",\n                                        year = 2010,\n                                        simplified = FALSE,\n1                                        showProgress = FALSE)\n\n# filtra setores de BH\ntracts_2010 &lt;- filter(tracts_2010, name_muni == 'Belo Horizonte')\n\n# mapa de setores censitarios\nggplot() + \n  geom_sf(data=tracts_2010, fill = 'gray90', color='gray60') +\n  theme_void()\n\n\n1\n\nO comportamento padrão do {geobr} é baixar uma versão da malha espacial com geometrias ligeiramente simplificadas (simplified = TRUE) para agilizar o processamento e visualização de dados. Aqui, nós baixamos os dados com geometrias originais devido à escala espacial da visualização dos resultados.\n\n\n\n\n\n\n\n\n\n\n\nPor fim, a gente pode fazer um merge dos dados espaciais e de renda dos setores censitários usando como variável chave o código do setor censitário (code_tract) e criar o mapa da distribuição espacial da renda per capita do município.\n\nbh_tracts &lt;- left_join(tracts_2010, tracts_df10, by = 'code_tract')\n\nggplot() +\n  geom_sf(data = bh_tracts, aes(fill = ifelse(income_pc&lt;10000,income_pc,10000)), \n          color=NA) +\n  geom_sf(data = muni_bh, color='gray10', fill=NA) +\n  labs(title = 'Renda per capita dos setores censitários',\n       subtitle= 'Belo Horizonte, 2010') +\n  scale_fill_viridis_c(name = \"Reda per\\ncapita (R$)\",\n                       na.value=\"white\",\n                       option = 'cividis',\n                       breaks = c(0,  1e3, 4e3, 8e3, 1e4) ,\n                        labels  = c('0',  '1.000', '4.000', '8.000', '&gt; 10.000')\n                       ) +\n  theme_void()\n\n\n\n\n\n\n\n\n\n\n\nNeste segundo exemplo, nós vamos utilizar os resultados \"Preliminares\" dos agregados dos setores censitários do censo de 2022, que foram divulgados pelo IBGE em março de 2024. Em particular, vamos utilizar a variável V0001 que informa a população total dos setores. Além disso, como houve uma mudança na malha espacial de setores censitários entre 2010 e 2022, nós precisamos baixar a malha do ano correspondente.\n\n# download dados preliminares dos setores de 2022\ntracts_df22 &lt;- read_tracts(year = 2022,\n                          dataset = \"Preliminares\",\n                          showProgress = FALSE) |&gt;\n               filter(name_muni == 'Belo Horizonte') |&gt;\n               collect()\n\n# baixa todos setores de Minas Gerais\ntracts_2022 &lt;- geobr::read_census_tract(code_tract = \"MG\",\n                                        year = 2022,\n                                        simplified = FALSE,\n                                        showProgress = FALSE)\n\n# filtra setores de BH\ntracts_2022 &lt;- filter(tracts_2022, name_muni == 'Belo Horizonte')\n\nAgora a gente pode fazer um merge da tabela de população com os dados espaciais, calcular a área dos setores em Km2 e a densidade demográfica de cada setor, e criar o mapa.\n\n# merge tables\ntracts_df22$code_tract &lt;- as.numeric(tracts_df22$code_tract)\nbh_tracts22 &lt;- left_join(tracts_2022, tracts_df22, by = 'code_tract')\n\n# calcula a área dos setores\nbh_tracts22 &lt;- bh_tracts22 |&gt;\n              mutate(tract_aream2 = sf::st_area(tracts_2022),\n                     tract_areakm2 = units::set_units(tract_aream2, km2))\n\n# calcula densidade demografica\nbh_tracts22 &lt;- bh_tracts22 |&gt;\n               mutate(pop_km2 = as.numeric(V0001/ tract_areakm2))\n\n# map\nggplot() +\n  geom_sf(data = bh_tracts22, color=NA,\n          aes(fill = ifelse(pop_km2&lt;20000,pop_km2,20000))) +\n  geom_sf(data = muni_bh, color='gray10', fill=NA) +\n  labs(title = 'Densidade populacional dos setores censitários',\n       subtitle= 'Belo Horizonte, 2022') +\n  scale_fill_distiller(palette = \"Reds\", direction = 1, \n                       name='População por'~Km^2,\n                       breaks = c(0,  5e3, 10e3, 15e3, 2e4) ,\n                       labels  = c('0',  '5.000', '10.000', '15.000', '&gt; 20.000')) +\n  theme_void()",
    "crumbs": [
      "Explorando o Censo Demográfico",
      "Agregados dos Setores Censitários"
    ]
  },
  {
    "objectID": "14_infra_ipea.html",
    "href": "14_infra_ipea.html",
    "title": "Infraestrutura de pesquisa do Ipea",
    "section": "",
    "text": "Servidores estatísticos\nNo Ipea, existe um conjunto de servidores (máquinas virtuais) de alta capacidade, com softwares estatísticos instalados e que estão disponíveis para todos os nossos pesquisadores e colaboradores (e.g. bolsistas, etc.). Estes servidores (que chamamos de “servidores estatísticos”) são parte fundamental da ciência de dados do Ipea. Isso porque nós temos muitos pesquisadores e colaboradores trabalhando simultaneamente em projetos por vezes muito complexos. Além disso, é muito comum nos nossos trabalhos a gente ter que lidar com grandes volumes de dados (vários anos de RAIS, Cadastro Único, etc.), o que seria é inviável ou muito demorado em computadores comuns (limitação de memória RAM, capacidade de processamento, instabilidade da conexão de rede, etc., mesmo com o auxílio de pacotes para lidar com grandes bases de dados como {arrow} ou {duckdb}.\nA capacidade destes servidores (em Out/20204) é apresentada na figura abaixo:\n\n\n\n\n\n\n\n\n\n\n\nNota\n\n\n\nComo ter acesso aos servidores estatísticos?\n\nEntrar na rede do Ipea (PC ou Conexao VPN)\nSolicitar permissão por e-pedidos de TI\nUma vez que você recebeu acesso, você pode se conectar ao servidor abrindo no seu computador a Área de Trabalho Remota do Windows.\n\n\n\nOs recursos computacionais nestes servidores, no entanto, não são ilimiados. Para evitarmos uma situação de tragédia dos comuns, que leve ao esgotamento dos recursos compartilhados sugerimos a adoção de algumas boas práticas na utilização dos servidores:\n\n\n\n\n\n\nImportante\n\n\n\n\nUsar a memória RAM com parcimônia;\nPrototipar todo o código do projeto com amostras de dados e não com a base inteira;\nProcurar sempre o servidor menos congestionado (Task Manager);\nUtilizar boas práticas de código além de pacotes eficientes, como {arrow} e {duckdb} para leitura e manipulação de dados, e {fixest} para modelos econométricos.\n\n\n\nVeja mais informações na nossa cheatsheet de boas práticas.\n\n\nBases de dados\nO Ipea disponibiliza diversas bases de microdados estatísticos e registros administrativos (identificados ou não), como:\n\nPNADc\nCenso escolar\nCAGED Identificado\nRAIS Identificada\nCadatro Único\netc.\n\nA lista completa das bases de dados disponíveis pode ser consultada na intranet no catálogo de bases de dados.\nAs bases de dados do Ipea são armazenadas em difentes formatos, em alguns diretórios da rede (tabela abaixo) ou em bancos de dados relacionais (SQL Server).\n\n\n\n\n\nAtualmente, a maior parte dos dados estão em diretórios na rede do Ipea, em especial no Storage6. No Storage6, essas bases estão organizadas a partir de duas pastas e suas subpastas: - \"documentação\". Os arquivos nesta pasta e subpastas são totalmente acessível, mesmo a documentação das bases restritas. - \"dados\". Suas subpastas incluem tanto os dados públicos quanto restritos. No caso dos dados restritos, o acesso a leitura dos dados requer autorização (detalhes abaixo):\n\n\n\n\n\nflowchart TD\n    A[STORAGE6] --&gt; B(Bases)\n    B --&gt; C(Documentação)\n    B --&gt; E(Dados)\n    C --&gt; F(Público)\n    C --&gt; G(Restrito)\n    E --&gt; H(Público)\n    E --&gt; id1(Restrito)\n    style id1 fill:#FF0000\n\n\n\n\n\n\n\n\n\n\n\n\nNota\n\n\n\nComo ter acesso a bases de dados restritas?\n\nAntes de solicitar permissão para uma base de dados, leia a documentação da base;\nA concessão de acesso a qualquer base de dados restrita é sempre por um período definido e deve ser motivado, no âmbito de um projeto de pesquisa específico;\nO pedido de acesso é feito à Coordenação de Gestão de Dados (COGD), por meio de processo que tramita no SEI e envolve a assinatura de termos de compromisso sobre sigilo do dado;\nAlgumas bases de dados sigilosas estão disponíveis apenas em ambientes de sigilo (sala ou servidor de sigilo). O acesso a esses ambientes também deve ser solicitado à COGD.\n\n\n\nVeja mais detalhes na nossa cheatsheet sobre as bases de dados.",
    "crumbs": [
      "Data Lake do Ipea",
      "Infraestrutura de pesquisa do Ipea"
    ]
  },
  {
    "objectID": "LICENSE.html",
    "href": "LICENSE.html",
    "title": "Introdução à análise de dados no R",
    "section": "",
    "text": "Attribution-ShareAlike 4.0 International\n=======================================================================\nCreative Commons Corporation (“Creative Commons”) is not a law firm and does not provide legal services or legal advice. Distribution of Creative Commons public licenses does not create a lawyer-client or other relationship. Creative Commons makes its licenses and related information available on an “as-is” basis. Creative Commons gives no warranties regarding its licenses, any material licensed under their terms and conditions, or any related information. Creative Commons disclaims all liability for damages resulting from their use to the fullest extent possible.\nUsing Creative Commons Public Licenses\nCreative Commons public licenses provide a standard set of terms and conditions that creators and other rights holders may use to share original works of authorship and other material subject to copyright and certain other rights specified in the public license below. The following considerations are for informational purposes only, are not exhaustive, and do not form part of our licenses.\n Considerations for licensors: Our public licenses are\n intended for use by those authorized to give the public\n permission to use material in ways otherwise restricted by\n copyright and certain other rights. Our licenses are\n irrevocable. Licensors should read and understand the terms\n and conditions of the license they choose before applying it.\n Licensors should also secure all rights necessary before\n applying our licenses so that the public can reuse the\n material as expected. Licensors should clearly mark any\n material not subject to the license. This includes other CC-\n licensed material, or material used under an exception or\n limitation to copyright. More considerations for licensors:\nwiki.creativecommons.org/Considerations_for_licensors\n\n Considerations for the public: By using one of our public\n licenses, a licensor grants the public permission to use the\n licensed material under specified terms and conditions. If\n the licensor's permission is not necessary for any reason--for\n example, because of any applicable exception or limitation to\n copyright--then that use is not regulated by the license. Our\n licenses grant only permissions under copyright and certain\n other rights that a licensor has authority to grant. Use of\n the licensed material may still be restricted for other\n reasons, including because others have copyright or other\n rights in the material. A licensor may make special requests,\n such as asking that all changes be marked or described.\n Although not required by our licenses, you are encouraged to\n respect those requests where reasonable. More considerations\n for the public:\nwiki.creativecommons.org/Considerations_for_licensees\n=======================================================================\nCreative Commons Attribution-ShareAlike 4.0 International Public License\nBy exercising the Licensed Rights (defined below), You accept and agree to be bound by the terms and conditions of this Creative Commons Attribution-ShareAlike 4.0 International Public License (“Public License”). To the extent this Public License may be interpreted as a contract, You are granted the Licensed Rights in consideration of Your acceptance of these terms and conditions, and the Licensor grants You such rights in consideration of benefits the Licensor receives from making the Licensed Material available under these terms and conditions.\nSection 1 – Definitions.\n\nAdapted Material means material subject to Copyright and Similar Rights that is derived from or based upon the Licensed Material and in which the Licensed Material is translated, altered, arranged, transformed, or otherwise modified in a manner requiring permission under the Copyright and Similar Rights held by the Licensor. For purposes of this Public License, where the Licensed Material is a musical work, performance, or sound recording, Adapted Material is always produced where the Licensed Material is synched in timed relation with a moving image.\nAdapter’s License means the license You apply to Your Copyright and Similar Rights in Your contributions to Adapted Material in accordance with the terms and conditions of this Public License.\nBY-SA Compatible License means a license listed at creativecommons.org/compatiblelicenses, approved by Creative Commons as essentially the equivalent of this Public License.\nCopyright and Similar Rights means copyright and/or similar rights closely related to copyright including, without limitation, performance, broadcast, sound recording, and Sui Generis Database Rights, without regard to how the rights are labeled or categorized. For purposes of this Public License, the rights specified in Section 2(b)(1)-(2) are not Copyright and Similar Rights.\nEffective Technological Measures means those measures that, in the absence of proper authority, may not be circumvented under laws fulfilling obligations under Article 11 of the WIPO Copyright Treaty adopted on December 20, 1996, and/or similar international agreements.\nExceptions and Limitations means fair use, fair dealing, and/or any other exception or limitation to Copyright and Similar Rights that applies to Your use of the Licensed Material.\nLicense Elements means the license attributes listed in the name of a Creative Commons Public License. The License Elements of this Public License are Attribution and ShareAlike.\nLicensed Material means the artistic or literary work, database, or other material to which the Licensor applied this Public License.\nLicensed Rights means the rights granted to You subject to the terms and conditions of this Public License, which are limited to all Copyright and Similar Rights that apply to Your use of the Licensed Material and that the Licensor has authority to license.\nLicensor means the individual(s) or entity(ies) granting rights under this Public License.\nShare means to provide material to the public by any means or process that requires permission under the Licensed Rights, such as reproduction, public display, public performance, distribution, dissemination, communication, or importation, and to make material available to the public including in ways that members of the public may access the material from a place and at a time individually chosen by them.\nSui Generis Database Rights means rights other than copyright resulting from Directive 96/9/EC of the European Parliament and of the Council of 11 March 1996 on the legal protection of databases, as amended and/or succeeded, as well as other essentially equivalent rights anywhere in the world.\nYou means the individual or entity exercising the Licensed Rights under this Public License. Your has a corresponding meaning.\n\nSection 2 – Scope.\n\nLicense grant.\n\nSubject to the terms and conditions of this Public License, the Licensor hereby grants You a worldwide, royalty-free, non-sublicensable, non-exclusive, irrevocable license to exercise the Licensed Rights in the Licensed Material to:\n\nreproduce and Share the Licensed Material, in whole or in part; and\nproduce, reproduce, and Share Adapted Material.\n\nExceptions and Limitations. For the avoidance of doubt, where Exceptions and Limitations apply to Your use, this Public License does not apply, and You do not need to comply with its terms and conditions.\nTerm. The term of this Public License is specified in Section 6(a).\nMedia and formats; technical modifications allowed. The Licensor authorizes You to exercise the Licensed Rights in all media and formats whether now known or hereafter created, and to make technical modifications necessary to do so. The Licensor waives and/or agrees not to assert any right or authority to forbid You from making technical modifications necessary to exercise the Licensed Rights, including technical modifications necessary to circumvent Effective Technological Measures. For purposes of this Public License, simply making modifications authorized by this Section 2(a)\n\nnever produces Adapted Material.\n\nDownstream recipients.\n\nOffer from the Licensor – Licensed Material. Every recipient of the Licensed Material automatically receives an offer from the Licensor to exercise the Licensed Rights under the terms and conditions of this Public License.\nAdditional offer from the Licensor – Adapted Material. Every recipient of Adapted Material from You automatically receives an offer from the Licensor to exercise the Licensed Rights in the Adapted Material under the conditions of the Adapter’s License You apply.\nNo downstream restrictions. You may not offer or impose any additional or different terms or conditions on, or apply any Effective Technological Measures to, the Licensed Material if doing so restricts exercise of the Licensed Rights by any recipient of the Licensed Material.\n\nNo endorsement. Nothing in this Public License constitutes or may be construed as permission to assert or imply that You are, or that Your use of the Licensed Material is, connected with, or sponsored, endorsed, or granted official status by, the Licensor or others designated to receive attribution as provided in Section 3(a)(1)(A)(i).\n\nOther rights.\n\nMoral rights, such as the right of integrity, are not licensed under this Public License, nor are publicity, privacy, and/or other similar personality rights; however, to the extent possible, the Licensor waives and/or agrees not to assert any such rights held by the Licensor to the limited extent necessary to allow You to exercise the Licensed Rights, but not otherwise.\nPatent and trademark rights are not licensed under this Public License.\nTo the extent possible, the Licensor waives any right to collect royalties from You for the exercise of the Licensed Rights, whether directly or through a collecting society under any voluntary or waivable statutory or compulsory licensing scheme. In all other cases the Licensor expressly reserves any right to collect such royalties.\n\n\nSection 3 – License Conditions.\nYour exercise of the Licensed Rights is expressly made subject to the following conditions.\n\nAttribution.\n\nIf You Share the Licensed Material (including in modified form), You must:\n\nretain the following if it is supplied by the Licensor with the Licensed Material:\n\nidentification of the creator(s) of the Licensed Material and any others designated to receive attribution, in any reasonable manner requested by the Licensor (including by pseudonym if designated);\na copyright notice;\na notice that refers to this Public License;\na notice that refers to the disclaimer of warranties;\na URI or hyperlink to the Licensed Material to the extent reasonably practicable;\n\nindicate if You modified the Licensed Material and retain an indication of any previous modifications; and\nindicate the Licensed Material is licensed under this Public License, and include the text of, or the URI or hyperlink to, this Public License.\n\nYou may satisfy the conditions in Section 3(a)(1) in any reasonable manner based on the medium, means, and context in which You Share the Licensed Material. For example, it may be reasonable to satisfy the conditions by providing a URI or hyperlink to a resource that includes the required information.\nIf requested by the Licensor, You must remove any of the information required by Section 3(a)(1)(A) to the extent reasonably practicable.\n\nShareAlike.\nIn addition to the conditions in Section 3(a), if You Share Adapted Material You produce, the following conditions also apply.\n\nThe Adapter’s License You apply must be a Creative Commons license with the same License Elements, this version or later, or a BY-SA Compatible License.\nYou must include the text of, or the URI or hyperlink to, the Adapter’s License You apply. You may satisfy this condition in any reasonable manner based on the medium, means, and context in which You Share Adapted Material.\nYou may not offer or impose any additional or different terms or conditions on, or apply any Effective Technological Measures to, Adapted Material that restrict exercise of the rights granted under the Adapter’s License You apply.\n\n\nSection 4 – Sui Generis Database Rights.\nWhere the Licensed Rights include Sui Generis Database Rights that apply to Your use of the Licensed Material:\n\nfor the avoidance of doubt, Section 2(a)(1) grants You the right to extract, reuse, reproduce, and Share all or a substantial portion of the contents of the database;\nif You include all or a substantial portion of the database contents in a database in which You have Sui Generis Database Rights, then the database in which You have Sui Generis Database Rights (but not its individual contents) is Adapted Material, including for purposes of Section 3(b); and\nYou must comply with the conditions in Section 3(a) if You Share all or a substantial portion of the contents of the database.\n\nFor the avoidance of doubt, this Section 4 supplements and does not replace Your obligations under this Public License where the Licensed Rights include other Copyright and Similar Rights.\nSection 5 – Disclaimer of Warranties and Limitation of Liability.\n\nUNLESS OTHERWISE SEPARATELY UNDERTAKEN BY THE LICENSOR, TO THE EXTENT POSSIBLE, THE LICENSOR OFFERS THE LICENSED MATERIAL AS-IS AND AS-AVAILABLE, AND MAKES NO REPRESENTATIONS OR WARRANTIES OF ANY KIND CONCERNING THE LICENSED MATERIAL, WHETHER EXPRESS, IMPLIED, STATUTORY, OR OTHER. THIS INCLUDES, WITHOUT LIMITATION, WARRANTIES OF TITLE, MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, NON-INFRINGEMENT, ABSENCE OF LATENT OR OTHER DEFECTS, ACCURACY, OR THE PRESENCE OR ABSENCE OF ERRORS, WHETHER OR NOT KNOWN OR DISCOVERABLE. WHERE DISCLAIMERS OF WARRANTIES ARE NOT ALLOWED IN FULL OR IN PART, THIS DISCLAIMER MAY NOT APPLY TO YOU.\nTO THE EXTENT POSSIBLE, IN NO EVENT WILL THE LICENSOR BE LIABLE TO YOU ON ANY LEGAL THEORY (INCLUDING, WITHOUT LIMITATION, NEGLIGENCE) OR OTHERWISE FOR ANY DIRECT, SPECIAL, INDIRECT, INCIDENTAL, CONSEQUENTIAL, PUNITIVE, EXEMPLARY, OR OTHER LOSSES, COSTS, EXPENSES, OR DAMAGES ARISING OUT OF THIS PUBLIC LICENSE OR USE OF THE LICENSED MATERIAL, EVEN IF THE LICENSOR HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH LOSSES, COSTS, EXPENSES, OR DAMAGES. WHERE A LIMITATION OF LIABILITY IS NOT ALLOWED IN FULL OR IN PART, THIS LIMITATION MAY NOT APPLY TO YOU.\nThe disclaimer of warranties and limitation of liability provided above shall be interpreted in a manner that, to the extent possible, most closely approximates an absolute disclaimer and waiver of all liability.\n\nSection 6 – Term and Termination.\n\nThis Public License applies for the term of the Copyright and Similar Rights licensed here. However, if You fail to comply with this Public License, then Your rights under this Public License terminate automatically.\nWhere Your right to use the Licensed Material has terminated under Section 6(a), it reinstates:\n\nautomatically as of the date the violation is cured, provided it is cured within 30 days of Your discovery of the violation; or\nupon express reinstatement by the Licensor.\n\nFor the avoidance of doubt, this Section 6(b) does not affect any right the Licensor may have to seek remedies for Your violations of this Public License.\nFor the avoidance of doubt, the Licensor may also offer the Licensed Material under separate terms or conditions or stop distributing the Licensed Material at any time; however, doing so will not terminate this Public License.\nSections 1, 5, 6, 7, and 8 survive termination of this Public License.\n\nSection 7 – Other Terms and Conditions.\n\nThe Licensor shall not be bound by any additional or different terms or conditions communicated by You unless expressly agreed.\nAny arrangements, understandings, or agreements regarding the Licensed Material not stated herein are separate from and independent of the terms and conditions of this Public License.\n\nSection 8 – Interpretation.\n\nFor the avoidance of doubt, this Public License does not, and shall not be interpreted to, reduce, limit, restrict, or impose conditions on any use of the Licensed Material that could lawfully be made without permission under this Public License.\nTo the extent possible, if any provision of this Public License is deemed unenforceable, it shall be automatically reformed to the minimum extent necessary to make it enforceable. If the provision cannot be reformed, it shall be severed from this Public License without affecting the enforceability of the remaining terms and conditions.\nNo term or condition of this Public License will be waived and no failure to comply consented to unless expressly agreed to by the Licensor.\nNothing in this Public License constitutes or may be interpreted as a limitation upon, or waiver of, any privileges and immunities that apply to the Licensor or You, including from the legal processes of any jurisdiction or authority.\n\n=======================================================================\nCreative Commons is not a party to its public licenses. Notwithstanding, Creative Commons may elect to apply one of its public licenses to material it publishes and in those instances will be considered the “Licensor.” The text of the Creative Commons public licenses is dedicated to the public domain under the CC0 Public Domain Dedication. Except for the limited purpose of indicating that material is shared under a Creative Commons public license or as otherwise permitted by the Creative Commons policies published at creativecommons.org/policies, Creative Commons does not authorize the use of the trademark “Creative Commons” or any other trademark or logo of Creative Commons without its prior written consent including, without limitation, in connection with any unauthorized modifications to any of its public licenses or any other arrangements, understandings, or agreements concerning use of licensed material. For the avoidance of doubt, this paragraph does not form part of the public licenses.\nCreative Commons may be contacted at creativecommons.org."
  },
  {
    "objectID": "01_1_rproj.html",
    "href": "01_1_rproj.html",
    "title": "Diretório de trabalho e Projetos",
    "section": "",
    "text": "Para conseguir importar os dados no R e salvar os resultados no computador, precisamos conhecer alguns conceitos importantes, como caminhos de arquivos, diretório de trabalho, e os projetos do RStudio.",
    "crumbs": [
      "Conceitos básicos",
      "Diretório de trabalho e Projetos"
    ]
  },
  {
    "objectID": "01_1_rproj.html#caminhos-de-arquivos",
    "href": "01_1_rproj.html#caminhos-de-arquivos",
    "title": "Diretório de trabalho e Projetos",
    "section": "Caminhos de arquivos",
    "text": "Caminhos de arquivos\nQuando queremos importar um arquivo no R, precisamos informar para o R um texto que indica onde o arquivo está localizado no computador, partindo de uma pasta de referência. Esse texto é chamado de caminho.\nPor exemplo:\n\n\"/Users/beatrizmilz/Documents/IPEA-DATALAB/curso_r_intro_202409/dados/sidrar_4092_bruto.xlsx\"\n\n[1] \"/Users/beatrizmilz/Documents/IPEA-DATALAB/curso_r_intro_202409/dados/sidrar_4092_bruto.xlsx\"\n\n\nOs caminhos podem ser absolutos ou relativos.\n\nCaminho absoluto: é o caminho completo, desde a raiz do computador até o arquivo ou pasta desejada. Por exemplo: \"/Users/beatrizmilz/Documents/IPEA-DATALAB/curso_r_intro_202409/dados/sidrar_4092_bruto.xlsx.\nCaminho relativo: é o caminho a partir de uma pasta de referência. No geral, a pasta de referência é o diretório de trabalho, um conceito que veremos a seguir. Por exemplo, dados/sidrar_4092_bruto.xlsx.\n\nUtilizar caminhos relativos é uma boa prática, pois queremos que o código funcione em diferentes computadores.Se usarmos caminhos absolutos, dificilmente o código funcionará em outros computadores, pois as pessoas podem ter organizado os arquivos de forma diferente. Ao usar caminhos relativos, o código funcionará em qualquer computador.",
    "crumbs": [
      "Conceitos básicos",
      "Diretório de trabalho e Projetos"
    ]
  },
  {
    "objectID": "01_1_rproj.html#diretório-de-trabalho",
    "href": "01_1_rproj.html#diretório-de-trabalho",
    "title": "Diretório de trabalho e Projetos",
    "section": "Diretório de trabalho",
    "text": "Diretório de trabalho\nNo R, o diretório de trabalho (working directory) é o diretório (uma pasta no computador) onde o R irá partir quando precisarmos interagir com os arquivos do computador: buscar os arquivos que queremos importar, salvar arquivos, entre outros.\nPara saber qual é o diretório de trabalho atual, podemos usar a função getwd():\n\ngetwd()\n\n[1] \"/Users/beatrizmilz/Documents/IPEA-DATALAB/curso_r_intro_202409\"",
    "crumbs": [
      "Conceitos básicos",
      "Diretório de trabalho e Projetos"
    ]
  },
  {
    "objectID": "01_1_rproj.html#projetos-do-rstudio",
    "href": "01_1_rproj.html#projetos-do-rstudio",
    "title": "Diretório de trabalho e Projetos",
    "section": "Projetos do RStudio",
    "text": "Projetos do RStudio\nO RStudio possui uma funcionalidade chamada projetos. Quando criamos um projeto no RStudio, uma nova pasta é criada no computador, e o RStudio define essa pasta como o diretório de trabalho. Além disso, o RStudio também cria um arquivo com a extensão .Rproj dentro dessa pasta, que contém informações sobre o projeto.\nÉ recomendado que sempre trabalhemos em projetos no RStudio, pois isso facilita a organização dos arquivos e a reprodução do código.\nÉ recomendado também salvar os arquivos referentes ao projeto (como scripts, bases de dados, resultados, etc) dentro do projeto. Isso não significa que precisamos colocar todos os arquivos dentro da pasta principal do projeto: podemos criar sub-pastas para organizar os arquivos.\nPara criar um projeto no RStudio, primeiro precisamos acessar o menu de criação de projetos (New project Wizard). Podemos fazer isso de três formas:\n\nNo menu superior, clicando em File &gt; New Project...\nClicando no ícone de novo projeto na barra de ferramentas do RStudio: \nNo canto superior esquerdo, clicando no botão referente à projetos, e depois em New Project...:\n\n\n\n\nCaptura de tela do RStudio: Menu de projetos\n\n\nDepois, escolhemos o tipo de projeto que queremos criar. No geral, escolhemos a opção New Directory, para criar uma nova pasta no computador:\n\n\n\nCaptura de tela do RStudio: Criando um projeto\n\n\nDepois, escolhemos o tipo de projeto que queremos criar. Cada tipo de projeto apresenta arquivos específicos de template. O RStudio apresenta algumas opções de projeto, porém é possível adicionar novos tipos de projeto instalandos pacotes específicos.\nNo geral, escolhemos a opção New Project, para criar um projeto simples:\n\n\n\nCaptura de tela do RStudio: Escolhendo o tipo de projeto\n\n\nNa tela seguinte, precisamos informar o nome do projeto (no campo Directory name) e o diretório onde ele será criado (no campo Create project as subdirectory of):\n\n\n\nCaptura de tela do RStudio: Nomeando o projeto\n\n\nApós preencher as informações solicitadas, clicamos em Create Project. O RStudio criará o projeto e o abrirá:\n\n\n\nCaptura de tela do RStudio: projeto criado\n\n\n\n\n\n\n\n\nDica\n\n\n\nNote que o nome do projeto que criamos aparece no canto superior direito do RStudio.",
    "crumbs": [
      "Conceitos básicos",
      "Diretório de trabalho e Projetos"
    ]
  },
  {
    "objectID": "01_1_rproj.html#abrindo-um-projeto",
    "href": "01_1_rproj.html#abrindo-um-projeto",
    "title": "Diretório de trabalho e Projetos",
    "section": "Abrindo um projeto",
    "text": "Abrindo um projeto\nSempre que abrir o RStudio, verifique se você está com o projeto correto aberto. Se não estiver, abra o projeto clicando no ícone de projetos e depois em Open Project.\n\n\n\n\n\nVocê também pode abrir um projeto encontrando-o no seu computador e clicando duas vezes no arquivo .Rproj.",
    "crumbs": [
      "Conceitos básicos",
      "Diretório de trabalho e Projetos"
    ]
  },
  {
    "objectID": "01_1_rproj.html#preparando-o-projeto-para-o-curso",
    "href": "01_1_rproj.html#preparando-o-projeto-para-o-curso",
    "title": "Diretório de trabalho e Projetos",
    "section": "Preparando o projeto para o curso",
    "text": "Preparando o projeto para o curso\nAgora que já sabemos como criar um projeto no RStudio, vamos criar um projeto para o curso e salvar os materiais necessários. Esse projeto será usado em todas as aulas.\n\nCrie um projeto no RStudio, seguindo os passos acima. Use um nome que descreva o conteúdo do projeto, por exemplo: curso_r_intro_ipea_2024. Salve o projeto em uma pasta onde seja fácil de encontrar o projeto depois.\nVerifique se está no projeto correto. Para isso, verifique se o nome do projeto criado aparece no canto superior direito do RStudio.\nVamos criar algumas pastas para manter o conteúdo organizado. Essas pastas devem ser criadas dentro do projeto que acabamos de criar.\n\ndados/: bases de dados brutas que usaremos no curso.\ndados_output/: bases de dados que criaremos no curso (ex: bases de dados arrumadas).\nscripts/: scripts que criaremos no curso.\ngraficos/: gráficos que criaremos no curso.\n\n\nVocê pode criar as pastas diretamente no seu computador, ou pode criar as pastas usando a função dir.create(\"nome_da_pasta\"):\n\ndir.create(\"dados\")\ndir.create(\"dados_output\") # atenção: não use espaços nos nomes das pastas\ndir.create(\"scripts\")\ndir.create(\"graficos\") # atenção: não use acentos ou caracteres especiais nos nomes das pastas\n\nApós criar as pastas, o seu projeto deve ter uma estrutura parecida com essa:\n.\n├── dados\n├── dados_output\n├── graficos\n├── nome_do_projeto.Rproj\n└── scripts\n\nPara os exemplos de importação de dados, vamos utilizar alguns arquivos que estão disponíveis no repositório do curso. Para fazer download dos arquivos, verifique se está no projeto criado para o curso, e se sim, copie o código e abaixo, cole e execute-o no console:\n\n\n# Arquivo .csv (texto separado por  vírgula)\ndownload.file(\n  url = \"https://github.com/ipeadata-lab/curso_r_intro_202409/raw/refs/heads/main/dados/sidrar_4092_bruto.csv\",\n  destfile = \"dados/sidrar_4092_bruto.csv\",\n  mode = \"wb\")\n\n# Arquivo .csv (texto separado por ponto e vírgula)\ndownload.file(\n  url = \"https://github.com/ipeadata-lab/curso_r_intro_202409/raw/refs/heads/main/dados/sidrar_4092_bruto_2.csv\",\n  destfile = \"dados/sidrar_4092_bruto_2.csv\",\n  mode = \"wb\")\n\n# Arquivo .xlsx (Excel)\ndownload.file(\n  url = \"https://github.com/ipeadata-lab/curso_r_intro_202409/raw/refs/heads/main/dados/sidrar_4092_bruto.xlsx\", \n  destfile = \"dados/sidrar_4092_bruto.xlsx\",\n  mode = \"wb\")\n\n# Arquivo .rds (binário do R)\ndownload.file(\n  url = \"https://github.com/ipeadata-lab/curso_r_intro_202409/raw/refs/heads/main/dados/sidrar_4092_bruto.rds\", \n  destfile = \"dados/sidrar_4092_bruto.rds\",\n  mode = \"wb\")\n\n# Arquivo .dta (Stata)\ndownload.file(\n  url = \"https://github.com/ipeadata-lab/curso_r_intro_202409/raw/refs/heads/main/dados/sidrar_4092_bruto.dta\", \n  destfile = \"dados/sidrar_4092_bruto.dta\",\n  mode = \"wb\")\n\nCaso tenha dificuldades baixando os arquivos utilizando os códigos acima, você também pode baixar os arquivos manualmente, clicando nos links abaixo, e copiar e colar para a pasta dados do seu projeto:\n\nsidrar_4092_bruto.csv\nsidrar_4092_bruto_2.csv\nsidrar_4092_bruto.xlsx\nsidrar_4092_bruto.rds\nsidrar_4092_bruto.dta\n\nÉ importante verificar se os arquivos foram baixados corretamente. Para isso, você pode usar a função dir() para listar os arquivos no diretório dados:\n\ndir(\"dados\")\n\n\"sidrar_4092_bruto_2.csv\" \n\"sidrar_4092_bruto.csv\"\n\"sidrar_4092_bruto.dta\"\n\"sidrar_4092_bruto.rds\"  \n\"sidrar_4092_bruto.xlsx\"\n\n\n\n\n\n\nAviso\n\n\n\nAlém de criar o projeto e salvar os arquivos que utilizaremos, também é importante instalar os pacotes necessários para o curso. Para isso, você pode seguir as instruções que estão na aula anterior: Instalação de pacotes necessários no curso.",
    "crumbs": [
      "Conceitos básicos",
      "Diretório de trabalho e Projetos"
    ]
  },
  {
    "objectID": "01_1_rproj.html#sugestões-de-materiais",
    "href": "01_1_rproj.html#sugestões-de-materiais",
    "title": "Diretório de trabalho e Projetos",
    "section": "Sugestões de materiais",
    "text": "Sugestões de materiais\n\nLivro R para Ciência de Dados 2ed:\n\nFluxo de Trabalho: scripts e projetos\n\nLivro Zen do R:\n\nCapítulo Rproj e Diretórios",
    "crumbs": [
      "Conceitos básicos",
      "Diretório de trabalho e Projetos"
    ]
  },
  {
    "objectID": "09_censobr_intro.html",
    "href": "09_censobr_intro.html",
    "title": "Explorando o Censo Demográfico",
    "section": "",
    "text": "O Censo Demográfico é uma das mais importantes fontes de dados sobre as características e condições de vida da população brasileira. Nesta aula, você vai aprender como baixar e manipular os dados das diversas edições do censo demográfico do Brasil de 1960 a 2022 usando o pacote {censobr} na linguagem de programação R.\nA oficina também vai demonstrar como o {censobr} permite trabalhar com grandes bases de dados (larger-than-memory data) e ser integrado com o pacote {geobr} para visualização espacial de dados em diferentes escalas geográficas.\n\n{censobr} e {geobr}\nO {censobr} é um pacote de R para acessar os dados e documentação dos censos demográficos do Brasil (Pereira e Barbosa 2023). O pacote disponibiliza microdados da amostra de todas as edições do censo demográfico desde 1960 (mais informações no site do pacote).\nPor sua vez, o {geobr} é um pacote para baixar dados espaciais oficiais do Brasil (Pereira e Gonçalves 2019). Ele inclui uma ampla variedade de dados geoespaciais disponíveis em várias escalas geográficas e para diversos anos, como municípios, regiões metropolitanas, biomas, estabelecimentos de saúde, etc (veja a lista completa no site do pacote).\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nInstalando pacotes de R para essa aula\nPara esta aula, você vai precisar dos pacotes abaixo instalados na máquina. A maneira mais simples de fazer isso é executando o código abaixo. Isso pode levar alguns minutos, caso seja a primeira vez que você instala esses pacotes.\n\npkgs &lt;- c(\n  'censobr',\n  'geobr',\n  'arrow',\n  'dplyr',\n  'ggplot2',\n  'quantreg',\n  'sf'\n  )\n\ninstall.packages(pkgs)\n\n\n\n\n\n\nReferências\n\nPereira, Rafael H. M., e Rogério J. Barbosa. 2023. censobr: Download Data from Brazil’s Population Census. CRAN. https://doi.org/10.32614/CRAN.package.censobr.\n\n\nPereira, Rafael H. M., e Caio N. Gonçalves. 2019. geobr: Download Official Spatial Data Sets of Brazil. CRAN. https://doi.org/10.32614/CRAN.package.geobr.",
    "crumbs": [
      "Explorando o Censo Demográfico",
      "Explorando o Censo Demográfico"
    ]
  },
  {
    "objectID": "05_transformacao.html",
    "href": "05_transformacao.html",
    "title": "Transformando dados",
    "section": "",
    "text": "Primeiramente, precisamos carregar o pacote tidyverse e a base de dados que vamos utilizar. A base de dados é a tabela 4092 do SIDRA, que apresenta dados sobre “pessoas de 14 anos ou mais de idade por condição em relação à força de trabalho e condição de ocupação”1, e foi baixada previamente (em Importando dados).\nNeste capítulo, vamos explorar as funções de transformação de dados do pacote dplyr, a partir da pergunta norteadora abaixo:\n\nConsiderando que a tabela 4092 apresenta dados sobre “pessoas de 14 anos ou mais de idade por condição em relação à força de trabalho e condição de ocupação”, qual é a taxa de desocupação de cada estado e região do Brasil ao longo do tempo?\n\n\nlibrary(dplyr)\ndados_brutos &lt;- readr::read_rds(\"dados/sidrar_4092_bruto.rds\")",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Transformando dados"
    ]
  },
  {
    "objectID": "05_transformacao.html#introdução",
    "href": "05_transformacao.html#introdução",
    "title": "Transformando dados",
    "section": "",
    "text": "Primeiramente, precisamos carregar o pacote tidyverse e a base de dados que vamos utilizar. A base de dados é a tabela 4092 do SIDRA, que apresenta dados sobre “pessoas de 14 anos ou mais de idade por condição em relação à força de trabalho e condição de ocupação”1, e foi baixada previamente (em Importando dados).\nNeste capítulo, vamos explorar as funções de transformação de dados do pacote dplyr, a partir da pergunta norteadora abaixo:\n\nConsiderando que a tabela 4092 apresenta dados sobre “pessoas de 14 anos ou mais de idade por condição em relação à força de trabalho e condição de ocupação”, qual é a taxa de desocupação de cada estado e região do Brasil ao longo do tempo?\n\n\nlibrary(dplyr)\ndados_brutos &lt;- readr::read_rds(\"dados/sidrar_4092_bruto.rds\")",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Transformando dados"
    ]
  },
  {
    "objectID": "05_transformacao.html#linhas-colunas-e-objetivo-de-análise",
    "href": "05_transformacao.html#linhas-colunas-e-objetivo-de-análise",
    "title": "Transformando dados",
    "section": "Linhas, colunas e objetivo de análise",
    "text": "Linhas, colunas e objetivo de análise\nUma pergunta que é sempre importante ter em mente ao analisar dados é: O que cada linha representa? Na estatística, esse é o conceito da unidade observacional.\nO objeto dados_brutos apresenta uma linha para cada combinação das seguintes variáveis:\n\nTrimestre (Código) / Trimestre\nUnidade da Federação / Unidade da Federação (Código)\nVariável / Variável (Código)\nCondição em relação à força de trabalho e condição de ocupação e Condição em relação à força de trabalho e condição de ocupação (Código)\n\nPodemos consultar os valores distintos possíveis no R, para garantir que estamos selecionando corretamente os valores de interesse.\nAs variáveis disponíveis na base de dados, e suas unidades de medida são:\n\ndados_brutos |&gt;\n1  distinct(`Variável`, `Unidade de Medida`)\n\n\n1\n\nColunas que queremos buscar os valores distintos\n\n\n\n\n                                                                                   Variável\n1                                                       Pessoas de 14 anos ou mais de idade\n2                             Coeficiente de variação - Pessoas de 14 anos ou mais de idade\n3                           Distribuição percentual das pessoas de 14 anos ou mais de idade\n4 Coeficiente de variação - Distribuição percentual das pessoas de 14 anos ou mais de idade\n  Unidade de Medida\n1       Mil pessoas\n2                 %\n3                 %\n4                 %\n\n\nPodemos observar, cada linha representa uma combinação de trimestre, unidade da federação e variável.\nOutras perguntas relevantes ao analisar dados são:\n\nQual é a pergunta que eu quero responder com esses dados?\nQuais são as variáveis que eu preciso para responder essa pergunta?",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Transformando dados"
    ]
  },
  {
    "objectID": "05_transformacao.html#padronizar-nome-das-colunas",
    "href": "05_transformacao.html#padronizar-nome-das-colunas",
    "title": "Transformando dados",
    "section": "Padronizar nome das colunas",
    "text": "Padronizar nome das colunas\nÉ uma boa prática padronizar o nome das colunas de um data frame. Assim evitamos problemas de codificação de caracteres (encoding), facilitamos a legibilidade do código e evitamos possíveis erros ao acessar as colunas.\nO pacote janitor possui a função clean_names(), que padroniza os nomes das colunas de um data frame. Ele substitui espaços por underline (_), remove caracteres especiais, e transforma o texto em minúsculo, garantindo maior consistência ao lidar com os dados. Isso evita erros ao acessar colunas.\n\n1names(dados_brutos)\n\n\n1\n\nChecar o nome das colunas da base de dados\n\n\n\n\n [1] \"Nível Territorial (Código)\"                                             \n [2] \"Nível Territorial\"                                                      \n [3] \"Unidade de Medida (Código)\"                                             \n [4] \"Unidade de Medida\"                                                      \n [5] \"Valor\"                                                                  \n [6] \"Unidade da Federação (Código)\"                                          \n [7] \"Unidade da Federação\"                                                   \n [8] \"Trimestre (Código)\"                                                     \n [9] \"Trimestre\"                                                              \n[10] \"Variável (Código)\"                                                      \n[11] \"Variável\"                                                               \n[12] \"Condição em relação à força de trabalho e condição de ocupação (Código)\"\n[13] \"Condição em relação à força de trabalho e condição de ocupação\"         \n\n\n\n1dados_renomeados &lt;- janitor::clean_names(dados_brutos)\n\n2names(dados_renomeados)\n\n\n1\n\nLimpar nomes das colunas da base de dados, e salvar em um novo objeto chamado dados_renomeados\n\n2\n\nChecar o nome das colunas da base de dados renomeada\n\n\n\n\n [1] \"nivel_territorial_codigo\"                                             \n [2] \"nivel_territorial\"                                                    \n [3] \"unidade_de_medida_codigo\"                                             \n [4] \"unidade_de_medida\"                                                    \n [5] \"valor\"                                                                \n [6] \"unidade_da_federacao_codigo\"                                          \n [7] \"unidade_da_federacao\"                                                 \n [8] \"trimestre_codigo\"                                                     \n [9] \"trimestre\"                                                            \n[10] \"variavel_codigo\"                                                      \n[11] \"variavel\"                                                             \n[12] \"condicao_em_relacao_a_forca_de_trabalho_e_condicao_de_ocupacao_codigo\"\n[13] \"condicao_em_relacao_a_forca_de_trabalho_e_condicao_de_ocupacao\"",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Transformando dados"
    ]
  },
  {
    "objectID": "05_transformacao.html#pipe---encadeando-funções",
    "href": "05_transformacao.html#pipe---encadeando-funções",
    "title": "Transformando dados",
    "section": "Pipe - Encadeando funções",
    "text": "Pipe - Encadeando funções\nNos exemplos anteriores, utilizamos uma função por vez, para facilitar a compreensão de cada etapa. No entanto, à medida que nos familiarizamos com as funções, podemos encadear várias delas em um único fluxo de código usando o operador pipe (%&gt;% ou |&gt;). Isso torna o código mais conciso e elimina a criação de objetos intermediários desnecessários.\nPorém, é importante ter cuidado para não criar sequências muito longas e difíceis de entender.",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Transformando dados"
    ]
  },
  {
    "objectID": "05_transformacao.html#filtrando-linhas-filter",
    "href": "05_transformacao.html#filtrando-linhas-filter",
    "title": "Transformando dados",
    "section": "Filtrando linhas (filter())",
    "text": "Filtrando linhas (filter())\nPara responder à pergunta norteadora, não precisamos de todas as variáveis presentes na base de dados. Podemos filtrar as linhas que são relevantes para a análise, escolhendo as variáveis de interesse.\nNesse caso, podemos filtrar os dados onde a variável é igual à \"Pessoas de 14 anos ou mais de idade\".\n\ndados_filtrados &lt;- dados_renomeados |&gt;\n  filter(variavel == \"Pessoas de 14 anos ou mais de idade\")\n\nPara verificar se o filtro foi feito corretamente, podemos checar o número de linhas de cada base de dados:\n\nnrow(dados_renomeados)\n\n[1] 27000\n\nnrow(dados_filtrados)\n\n[1] 6750\n\n\nPodemos verificar também os valores distintos para as colunas variavel e unidade_de_medida na base de dados dados_filtrados:\n\ndados_filtrados |&gt;\n  distinct(variavel, unidade_de_medida)\n\n                             variavel unidade_de_medida\n1 Pessoas de 14 anos ou mais de idade       Mil pessoas\n\n\nAgora sabemos que a base de dados dados_filtrados contém apenas dados sobre a variável \"Pessoas de 14 anos ou mais de idade\", e que a unidade de medida da coluna valor é mil pessoas.\n\n\n\n\n\n\nVárias formas de filtrar as linhas\n\n\n\nComo citamos anteriormente, em algumas situações existem várias formas diferentes de realizar uma tarefa.\nNo caso da função filter(), podemos utilizar diferentes operadores lógicos ou funções auxiliares para fazer filtros.\nOs exemplos abaixo podem ser úteis para consulta futura!\nPara esses exemplos, vamos utilizar a tabela starwars do pacote dplyr. Nessa tabela, cada linha representa um personagem de Star Wars, e as colunas representam diferentes características desses personagens.\n\nExemplos de operadores lógicos:\n\n\n\n\n\n\n\n\n\nOperador\nDescrição\nExemplo\nInterpretação\n\n\n\n\n==\nIgual à\nspecies == \"Human\"\nTodas as linhas cuja espécie é “Human”\n\n\n!=\nDiferente de\nspecies != \"Human\"\nTodas as linhas cuja espécie não é “Human”\n\n\n&gt;\nMaior que\nheight &gt; 180\nTodas as linhas cuja altura é maior que 180\n\n\n&gt;=\nMaior ou igual a\nheight &gt;= 180\nTodas as linhas cuja altura é maior ou igual a 180\n\n\n&lt;\nMenor que\nheight &lt; 180\nTodas as linhas cuja altura é menor que 180\n\n\n&lt;=\nMenor ou igual a\nheight &lt;= 180\nTodas as linhas cuja altura é menor ou igual a 180\n\n\n%in%\nEstá em um conjunto\nspecies %in% c(\"Human\", \"Droid\")\nTodas as linhas cuja espécie é “Human” ou “Droid”\n\n\n!\nNegação\n!is.na(height)\nTodas as linhas cuja altura não é NA\n\n\n! e %in%\nNegação de um conjunto\n!(species %in% c(\"Human\", \"Droid\"))\nTodas as linhas cuja espécie não é “Human” ou “Droid”\n\n\n\n\n\nExemplos de funções auxiliares:\n\n\n\n\n\n\n\n\n\nFunção\nDescrição\nExemplo\nInterpretação\n\n\n\n\nstr_detect()\nDetecta padrões em textos\nstr_detect(name, \"Skywalker\")\nTodas as linhas cujo nome contém “Skywalker”\n\n\nstr_starts()\nDetecta padrões no início de textos\nstr_starts(name, \"Luke\")\nTodas as linhas cujo nome começa com “Luke”\n\n\nstr_ends()\nDetecta padrões no final de textos\nstr_ends(name, \"Vader\")\nTodas as linhas cujo nome termina com “Vader”",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Transformando dados"
    ]
  },
  {
    "objectID": "05_transformacao.html#selecionando-colunas-select",
    "href": "05_transformacao.html#selecionando-colunas-select",
    "title": "Transformando dados",
    "section": "Selecionando colunas (select())",
    "text": "Selecionando colunas (select())\nAlgumas colunas não são relevantes para responder à pergunta norteadora. Podemos selecionar apenas as colunas que vamos utilizar através da função select():\n\ndados_selecionados &lt;-\n  dados_filtrados |&gt;\n  select(\n    # colunas que queremos manter\n    unidade_da_federacao,\n    unidade_da_federacao_codigo,\n    trimestre,\n    trimestre_codigo,\n    condicao_em_relacao_a_forca_de_trabalho_e_condicao_de_ocupacao,\n    valor\n  )\n\nglimpse(dados_selecionados)\n\nRows: 6,750\nColumns: 6\n$ unidade_da_federacao                                           &lt;chr&gt; \"Rondôn…\n$ unidade_da_federacao_codigo                                    &lt;chr&gt; \"11\", \"…\n$ trimestre                                                      &lt;chr&gt; \"1º tri…\n$ trimestre_codigo                                               &lt;chr&gt; \"201201…\n$ condicao_em_relacao_a_forca_de_trabalho_e_condicao_de_ocupacao &lt;chr&gt; \"Total\"…\n$ valor                                                          &lt;dbl&gt; 1210, 7…\n\n\n\n\n\n\n\n\nVárias formas de selecionar colunas\n\n\n\nOs exemplos abaixo podem ser úteis para consulta futura!\nPara esses exemplos, vamos utilizar a tabela starwars do pacote dplyr:\n\nExemplos de seleção de colunas:\n\n\n\n\n\n\n\n\n\nOperador\nDescrição\nExemplo\nInterpretação\n\n\n\n\n:\nSeleciona um intervalo de colunas\nname:mass\nTodas as colunas entre name e mass\n\n\nc()\nSeleciona colunas específicas\nc(name, height, mass)\nApenas as colunas name, height e mass\n\n\n-c()\nExclui colunas específicas\n-c(name, height, mass)\nTodas as colunas, exceto name, height e mass\n\n\n\n\n\nExemplos de funções auxiliares:\n\n\n\n\n\n\n\n\n\nFunção\nDescrição\nExemplo\nInterpretação\n\n\n\n\nstarts_with()\nSeleciona colunas que começam com um prefixo\nstarts_with(\"h\")\nTodas as colunas que começam com “h”\n\n\nends_with()\nSeleciona colunas que terminam com um sufixo\nends_with(\"color\")\nTodas as colunas que terminam com “color”\n\n\ncontains()\nSeleciona colunas que contêm um padrão\ncontains(\"e\")\nTodas as colunas que contêm “e”",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Transformando dados"
    ]
  },
  {
    "objectID": "05_transformacao.html#renomeando-colunas-rename",
    "href": "05_transformacao.html#renomeando-colunas-rename",
    "title": "Transformando dados",
    "section": "Renomeando colunas (rename())",
    "text": "Renomeando colunas (rename())\nPodemos renomear colunas com a função rename(). Vamos renomear algumas colunas para facilitar o uso posteriormente:\n\ndados_renomeados_2 &lt;- dados_selecionados |&gt;\n  rename(\n    # colunas que queremos renomear: novo_nome = nome_atual\n    condicao = condicao_em_relacao_a_forca_de_trabalho_e_condicao_de_ocupacao,\n    valor_mil_pessoas = valor,\n    uf = unidade_da_federacao,\n    uf_codigo = unidade_da_federacao_codigo\n  )\n\nglimpse(dados_renomeados_2)\n\nRows: 6,750\nColumns: 6\n$ uf                &lt;chr&gt; \"Rondônia\", \"Rondônia\", \"Rondônia\", \"Rondônia\", \"Ron…\n$ uf_codigo         &lt;chr&gt; \"11\", \"11\", \"11\", \"11\", \"11\", \"11\", \"11\", \"11\", \"11\"…\n$ trimestre         &lt;chr&gt; \"1º trimestre 2012\", \"1º trimestre 2012\", \"1º trimes…\n$ trimestre_codigo  &lt;chr&gt; \"201201\", \"201201\", \"201201\", \"201201\", \"201201\", \"2…\n$ condicao          &lt;chr&gt; \"Total\", \"Força de trabalho\", \"Força de trabalho - o…\n$ valor_mil_pessoas &lt;dbl&gt; 1210, 765, 703, 62, 446, 1217, 782, 733, 49, 434, 12…",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Transformando dados"
    ]
  },
  {
    "objectID": "05_transformacao.html#transformando-a-estrutura-da-tabela-pivot_wider-e-pivot_longer",
    "href": "05_transformacao.html#transformando-a-estrutura-da-tabela-pivot_wider-e-pivot_longer",
    "title": "Transformando dados",
    "section": "Transformando a estrutura da tabela (pivot_wider() e pivot_longer())",
    "text": "Transformando a estrutura da tabela (pivot_wider() e pivot_longer())\nAinda considerando nossa pergunta norteadora, queremos calcular a taxa de desocupação de cada estado e região do Brasil ao longo do tempo. Para isso, é mais fácil trabalhar com a tabela onde cada linha represente uma UF por trimestre, e as categorias da variável condicao sejam transformadas em colunas.\nPara fazer essa transformação, podemos usar a função pivot_wider(), do pacote {tidyr}.\nA função pivot_wider() é útil quando queremos reorganizar uma tabela, transformando variáveis categóricas em novas colunas. Essa estrutura facilita cálculos comparativos e análises entre as diferentes categorias.\nPor exemplo, no formato atual (dados longos), temos uma linha para cada combinação de UF, trimestre e condição de ocupação. Ao usarmos pivot_wider(), vamos transformar a tabela para que cada linha represente uma UF por trimestre, e as diferentes condições de ocupação (empregado, desocupado, etc.) se tornem colunas.\n\ndados_largos &lt;- dados_renomeados_2 |&gt; \n  tidyr::pivot_wider(\n1  names_from = condicao,\n2  values_from = valor_mil_pessoas,\n3  names_prefix = \"mil_pessoas_\"\n)\n\n\n1\n\nnames_from =: Nome da coluna de onde os nomes das novas colunas serão extraídos\n\n2\n\nvalues_from =: Nome da coluna de onde os valores para preencher as novas colunas serão extraídos\n\n3\n\nnames_prefix =: Podemos adicionar um texto como prefixo. Nesse caso, isso é opcional, mas é útil para ficar claro qual é a unidade de medida das variáveis.\n\n\n\n\n\nglimpse(dados_largos)\n\nRows: 1,350\nColumns: 9\n$ uf                                           &lt;chr&gt; \"Rondônia\", \"Rondônia\", \"…\n$ uf_codigo                                    &lt;chr&gt; \"11\", \"11\", \"11\", \"11\", \"…\n$ trimestre                                    &lt;chr&gt; \"1º trimestre 2012\", \"2º …\n$ trimestre_codigo                             &lt;chr&gt; \"201201\", \"201202\", \"2012…\n$ mil_pessoas_Total                            &lt;dbl&gt; 1210, 1217, 1226, 1219, 1…\n$ `mil_pessoas_Força de trabalho`              &lt;dbl&gt; 765, 782, 784, 805, 796, …\n$ `mil_pessoas_Força de trabalho - ocupada`    &lt;dbl&gt; 703, 733, 738, 762, 746, …\n$ `mil_pessoas_Força de trabalho - desocupada` &lt;dbl&gt; 62, 49, 46, 42, 49, 39, 3…\n$ `mil_pessoas_Fora da força de trabalho`      &lt;dbl&gt; 446, 434, 441, 415, 437, …\n\n\nAgora temos uma tabela onde cada linha representa uma UF por trimestre, e as categorias da variável condicao se tornaram colunas. Porém agora temos colunas com nomes que estão com caracteres especiais, e podemos arrumar isso com a função clean_names().\n\ndados_largos_renomeados &lt;- janitor::clean_names(dados_largos)\nglimpse(dados_largos_renomeados)\n\nRows: 1,350\nColumns: 9\n$ uf                                       &lt;chr&gt; \"Rondônia\", \"Rondônia\", \"Rond…\n$ uf_codigo                                &lt;chr&gt; \"11\", \"11\", \"11\", \"11\", \"11\",…\n$ trimestre                                &lt;chr&gt; \"1º trimestre 2012\", \"2º trim…\n$ trimestre_codigo                         &lt;chr&gt; \"201201\", \"201202\", \"201203\",…\n$ mil_pessoas_total                        &lt;dbl&gt; 1210, 1217, 1226, 1219, 1233,…\n$ mil_pessoas_forca_de_trabalho            &lt;dbl&gt; 765, 782, 784, 805, 796, 800,…\n$ mil_pessoas_forca_de_trabalho_ocupada    &lt;dbl&gt; 703, 733, 738, 762, 746, 761,…\n$ mil_pessoas_forca_de_trabalho_desocupada &lt;dbl&gt; 62, 49, 46, 42, 49, 39, 36, 3…\n$ mil_pessoas_fora_da_forca_de_trabalho    &lt;dbl&gt; 446, 434, 441, 415, 437, 443,…\n\n\n\nAs funções pivot_longer() e pivot_wider() são usadas para alternar entre dados ‘longos’ e ‘largos’. Normalmente, dados longos são mais fáceis de visualizar, enquanto dados largos são melhores para realizar cálculos comparativos entre categorias. Para cada análise, sempre existe um formato mais apropriado a considerar.",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Transformando dados"
    ]
  },
  {
    "objectID": "05_transformacao.html#criando-e-transformando-colunas-mutate",
    "href": "05_transformacao.html#criando-e-transformando-colunas-mutate",
    "title": "Transformando dados",
    "section": "Criando e transformando colunas (mutate())",
    "text": "Criando e transformando colunas (mutate())\nPara criar novas colunas, ou transformar colunas que já existem, podemos usar a função mutate().\n\nAlterando os tipos de variáveis\nA variável uf_codigo está armazenada como valor numérico. No entanto, como não realizaremos operações matemáticas com esses valores, é mais apropriado transformá-los em fatores, o que facilita a análise e previne erros em cálculos futuros.\nExistem várias funções para transformar variáveis de um tipo para outro, como as.factor(), as.character(), as.numeric(), as.Date(), etc.\n\ndados_tipo &lt;- dados_largos_renomeados |&gt;\n  mutate(\n    # nova variável:\n    # nome_da_coluna = o que queremos calcular\n    uf_codigo = as.factor(uf_codigo)\n    )\n\n\n\nCalculando a taxa de desocupação\nPara calcular a taxa de desocupação, precisamos criar uma nova variável representando a proporção de pessoas desocupadas em relação ao total de pessoas economicamente ativas.\n\ndados_com_proporcao &lt;- dados_tipo |&gt;\n  mutate(\n1    prop_desocupacao = mil_pessoas_forca_de_trabalho_desocupada / mil_pessoas_forca_de_trabalho,\n2    perc_desocupacao = prop_desocupacao * 100\n  )\n\n\n1\n\nCalculando a proporção da desocupação: para cada linha, vamos dividir o valor mil_pessoas_forca_de_trabalho_desocupada por mil_pessoas_forca_de_trabalho.\n\n2\n\nMultiplicando por 100 para transformar em percentual.\n\n\n\n\n\n\nCriando uma variável trimestre_inicio\nPodemos criar uma nova variável chamada trimestre_inicio para representar a data de início de cada trimestre. Para isso, precisaremos criar algumas outras variáveis “auxiliares” a partir da variável trimestre_codigo: ano, trimestre_numero e trimestre_mes_inicio.\n\ndados_com_trimestre &lt;- dados_com_proporcao |&gt;\n  mutate(\n1    ano = stringr::str_sub(trimestre_codigo, 1, 4),\n2    ano = as.numeric(ano),\n    \n3    trimestre_numero = stringr::str_sub(trimestre_codigo, 5, 6),\n4    trimestre_numero = as.numeric(trimestre_numero),\n    \n5    trimestre_mes_inicio = case_when(\n      trimestre_numero == 1 ~ 1,\n      trimestre_numero == 2 ~ 4,\n      trimestre_numero == 3 ~ 7,\n      trimestre_numero == 4 ~ 10\n    ),\n    \n6    trimestre_inicio = paste0(ano, \"-\", trimestre_mes_inicio, \"-01\"),\n7    trimestre_inicio = as.Date(trimestre_inicio),\n    \n8    .after = trimestre_codigo\n  ) |&gt; \n9  select(-trimestre_mes_inicio, -trimestre_numero)\n\n\n1\n\nExtrair os 4 primeiros caracteres do código do trimestre\n\n2\n\nConvertendo a coluna ano de texto para numérico\n\n3\n\nExtrair os 2 últimos caracteres do código do trimestre\n\n4\n\nConvertendo a coluna trimestre_numero de texto para numérico\n\n5\n\nCriar variável com o mês de início do trimestre\n\n6\n\nCriar variável com data de início do trimestre (neste momento, com tipo texto), colando os valores do mês e ano.\n\n7\n\nConvertendo a coluna trimestre_inicio de texto para Data\n\n8\n\nQueremos adicionar as colunas novas após a coluna trimestre_codigo\n\n9\n\nRemovendo colunas que não serão necessárias\n\n\n\n\n\n\nCriando uma variável dummy\nUma variável dummy é uma variável binária que indica a presença ou ausência de algum atributo.\nPodemos criar uma variável dummy para identificar os trimestres que ocorreram durante o período de emergência em saúde pública de importância nacional de COVID-19. Para isso, vamos criar uma nova variável chamada periodo_pandemia, que será 1 para os trimestres que ocorreram durante a pandemia, e 0 para os demais trimestres. A função que utilizaremos é a case_when() do pacote {dplyr}.\n\nComeço: Fevereiro de 2020\nFinal: Abril de 2022\n\n\ndados_com_dummy &lt;- dados_com_trimestre |&gt; \n  mutate(\n    periodo_pandemia = case_when(\n    trimestre_codigo %in% c(\"202002\", \"202003\", \"202004\",\n                            \"202101\", \"202102\", \"202103\", \"202104\",\n1                            \"202201\") ~ 1,\n2    .default = 0\n  ))\n\n\n1\n\nCaso o trimestre_codigo sejam um dos listados dentro do vetor, queremos salvar o valor 1 na coluna periodo_pandemia.\n\n2\n\nO valor padrão é 0. Se nenhuma regra listada contemplar alguma linha, a coluna criada (periodo_pandemia) receberá o valor padrão (0). Ou seja, as linhas cujo período que não estão no vetor listado receberão o valor 0.",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Transformando dados"
    ]
  },
  {
    "objectID": "05_transformacao.html#ordenando-as-linhas-arrange",
    "href": "05_transformacao.html#ordenando-as-linhas-arrange",
    "title": "Transformando dados",
    "section": "Ordenando as linhas (arrange())",
    "text": "Ordenando as linhas (arrange())\nA base atual está ordada por trimestre e código da unidade da federação. Para facilitar a análise, podemos ordenar as linhas segundo a proporção de desocupação calculada no passo anterior, usando a função arrange():\n\ndados_com_dummy |&gt;\n1  select(trimestre_codigo, uf, perc_desocupacao) |&gt;\n2  arrange(perc_desocupacao)\n\n\n1\n\nSelecionando colunas relevantes, para facilitar ver o resultado\n\n2\n\nOrdenar linhas usando a coluna perc_desocupacao, de forma crescente\n\n\n\n\n# A tibble: 1,350 × 3\n   trimestre_codigo uf             perc_desocupacao\n   &lt;chr&gt;            &lt;chr&gt;                     &lt;dbl&gt;\n 1 202303           Rondônia                   2.34\n 2 202302           Rondônia                   2.38\n 3 202303           Mato Grosso                2.42\n 4 201304           Santa Catarina             2.57\n 5 201204           Santa Catarina             2.69\n 6 201404           Santa Catarina             2.70\n 7 201402           Santa Catarina             2.83\n 8 201303           Santa Catarina             2.84\n 9 201403           Santa Catarina             2.95\n10 202302           Mato Grosso                3.00\n# ℹ 1,340 more rows\n\n\nA função arrange() ordena, por padrão, de forma crescente. Podemos ordenar de forma decrescente, utilizando a função desc() junto à coluna que queremos ordenar de forma decrescente:\n\ndados_com_dummy |&gt;\n1  select(trimestre_codigo, uf, perc_desocupacao) |&gt;\n2  arrange(desc(perc_desocupacao))\n\n\n1\n\nSelecionando colunas relevantes, para facilitar ver o resultado\n\n2\n\nOrdenar linhas usando a coluna perc_desocupacao, de forma decrescente\n\n\n\n\n# A tibble: 1,350 × 3\n   trimestre_codigo uf         perc_desocupacao\n   &lt;chr&gt;            &lt;chr&gt;                 &lt;dbl&gt;\n 1 202102           Pernambuco             21.8\n 2 201802           Amapá                  21.7\n 3 202101           Bahia                  21.7\n 4 201801           Amapá                  21.6\n 5 202101           Pernambuco             21.4\n 6 202003           Bahia                  21.1\n 7 202003           Sergipe                20.8\n 8 202004           Bahia                  20.7\n 9 202101           Sergipe                20.7\n10 202002           Bahia                  20.5\n# ℹ 1,340 more rows\n\n\nNesse caso, as linhas ficaram ordenadas de forma decrescente, de acordo com a proporção de desocupação. Porém os trimestres não estão ordenados! A função arrange() permite que ordenemos por mais de uma coluna, e a ordem de prioridade é dada pela ordem em que as colunas são passadas para a função:\n\ndados_ordenados &lt;- dados_com_dummy |&gt; \n  arrange(\n  # colunas que queremos usar ordenar\n  trimestre_codigo, desc(prop_desocupacao)\n)\n\nglimpse(dados_ordenados)\n\nRows: 1,350\nColumns: 14\n$ uf                                       &lt;chr&gt; \"Amapá\", \"Bahia\", \"Rio Grande…\n$ uf_codigo                                &lt;fct&gt; 16, 29, 24, 27, 13, 28, 25, 2…\n$ trimestre                                &lt;chr&gt; \"1º trimestre 2012\", \"1º trim…\n$ trimestre_codigo                         &lt;chr&gt; \"201201\", \"201201\", \"201201\",…\n$ ano                                      &lt;dbl&gt; 2012, 2012, 2012, 2012, 2012,…\n$ trimestre_inicio                         &lt;date&gt; 2012-01-01, 2012-01-01, 2012…\n$ mil_pessoas_total                        &lt;dbl&gt; 487, 10986, 2540, 2383, 2463,…\n$ mil_pessoas_forca_de_trabalho            &lt;dbl&gt; 318, 6888, 1370, 1173, 1558, …\n$ mil_pessoas_forca_de_trabalho_ocupada    &lt;dbl&gt; 278, 6086, 1211, 1041, 1386, …\n$ mil_pessoas_forca_de_trabalho_desocupada &lt;dbl&gt; 40, 802, 159, 133, 173, 99, 1…\n$ mil_pessoas_fora_da_forca_de_trabalho    &lt;dbl&gt; 170, 4098, 1170, 1210, 905, 6…\n$ prop_desocupacao                         &lt;dbl&gt; 0.12578616, 0.11643438, 0.116…\n$ perc_desocupacao                         &lt;dbl&gt; 12.578616, 11.643438, 11.6058…\n$ periodo_pandemia                         &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n\n\nAgora temos a base de dados ordenada por trimestre, e dentro de cada trimestre, por proporção de desocupação (de forma descrecente).",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Transformando dados"
    ]
  },
  {
    "objectID": "05_transformacao.html#unindo-duas-bases-de-dados-left_join",
    "href": "05_transformacao.html#unindo-duas-bases-de-dados-left_join",
    "title": "Transformando dados",
    "section": "Unindo duas bases de dados (left_join())",
    "text": "Unindo duas bases de dados (left_join())\nUnir duas tabelas é algo comum em análises de dados. Usamos operações do tipo join para combinar duas tabelas, utilizando uma ou mais colunas como “chave”. As colunas do tipo chave têm valores comuns nas duas tabelas e são usadas para identificar as linhas correspondentes entre elas.\nO pacote {dplyr} fornece um conjunto de funções para realizar diferentes tipos de uniões, como left_join(), inner_join(), full_join(), entre outras.\nA função left_join() é a mais frequentemente usada: ela mantém todas as linhas da primeira tabela e adiciona colunas da segunda tabela onde houver correspondência.\n\nExemplo 1: Introdutório\nA base de dados que temos apresenta o nome e o código da UF, mas seria interessante ter a região, para futuramente usar essa variável em análises.\nA base de dados importada abaixo é um arquivo .csv preparado com as informações necessárias:\n\nuf_regiao &lt;- readr::read_csv(\"https://raw.githubusercontent.com/ipeadata-lab/curso_r_intro_202409/refs/heads/main/dados/uf_regiao.csv\")\n\nRows: 27 Columns: 3\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (2): uf_sigla, regiao\ndbl (1): uf_codigo\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\nVamos verificar a estrutura da base de dados uf_regiao:\n\nglimpse(uf_regiao)\n\nRows: 27\nColumns: 3\n$ uf_sigla  &lt;chr&gt; \"RO\", \"AC\", \"AM\", \"RR\", \"PA\", \"AP\", \"TO\", \"MA\", \"PI\", \"CE\", …\n$ uf_codigo &lt;dbl&gt; 11, 12, 13, 14, 15, 16, 17, 21, 22, 23, 24, 25, 26, 27, 28, …\n$ regiao    &lt;chr&gt; \"Norte\", \"Norte\", \"Norte\", \"Norte\", \"Norte\", \"Norte\", \"Norte…\n\n\nPodemos tentar unir as tabelas, sem informar a chave. Quando não informamos a chave, a função buscará os nomes de colunas em comum para utilizar essas colunas como chave:\n\ndados_ordenados |&gt; \n  left_join(uf_regiao)\n\nJoining with `by = join_by(uf_codigo)`\n\n\nError in `left_join()`:\n! Can't join `x$uf_codigo` with `y$uf_codigo` due to incompatible types.\nℹ `x$uf_codigo` is a &lt;factor&lt;48524&gt;&gt;.\nℹ `y$uf_codigo` is a &lt;double&gt;.\n\n\nNo exemplo acima, a função left_join() tentou unir as tabelas com a coluna uf_codigo, presente nas duas tabelas.\nPorém essas colunas apresentam tipos diferentes (fator e numérico). Precisamos deixá-las com o mesmo tipo para que a função left_join() consiga fazer a união corretamente. Vamos então transformar a coluna uf_codigo da tabela uf_regiao em fator:\n\nuf_regiao_fct &lt;- uf_regiao |&gt; \n  mutate(uf_codigo = as.factor(uf_codigo)) \n\nAgora podemos unir as tabelas dados_ordenados e uf_regiao_fct:\n\ndados_com_regiao &lt;- dados_ordenados |&gt;\n1  left_join(uf_regiao_fct) |&gt;\n2  relocate(uf_sigla, regiao, .after = uf_codigo)\n\n\n1\n\nUnindo a tabela dados ordenados e uf_regiao_fct usando como chave a coluna uf_codigo.\n\n2\n\nMover as colunas uf_sigla e regiao para após a coluna uf_codigo.\n\n\n\n\nJoining with `by = join_by(uf_codigo)`\n\n\nA nova tabela dados_com_regiao contém as colunas de uf_sigla e regiao, que foram adicionadas a partir da tabela uf_regiao_fct:\n\nglimpse(dados_com_regiao)\n\nRows: 1,350\nColumns: 16\n$ uf                                       &lt;chr&gt; \"Amapá\", \"Bahia\", \"Rio Grande…\n$ uf_codigo                                &lt;fct&gt; 16, 29, 24, 27, 13, 28, 25, 2…\n$ uf_sigla                                 &lt;chr&gt; \"AP\", \"BA\", \"RN\", \"AL\", \"AM\",…\n$ regiao                                   &lt;chr&gt; \"Norte\", \"Nordeste\", \"Nordest…\n$ trimestre                                &lt;chr&gt; \"1º trimestre 2012\", \"1º trim…\n$ trimestre_codigo                         &lt;chr&gt; \"201201\", \"201201\", \"201201\",…\n$ ano                                      &lt;dbl&gt; 2012, 2012, 2012, 2012, 2012,…\n$ trimestre_inicio                         &lt;date&gt; 2012-01-01, 2012-01-01, 2012…\n$ mil_pessoas_total                        &lt;dbl&gt; 487, 10986, 2540, 2383, 2463,…\n$ mil_pessoas_forca_de_trabalho            &lt;dbl&gt; 318, 6888, 1370, 1173, 1558, …\n$ mil_pessoas_forca_de_trabalho_ocupada    &lt;dbl&gt; 278, 6086, 1211, 1041, 1386, …\n$ mil_pessoas_forca_de_trabalho_desocupada &lt;dbl&gt; 40, 802, 159, 133, 173, 99, 1…\n$ mil_pessoas_fora_da_forca_de_trabalho    &lt;dbl&gt; 170, 4098, 1170, 1210, 905, 6…\n$ prop_desocupacao                         &lt;dbl&gt; 0.12578616, 0.11643438, 0.116…\n$ perc_desocupacao                         &lt;dbl&gt; 12.578616, 11.643438, 11.6058…\n$ periodo_pandemia                         &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n\n\n\n\nExemplo 2: Intermediário\nUm exemplo comum de uso é quando temos dados por município ou estado, e desejamos visualizar esses dados em um mapa. Para isso, precisamos de informações geoespaciais, como a delimitação geográfica de cada município ou estado. Podemos usar o left_join() para combinar esses dados geoespaciais com os dados que queremos visualizar.\nVamos usar o pacote {geobr} para carregar as geometrias dos estados brasileiros.\n\n\n\n\n\n\nDica\n\n\n\nO pacote {geobr} facilita o acesso a dados geoespaciais do Brasil, como estados, municípios e outras divisões administrativas. Ele é muito útil quando queremos fazer análises geoespaciais, já que oferece dados geográficos prontos para uso.\nPodemos utilizar a função read_state() para carregar as geometrias dos estados brasileiros. Isso nos permite combinar essas geometrias com outros dados, como taxas de desocupação, e criar mapas que facilitam a visualização de padrões regionais.\n\n\n\ngeo_estados &lt;- geobr::read_state(showProgress = FALSE)\nglimpse(geo_estados)\n\nRows: 27\nColumns: 6\n$ code_state   &lt;dbl&gt; 11, 12, 13, 14, 15, 16, 17, 21, 22, 23, 24, 25, 26, 27, 2…\n$ abbrev_state &lt;chr&gt; \"RO\", \"AC\", \"AM\", \"RR\", \"PA\", \"AP\", \"TO\", \"MA\", \"PI\", \"CE…\n$ name_state   &lt;chr&gt; \"Rondônia\", \"Acre\", \"Amazonas\", \"Roraima\", \"Pará\", \"Amapá…\n$ code_region  &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, …\n$ name_region  &lt;chr&gt; \"Norte\", \"Norte\", \"Norte\", \"Norte\", \"Norte\", \"Norte\", \"No…\n$ geom         &lt;MULTIPOLYGON [°]&gt; MULTIPOLYGON (((-63.32721 -..., MULTIPOLYGON…\n\n\nO left_join() é usado aqui para combinar os dados do SIDRA com os dados das delimitações das UFs. Cada linha do nosso dataset de desocupação será associada à respectiva geometria da UF, permitindo visualizarmos as proporções de desocupação por UF em um mapa. Esse tipo de operação é comum quando queremos identificar padrões regionais.\nÉ importante garantir que as colunas usadas na combinação de tabelas (o argumento by do left_join()) tenham o mesmo tipo de dado. Podemos verificar o tipo de dado de cada coluna com a função class():\n\nclass(geo_estados$code_state)\n\n[1] \"numeric\"\n\nclass(dados_com_regiao$uf_codigo)\n\n[1] \"factor\"\n\n\nNeste caso, as colunas que queremos usar como chave são de tipos diferentes (numérico e fator), O left_join() não conseguirá fazer a correspondência corretamente, e a função gerará um erro:\n\nleft_join(geo_estados, dados_com_regiao, by = join_by(code_state == uf_codigo))\n\nError in `sf_column %in% names(g)`:\n! Can't join `x$code_state` with `y$uf_codigo` due to incompatible\n  types.\nℹ `x$code_state` is a &lt;double&gt;.\nℹ `y$uf_codigo` is a &lt;factor&lt;48524&gt;&gt;.\n\n\nNo exemplo, podemos transformar a coluna code_state em fator usando mutate(). Assim, garantimos que as colunas usadas no argumento by sejam do mesmo tipo e possam ser corretamente combinados.\n\ndados_geo &lt;- geo_estados |&gt; \n  mutate(code_state = as.factor(code_state)) |&gt; \n  left_join(dados_com_regiao, by = join_by(code_state == uf_codigo))\n\nglimpse(dados_geo)\n\nRows: 1,350\nColumns: 21\n$ code_state                               &lt;fct&gt; 11, 11, 11, 11, 11, 11, 11, 1…\n$ abbrev_state                             &lt;chr&gt; \"RO\", \"RO\", \"RO\", \"RO\", \"RO\",…\n$ name_state                               &lt;chr&gt; \"Rondônia\", \"Rondônia\", \"Rond…\n$ code_region                              &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…\n$ name_region                              &lt;chr&gt; \"Norte\", \"Norte\", \"Norte\", \"N…\n$ uf                                       &lt;chr&gt; \"Rondônia\", \"Rondônia\", \"Rond…\n$ uf_sigla                                 &lt;chr&gt; \"RO\", \"RO\", \"RO\", \"RO\", \"RO\",…\n$ regiao                                   &lt;chr&gt; \"Norte\", \"Norte\", \"Norte\", \"N…\n$ trimestre                                &lt;chr&gt; \"1º trimestre 2012\", \"2º trim…\n$ trimestre_codigo                         &lt;chr&gt; \"201201\", \"201202\", \"201203\",…\n$ ano                                      &lt;dbl&gt; 2012, 2012, 2012, 2012, 2013,…\n$ trimestre_inicio                         &lt;date&gt; 2012-01-01, 2012-04-01, 2012…\n$ mil_pessoas_total                        &lt;dbl&gt; 1210, 1217, 1226, 1219, 1233,…\n$ mil_pessoas_forca_de_trabalho            &lt;dbl&gt; 765, 782, 784, 805, 796, 800,…\n$ mil_pessoas_forca_de_trabalho_ocupada    &lt;dbl&gt; 703, 733, 738, 762, 746, 761,…\n$ mil_pessoas_forca_de_trabalho_desocupada &lt;dbl&gt; 62, 49, 46, 42, 49, 39, 36, 3…\n$ mil_pessoas_fora_da_forca_de_trabalho    &lt;dbl&gt; 446, 434, 441, 415, 437, 443,…\n$ prop_desocupacao                         &lt;dbl&gt; 0.08104575, 0.06265985, 0.058…\n$ perc_desocupacao                         &lt;dbl&gt; 8.104575, 6.265985, 5.867347,…\n$ periodo_pandemia                         &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ geom                                     &lt;MULTIPOLYGON [°]&gt; MULTIPOLYGON (((…\n\n\nAgora temos uma base de dados que combina os dados do SIDRA com as geometrias dos estados brasileiros.\nCombinar dados dessa forma nos permite fazer visualizações geoespaciais, como um mapa de calor das taxas de desocupação por estado. Isso facilita a identificação de padrões regionais, ajudando na interpretação dos dados.\nNão falaremos nesse momento sobre como criar visualizações e mapas, pois isso será abordado em aulas futuras. Mas podemos adiantar um exemplo de como criar um mapa apresentando as proporções de desocupação por estado:\n\n\nCódigo\nlibrary(ggplot2)\ndados_geo |&gt; \n  filter(trimestre_codigo == \"202402\") |&gt;\n  ggplot() +\n  geom_sf(aes(fill = perc_desocupacao)) +\n  theme_light() +\n  scale_fill_viridis_c() +\n  labs(title = \"Percentual de desocupação por UF no 2º trimestre de 2024\",\n       fill = \"Desocupação (%)\") +\n  theme(legend.position = \"bottom\")",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Transformando dados"
    ]
  },
  {
    "objectID": "05_transformacao.html#salvando-a-base-de-dados-preparada",
    "href": "05_transformacao.html#salvando-a-base-de-dados-preparada",
    "title": "Transformando dados",
    "section": "Salvando a base de dados preparada",
    "text": "Salvando a base de dados preparada\nPor fim, podemos salvar a base de dados preparada para usar nas próximas etapas. Assim não precisamos repetir todo o processo de limpeza e transformação de dados a cada vez que quisermos fazer uma análise.\nÉ recomendável salvar a base de dados em um formato que preserve a estrutura dos dados, como .rds.\n\n# Salvando os dados preparados\nreadr::write_rds(dados_com_regiao, \"dados_output/sidra_4092_arrumado.rds\")",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Transformando dados"
    ]
  },
  {
    "objectID": "05_transformacao.html#exercícios-sugeridos",
    "href": "05_transformacao.html#exercícios-sugeridos",
    "title": "Transformando dados",
    "section": "Exercícios sugeridos",
    "text": "Exercícios sugeridos\nUtilizando a base de dados que criamos nessa aula (com a taxa de desocupação calculada), responda as perguntas abaixo.\n\nCrie uma nova tabela com apenas as colunas uf, trimestre, perc_desocupacao e periodo_pandemia.\nQual foi a combinação de Estado/Trimestre que teve a maior taxa de desocupação…\n\n\n\nDurante a pandemia?\n\n\nFora do período de pandemia?\n\n\n\nConsiderando o trimestre mais recente disponível, qual é o estado com a maior taxa de desocupação? E a maior?\nConsiderando o trimestre mais recente disponível, quais são os 5 estados com as maiores taxas de desocupação?\nUtilizando a função tidyr::pivot_wider(), como podemos criar uma tabela onde cada linha apresente dados de um estado, e cada trimestre esteja em uma coluna? Veja o exemplo abaixo:\n\n\n\n# A tibble: 27 × 51\n   uf                `1º trimestre 2012` `2º trimestre 2012` `3º trimestre 2012`\n   &lt;chr&gt;                           &lt;dbl&gt;               &lt;dbl&gt;               &lt;dbl&gt;\n 1 Amapá                           12.6                14.6                14.3 \n 2 Bahia                           11.6                11.4                10.8 \n 3 Rio Grande do No…               11.6                11.4                11.5 \n 4 Alagoas                         11.3                11.7                11.6 \n 5 Amazonas                        11.1                 9.06                9.51\n 6 Sergipe                         10.5                11.0                10.6 \n 7 Paraíba                         10.0                 9.41                8.61\n 8 Pernambuco                       9.58                8.30                9.38\n 9 Acre                             9.27                9.12                7.69\n10 Distrito Federal                 8.80                8.49                8.69\n# ℹ 17 more rows\n# ℹ 47 more variables: `4º trimestre 2012` &lt;dbl&gt;, `1º trimestre 2013` &lt;dbl&gt;,\n#   `2º trimestre 2013` &lt;dbl&gt;, `3º trimestre 2013` &lt;dbl&gt;,\n#   `4º trimestre 2013` &lt;dbl&gt;, `1º trimestre 2014` &lt;dbl&gt;,\n#   `2º trimestre 2014` &lt;dbl&gt;, `3º trimestre 2014` &lt;dbl&gt;,\n#   `4º trimestre 2014` &lt;dbl&gt;, `1º trimestre 2015` &lt;dbl&gt;,\n#   `2º trimestre 2015` &lt;dbl&gt;, `3º trimestre 2015` &lt;dbl&gt;, …",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Transformando dados"
    ]
  },
  {
    "objectID": "05_transformacao.html#sugestões-de-materiais",
    "href": "05_transformacao.html#sugestões-de-materiais",
    "title": "Transformando dados",
    "section": "Sugestões de materiais",
    "text": "Sugestões de materiais\n\nLivro R para Ciência de Dados 2ed:\n\nTransformação de dados\nOrganização de dados",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Transformando dados"
    ]
  },
  {
    "objectID": "05_transformacao.html#footnotes",
    "href": "05_transformacao.html#footnotes",
    "title": "Transformando dados",
    "section": "Notas de rodapé",
    "text": "Notas de rodapé\n\n\nÉ interessante conhecer mais sobre a base de dados que estamos utilizando. O IBGE apresenta alguns conteúdos interessantes, como a página com informações sobre a PNAD Contínua Trimestral, e também a página sobre desemprego que nos ajuda a entender as variáveis presentes.↩︎",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Transformando dados"
    ]
  },
  {
    "objectID": "13_censobr_documentacao.html",
    "href": "13_censobr_documentacao.html",
    "title": "Documentação dos Censos",
    "section": "",
    "text": "Além de funções para leitura dos dados, o pacote {censobr} traz ainda um conjunto de funções que permitem rápido acesso à documentação dos censos demográficos, incluindo os dicionários de variáveis, questionários e manual do entrevistador para entrevistas.\nTabela 2. Funções de documentação disponíveis no {censobr}\n\n\n\n    \n    \n    \n\n\n\n\n\n\n\nFunção\nDocumentação\nTipo\nDisponibilidade\n\n\n1960\n70\n80\n91\n2000\n10\n22\n\n\n\n\ndata_dictionary()\nDicionário de variáveis\nMicrodados\nX\nX\nX\nX\nX\nX\nem breve\n\n\nAgregados de setores censitários\n\n\n\n\nX\nX\nem breve\n\n\nquestionnaire()\nQuestionários\nLongo e curto\nX\nX\nX\nX\nX\nX\nX\n\n\ninterview_manual()\nManual do entrevistador\n-\nX\nX\nX\nX\nX\nX\nX\n\n\n\n\n\n\n\n\nTodas funções de documentação baixam os arquivos em formato .html ou .pdf, e abrem o documento no navegador (browser). Assim como as funções de leitura de dados do {censobr}, essas funções de documentação também salvam os arquivos num cache local na primeira vez que a função é rodada. Assim, quando o usuário roda a função novamente, o pacote simplesmente carrega o arquivo local de maneira quase instantânea.\n\n\n\nA função data_dictionary() carrega o dicionário de variáveis, apontando a definição de cada variável e o significado de suas categorias no caso de variáveis categóricas. Atualmente, a função abrange os dicionários dos microdados da amostra para todos os censos brasileiros desde 1960: c(1960, 1970, 1980, 1991, 2000 e 2010). Além disso, a função também inclui atualmente os dicionários dos dados do universo agregados em setores censitário para os anos 2000 e 2010.\n\nlibrary(censobr)\n\n# dicionário de variáveis de pessoas (microdados da amostra)\ndata_dictionary(year = 2010, \n                dataset = 'population')\n\n# dicionário de variáveis de domicílios (microdados da amostra)\ndata_dictionary(year = 2010, \n                dataset = 'households')\n\n\n# dicionário de variáveis de setores censitários (agregados do universo)\ndata_dictionary(year = 2010, \n                dataset = 'tracts')\n\n\n\n\nCom frequência, é importante se entender a estrutura e fluxo do questionário utilizado em pesquisas de coleta de dados. A função questionnaire() inclui os questionários utilizados na coleta de dados de todos os censos brasileiros desde 1960.\nAlém de passar o parâmetro year, o usuário precisa indicar o tipo de questionário de interesse, se o questionário curto do universo (type = 'short') ou o questionário longo utilizado na pesquisa amostral (type = 'long').\n\n# questionário curto da pesquisa do universo\nquestionnaire(year = 2022, \n              type = 'short')\n\n# questionário longo da pesquisa amostral\nquestionnaire(year = 2022, \n              type = 'long')\n\n\n\n\nPor fim, a função interview_manual() faz o download e abre no navegador o “Manual do Recenseador”, ou seja, o manual de instruções para os recenseadores do IBGE sobre como coletar os dados do censo. Estão disponíveis os manuais de todos os censos desde 1960.\n\n# Censo de 2010\ninterview_manual(year = 2022)\n\n# Censo de 1970\ninterview_manual(year = 1960)",
    "crumbs": [
      "Explorando o Censo Demográfico",
      "Documentação dos Censos"
    ]
  },
  {
    "objectID": "13_censobr_documentacao.html#documentação-do-censo-disponível-no-censobr",
    "href": "13_censobr_documentacao.html#documentação-do-censo-disponível-no-censobr",
    "title": "Documentação dos Censos",
    "section": "",
    "text": "Além de funções para leitura dos dados, o pacote {censobr} traz ainda um conjunto de funções que permitem rápido acesso à documentação dos censos demográficos, incluindo os dicionários de variáveis, questionários e manual do entrevistador para entrevistas.\nTabela 2. Funções de documentação disponíveis no {censobr}\n\n\n\n    \n    \n    \n\n\n\n\n\n\n\nFunção\nDocumentação\nTipo\nDisponibilidade\n\n\n1960\n70\n80\n91\n2000\n10\n22\n\n\n\n\ndata_dictionary()\nDicionário de variáveis\nMicrodados\nX\nX\nX\nX\nX\nX\nem breve\n\n\nAgregados de setores censitários\n\n\n\n\nX\nX\nem breve\n\n\nquestionnaire()\nQuestionários\nLongo e curto\nX\nX\nX\nX\nX\nX\nX\n\n\ninterview_manual()\nManual do entrevistador\n-\nX\nX\nX\nX\nX\nX\nX\n\n\n\n\n\n\n\n\nTodas funções de documentação baixam os arquivos em formato .html ou .pdf, e abrem o documento no navegador (browser). Assim como as funções de leitura de dados do {censobr}, essas funções de documentação também salvam os arquivos num cache local na primeira vez que a função é rodada. Assim, quando o usuário roda a função novamente, o pacote simplesmente carrega o arquivo local de maneira quase instantânea.",
    "crumbs": [
      "Explorando o Censo Demográfico",
      "Documentação dos Censos"
    ]
  },
  {
    "objectID": "13_censobr_documentacao.html#dicionário-de-dados",
    "href": "13_censobr_documentacao.html#dicionário-de-dados",
    "title": "Documentação dos Censos",
    "section": "",
    "text": "A função data_dictionary() carrega o dicionário de variáveis, apontando a definição de cada variável e o significado de suas categorias no caso de variáveis categóricas. Atualmente, a função abrange os dicionários dos microdados da amostra para todos os censos brasileiros desde 1960: c(1960, 1970, 1980, 1991, 2000 e 2010). Além disso, a função também inclui atualmente os dicionários dos dados do universo agregados em setores censitário para os anos 2000 e 2010.\n\nlibrary(censobr)\n\n# dicionário de variáveis de pessoas (microdados da amostra)\ndata_dictionary(year = 2010, \n                dataset = 'population')\n\n# dicionário de variáveis de domicílios (microdados da amostra)\ndata_dictionary(year = 2010, \n                dataset = 'households')\n\n\n# dicionário de variáveis de setores censitários (agregados do universo)\ndata_dictionary(year = 2010, \n                dataset = 'tracts')",
    "crumbs": [
      "Explorando o Censo Demográfico",
      "Documentação dos Censos"
    ]
  },
  {
    "objectID": "13_censobr_documentacao.html#questionários",
    "href": "13_censobr_documentacao.html#questionários",
    "title": "Documentação dos Censos",
    "section": "",
    "text": "Com frequência, é importante se entender a estrutura e fluxo do questionário utilizado em pesquisas de coleta de dados. A função questionnaire() inclui os questionários utilizados na coleta de dados de todos os censos brasileiros desde 1960.\nAlém de passar o parâmetro year, o usuário precisa indicar o tipo de questionário de interesse, se o questionário curto do universo (type = 'short') ou o questionário longo utilizado na pesquisa amostral (type = 'long').\n\n# questionário curto da pesquisa do universo\nquestionnaire(year = 2022, \n              type = 'short')\n\n# questionário longo da pesquisa amostral\nquestionnaire(year = 2022, \n              type = 'long')",
    "crumbs": [
      "Explorando o Censo Demográfico",
      "Documentação dos Censos"
    ]
  },
  {
    "objectID": "13_censobr_documentacao.html#manual-do-entrevistador",
    "href": "13_censobr_documentacao.html#manual-do-entrevistador",
    "title": "Documentação dos Censos",
    "section": "",
    "text": "Por fim, a função interview_manual() faz o download e abre no navegador o “Manual do Recenseador”, ou seja, o manual de instruções para os recenseadores do IBGE sobre como coletar os dados do censo. Estão disponíveis os manuais de todos os censos desde 1960.\n\n# Censo de 2010\ninterview_manual(year = 2022)\n\n# Censo de 1970\ninterview_manual(year = 1960)",
    "crumbs": [
      "Explorando o Censo Demográfico",
      "Documentação dos Censos"
    ]
  },
  {
    "objectID": "00_erros_frequentes.html",
    "href": "00_erros_frequentes.html",
    "title": "Erros e warnings frequentes",
    "section": "",
    "text": "A lista a seguir apresenta alguns erros e warnings que apareceram na aula (seja por dúvida presencial, seja no chat do Google Meet).",
    "crumbs": [
      "Anexos",
      "Erros e *warnings* frequentes"
    ]
  },
  {
    "objectID": "00_erros_frequentes.html#instalação",
    "href": "00_erros_frequentes.html#instalação",
    "title": "Erros e warnings frequentes",
    "section": "Instalação",
    "text": "Instalação\n\nRTools\nPara pessoas que utilizam o sistema operacional Windows, a aviso (warning) abaixo pode aparecer em alguns contextos:\nWARNING: Rtools is required to build R packages but is not currently installed.\nPlease download and install the appropriate version of Rtools before proceeding:\n\nhttps://cran.rstudio.com/bin/windows/Rtools/\nInstalando pacote em ‘C:/Users/.../AppData/Local/R/win-library/4.4’\n(como ‘lib’ não foi especificado)\nPara que esse aviso não apareça mais, você pode instalar o Rtools no seu computador. O RTools é um software (não é um pacote do R), portanto você precisa fazer o download da versão compatível com a versão do R que você está utilizando, e instalar no seu computador.\nPara fazer o download, acesse o link https://cran.rstudio.com/bin/windows/Rtools/, e escolha a versão do RTools compatível com a versão do R que você está utilizando:\n\n\n\nCaptura de tela: página de download do RTools\n\n\nPara consultar a versão do R que você está utilizando, você pode rodar o seguinte comando no console do R:\n\nR.version.string\n\n[1] \"R version 4.4.1 (2024-06-14)\"",
    "crumbs": [
      "Anexos",
      "Erros e *warnings* frequentes"
    ]
  },
  {
    "objectID": "00_erros_frequentes.html#conceitos-básicos",
    "href": "00_erros_frequentes.html#conceitos-básicos",
    "title": "Erros e warnings frequentes",
    "section": "Conceitos básicos",
    "text": "Conceitos básicos\n\nInstalando pacotes\nO erro a seguir ocorre quando o usuário tenta instalar um pacote sem aspas. O correto é colocar o nome do pacote entre aspas.\n\n# O código abaixo gerará um erro:\ninstall.packages(janitor)\n\nError in eval(call, envir = parent.frame()): object 'janitor' not found\n\n\nA função deve receber o nome do pacote entre aspas, pois é um texto:\n\n# O código abaixo funcionará:\ninstall.packages(\"janitor\")\n\n\n\nPacote não encontrado\nO erro a seguir ocorre quando tentamos carregar um pacote que não foi instalado anteriormente. Para resolver, precisamos instalar o pacote.\n\n# O código abaixo gerará um erro:\n1library(quarto)\n\n\n1\n\nNome do pacote\n\n\n\n\nPara que consiga acessar, é necessário instalar o pacote, e depois carregá-lo:\n\ninstall.packages(\"quarto\")\nlibrary(quarto)\n\n\n\nObjeto não encontrado\nO erro a seguir ocorre quando tentamos acessar um objeto que não consta no painel Environment. Existe alguns motivos para isso acontecer:\n\nO objeto não foi criado (provavelmente precisa executar o código que cria o objeto);\nO objeto existe no painel Environment, mas estamos tentando acessá-lo com o nome incorreto.\n\nNo exemplo a seguir, o código gerará um erro pois o objeto que estamos tentando acessar ainda não foi criado:\n\n# O código abaixo gerará um erro:\nlength(estados_sudeste)\n\nError: object 'estados_sudeste' not found\n\n\nApós criar o objeto, conseguimos utilizá-lo:\n\nestados_sudeste &lt;- c(\"SP\", \"RJ\", \"MG\", \"ES\")\nlength(estados_sudeste)\n\n[1] 4\n\n\n\n\nFunção não encontrada\nO erro could not find function ocorre quando tentamos acessar uma função que não está sendo encontrada. Isso pode acontecer por alguns motivos:\n\nA função faz parte de um pacote que não foi carregado (precisamos carregar o pacote antes);\nA função foi escrita de forma incorreta (por exemplo, com letras maiúsculas ou minúsculas incorretas).\n\n\nPacote não carregado\nNo exemplo a seguir, queremos limpar o nome das colunas do data frame iris:\n\nhead(iris)\n\n  Sepal.Length Sepal.Width Petal.Length Petal.Width Species\n1          5.1         3.5          1.4         0.2  setosa\n2          4.9         3.0          1.4         0.2  setosa\n3          4.7         3.2          1.3         0.2  setosa\n4          4.6         3.1          1.5         0.2  setosa\n5          5.0         3.6          1.4         0.2  setosa\n6          5.4         3.9          1.7         0.4  setosa\n\n\nO código a seguir gerará um erro pois a função clean_names() faz parte do pacote janitor, mas o pacote não foi carregado:\n\nclean_names(iris)\n\nError in clean_names(iris): could not find function \"clean_names\"\n\n\nPara corrigir, precisamos carregar o pacote janitor:\n\nlibrary(janitor)\niris_nome_limpo &lt;- clean_names(iris)\nhead(iris_nome_limpo)\n\n  sepal_length sepal_width petal_length petal_width species\n1          5.1         3.5          1.4         0.2  setosa\n2          4.9         3.0          1.4         0.2  setosa\n3          4.7         3.2          1.3         0.2  setosa\n4          4.6         3.1          1.5         0.2  setosa\n5          5.0         3.6          1.4         0.2  setosa\n6          5.4         3.9          1.7         0.4  setosa\n\n\n\n\nErro de digitação\nNo exemplo a seguir, o código gerará um erro pois a função length() está escrito de forma incorreta:\n\n# O código abaixo gerará um erro:\nlenght(letters)\n\nError in lenght(letters): could not find function \"lenght\"\n\n\nPara corrigir, precisamos escrever a função corretamente:\n\nlength(letters)\n\n[1] 26",
    "crumbs": [
      "Anexos",
      "Erros e *warnings* frequentes"
    ]
  },
  {
    "objectID": "00_erros_frequentes.html#importação",
    "href": "00_erros_frequentes.html#importação",
    "title": "Erros e warnings frequentes",
    "section": "Importação",
    "text": "Importação\n\nArquivo não encontrado\nAo importar um arquivo, é importante que o caminho esteja correto. Caso contrário, o código gerará um erro.\n\nlibrary(tidyverse)\n\n\n# O caminho abaixo está incorreto, esse arquivo não existe\n# no nosso projeto:\nsidra_4092 &lt;- read_csv(\"SIDRAR.csv\")\n\nError: 'SIDRAR.csv' does not exist in current working directory ('/Users/beatrizmilz/Documents/IPEA-DATALAB/curso_r_intro_202409').\n\n\nCorrigindo o arquivo, o código funcionará:\n\nsidra_4092 &lt;- read_csv(\"dados/sidrar_4092_bruto.csv\")\nglimpse(sidra_4092)\n\nRows: 27,000\nColumns: 13\n$ `Nível Territorial (Código)`                                              &lt;dbl&gt; …\n$ `Nível Territorial`                                                       &lt;chr&gt; …\n$ `Unidade de Medida (Código)`                                              &lt;dbl&gt; …\n$ `Unidade de Medida`                                                       &lt;chr&gt; …\n$ Valor                                                                     &lt;dbl&gt; …\n$ `Unidade da Federação (Código)`                                           &lt;dbl&gt; …\n$ `Unidade da Federação`                                                    &lt;chr&gt; …\n$ `Trimestre (Código)`                                                      &lt;dbl&gt; …\n$ Trimestre                                                                 &lt;chr&gt; …\n$ `Variável (Código)`                                                       &lt;dbl&gt; …\n$ Variável                                                                  &lt;chr&gt; …\n$ `Condição em relação à força de trabalho e condição de ocupação (Código)` &lt;dbl&gt; …\n$ `Condição em relação à força de trabalho e condição de ocupação`          &lt;chr&gt; …",
    "crumbs": [
      "Anexos",
      "Erros e *warnings* frequentes"
    ]
  },
  {
    "objectID": "00_erros_frequentes.html#arquivo-corrompido",
    "href": "00_erros_frequentes.html#arquivo-corrompido",
    "title": "Erros e warnings frequentes",
    "section": "Arquivo corrompido",
    "text": "Arquivo corrompido\nO erro a seguir ocorre quando tentamos importar um arquivo que está corrompido. Nesse caso, precisamos baixar o arquivo novamente.\n\nlibrary(readxl)\nexcel_sheets(\"dados/sidrar_4092_bruto.xlsx\")\n# Error in readBin(con, raw(), n = size) : \n#   error reading from the connection",
    "crumbs": [
      "Anexos",
      "Erros e *warnings* frequentes"
    ]
  },
  {
    "objectID": "00_projeto_eda.html",
    "href": "00_projeto_eda.html",
    "title": "Projeto de Análise Exploratória de Dados com R",
    "section": "",
    "text": "Com o objetivo de praticar os conceitos apresentados no curso, recomendamos que as pessoas participantes realizem um projeto de análise exploratória de dados paralelamente às aulas. Este projeto permitirá que você consolide o aprendizado adquirido, explorando dados reais e aplicando as ferramentas de análise discutidas em aula.\nAproveite o projeto para aplicar os conceitos apresentados no curso e para explorar novas funcionalidades do R. Ao se deparar com uma dúvida, não esqueça de anotar e perguntar durante as aulas para os monitores. A equipe do curso está disponível para auxiliar com dúvidas sobre o projeto até a data final do curso.\nOs passos a seguir podem te ajudar a organizar o projeto de análise exploratória de dados:\n\nEscolha um conjunto de dados: Você pode escolher um conjunto de dados de sua preferência. Caso não tenha um conjunto de dados em mente, sugerimos que escolha um dos conjuntos de dados disponíveis nos seguintes pacotes:\n\nsidrar: Acesso aos dados disponíveis no SIDRA - Sistema IBGE de Recuperação Automática.\ncensobr: Dados de censos demográficos brasileiros.\nipeadatar: Acesso aos dados disponibilizados no Ipeadata.\nflightsbr: Dados de vôos no Brasil.\nPNADcIBGE: Dados da PNAD Contínua do IBGE.\nmicrodatasus: Acesso aos microdados do DataSUS.\n\nCrie um projeto no RStudio: Crie um projeto no RStudio para armazenar os códigos e arquivos do projeto. Esse procedimento será descrito na aula Conhecendo o R e o RStudio.\nImporte os dados: Importe o conjunto de dados escolhido para o R. Esse procedimento será descrito na aula Importando dados.\nObjetivo da análise: Defina o objetivo da análise exploratória de dados. Quais são as perguntas que você deseja responder a partir desta base de dados?\nDescreva o conjunto de dados brutos: Faça uma breve descrição do conjunto de dados escolhido. Qual é a unidade observacional (o que cada linha significa)? Quais são as variáveis presentes? Quais são os tipos de variáveis? Você pode incluir tabelas ou gráficos para facilitar a visualização das variáveis e sua distribuição. O que precisa ser feito para deixar a tabela “limpa”, ou seja, pronta para a análise?\nLimpeza dos dados: Utilize o que você aprendeu na etapa passada para limpar o conjunto de dados. Isso pode incluir lidar com dados ausentes, remover outliers ou inconsistências. A aula Transformando dados será útil nessa etapa.\nRealize a análise exploratória de dados: Utilize os conceitos apresentados no curso para realizar a análise exploratória de dados do conjunto escolhido. Lembre-se do objetivo que você definiu anteriormente e busque responder às perguntas que você levantou. Inclua gráficos e tabelas para apresentar os resultados e escreva suas interpretações ao longo do processo. As aulas Análise exploratória de dados e Visualizando dados serão úteis nessa etapa.\nPróximos passos: Você pode apresentar os resultados para outras pessoas envolvidas no curso (participantes, ministrantes, monitores) e solicitar feedbacks.",
    "crumbs": [
      "Pré-curso",
      "Projeto de Análise Exploratória de Dados com R"
    ]
  },
  {
    "objectID": "03_importacao.html",
    "href": "03_importacao.html",
    "title": "Importando dados",
    "section": "",
    "text": "Conceitos prévios importantes:\n\nFunções e Pacotes no R\nObjetos no R\nProjetos do RStudio (.Rproj) e diretórios de trabalho\nCaminhos de arquivos\nO objetivo da etapa de importação é carregar a base de dados para a memória RAM do computador. Assim conseguiremos utilizar os dados no R.\nEssa etapa pode ser bem rápida (ou não!). Depende da base de dados que precisamos carregar.\nNesta etapa, vamos aprender:\nAo final, teremos também uma lista com sugestão de materiais extras, caso queira aprofundar mais sobre o assunto.\nNesta aula, utilizaremos alguns arquivos baixados na aula Diretórios de trabalho e projetos &gt; Preparando o projeto para o curso.",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Importando dados"
    ]
  },
  {
    "objectID": "03_importacao.html#importando-dados-de-um-arquivo-local",
    "href": "03_importacao.html#importando-dados-de-um-arquivo-local",
    "title": "Importando dados",
    "section": "Importando dados de um arquivo local",
    "text": "Importando dados de um arquivo local\nPara importar dados de um arquivo local, você pode usar funções com o prefixo read_ de pacotes como {readr} e {readxl}.\n\nArquivos de texto (ex: .csv)\nO pacote {readr} permite a leitura de arquivos de texto separados por algum delimitador, como .csv, .tsv e .txt.\n\nlibrary(readr)\n\nPara realizar a importação de um arquivo deste tipo, é importante saber qual é o delimitador utilizado no arquivo.\nA sigla CSV signfica Comma Separated Values, ou seja, valores separados por vírgula. Por padrão, a função read_csv() do pacote {readr} importa arquivos .csv com delimitador ,.\nNo Brasil, é comum a utilização do ; como delimitador, e para isso podemos utilizar a função read_csv2(). Isso acontece pois utilizamos a vírgula como separador decimal (Ex: 4,20) e isso pode causar problemas na importação de arquivos .csv com delimitador ,.\nCaso o arquivo tenha outro delimitador, você pode utilizar a função read_delim() e especificar o delimitador com o argumento delim.\nAo importar, uma mensagem aparecerá no console apresentando algumas informações sobre a importação, como:\n\nnúmero de linhas;\nnúmero de colunas;\ndelimitador utilizado;\ntipos de colunas;\nnome das colunas por tipo;\nquantidade de colunas importadas por tipo.\n\n\n\n\nCaptura de tela do console do RStudio, mostrando a mensagem apresentada pela função read_csv()\n\n\n\nArquivo de texto separado por vírgula (,)\n\n# Importando dados de um arquivo .csv\ndados_csv &lt;- read_csv(\"dados/sidrar_4092_bruto.csv\")\n\nRows: 27000 Columns: 13\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (6): Nível Territorial, Unidade de Medida, Unidade da Federação, Trimest...\ndbl (7): Nível Territorial (Código), Unidade de Medida (Código), Valor, Unid...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\n\n\nArquivo de texto separado por ponto e vírgula (;)\n\n# Importando dados de um arquivo .csv\n# Com separador ponto e vírgula\ndados_csv_2 &lt;- read_csv2(\"dados/sidrar_4092_bruto_2.csv\")\n\nℹ Using \"','\" as decimal and \"'.'\" as grouping mark. Use `read_delim()` for more control.\n\n\nRows: 27000 Columns: 13\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \";\"\nchr (6): Nível Territorial, Unidade de Medida, Unidade da Federação, Trimest...\ndbl (7): Nível Territorial (Código), Unidade de Medida (Código), Valor, Unid...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\n\n\n\nArquivos Excel (ex: .xlsx)\nO pacote {readxl} permite a leitura de arquivos do Excel.\n\n# Carregando o pacote readxl\nlibrary(readxl)\n\nA função excel_sheets() do pacote {readxl} retorna o nome das planilhas (Sheets) disponíveis em um arquivo Excel:\n\nexcel_sheets(\"dados/sidrar_4092_bruto.xlsx\")\n\n[1] \"Sheet1\"\n\n\nA função read_excel() do pacote {readxl} permite a leitura de uma planilha específica de um arquivo Excel, utilizando o argumento sheet para especificar o nome da planilha. Caso o argumento sheet não seja fornecido, a função importará a primeira planilha do arquivo.\n\n# Importando dados de uma planilha do Excel\ndados_excel &lt;- read_excel(\"dados/sidrar_4092_bruto.xlsx\", sheet = \"Sheet1\")\n\n\n\nArquivo binário do R (.rds)\nA função read_rds() do pacote {readr} permite importar um arquivo binário do R. Um arquivo binário do R é um formato que preserva a integridade dos tipos de dados ao salvar e carregar objetos1.\n\ndados &lt;- read_rds(\"dados/sidrar_4092_bruto.rds\")\n\n\n\nArquivos do Stata, SPSS, SAS\nPara importar arquivos do Stata, SPSS e SAS, podemos usar o pacote {haven}. Esse pacote é instalado junto com o {tidyverse}.\nPor exemplo, função read_dta() do pacote {haven} permite a leitura de arquivos do Stata:\n\nlibrary(haven)\ndados_dta &lt;- read_dta(\"dados/sidrar_4092_bruto.dta\")\n\n\n\nImport Dataset do RStudio\nCaso você esteja com dificuldades, uma dica é usar a funcionalidade Import Dataset do RStudio. Essa funcionalidade permite utilizar uma interface point-and-click para importar dados, e apresenta o código utilizado para a importação.\n\n\n\n\n\n\nDica\n\n\n\nO mais importante ao usar essa funcionalidade é copiar e colar o código gerado no seu script, para que você possa reutilizá-lo posteriormente.\n\n\nPara acessar a funcionalidade Import Dataset, clique em Import Dataset no canto superior direito do painel Environment do RStudio. Caso o arquivo seja um Excel, escolha a opção From Excel. Caso o arquivo seja um texto separado por algum delimitador (como CSV), escolha a opção From Text (readr).\n\n\n\nCaptura de tela do console do RStudio, mostrando o menu onde podemos encontrar o Import Dataset",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Importando dados"
    ]
  },
  {
    "objectID": "03_importacao.html#salvando-dados-localmente",
    "href": "03_importacao.html#salvando-dados-localmente",
    "title": "Importando dados",
    "section": "Salvando dados localmente",
    "text": "Salvando dados localmente\nPara salvar dados localmente, você pode usar funções com o prefixo write_ de pacotes como {readr} e {writexl}. Essas funções solicitam dois argumentos principais:\n\nQual é o objeto que você queremos salvar? Esse objeto deve estar disponível no Environment do R.\nOnde queremos salvar o arquivo? O caminho completo do arquivo deve ser fornecido entre aspas, contendo o diretório onde ele será salvo (em qual pasta do computador) e o nome do arquivo (com a extensão, por exemplo, .csv).\n\nAntes de salvar os dados, vamos criar um diretório onde salvaremos os arquivos. Você pode criar o diretório manualmente ou usar a função fs::dir_create(\"nome_do_diretorio/\") para criar o diretório.\n\nlibrary(fs)\ndir_create(\"dados_output\")\n\n\n\n\n\n\n\nAviso\n\n\n\nAtenção: O diretório (pasta no computador) onde o arquivo será salvo deve existir previamente, se não gerará um erro similar a este:\nError: Cannot open file for writing:\n* 'dados_output/sidrar_4092_salvo.csv'\n\n\n\nArquivo de texto (ex: .csv)\nO pacote {readr} permite a escrita de arquivos de texto separados por algum delimitador, como .csv, .tsv e .txt.\nA função write_csv2() premite a escrita de arquivos .csv com separador ;, que é o padrão no Brasil.\n\nwrite_csv2(dados, \"dados_output/sidrar_4092_bruto.csv\")\n\n\n\nArquivo excel (ex: .xlsx)\nA função write_xlsx() do pacote {writexl} permite a escrita de arquivos do Excel.\n\nlibrary(writexl)\nwrite_xlsx(dados, \"dados_output/sidrar_4092_bruto.xlsx\")\n\n\n\nArquivo binário do R (.rds)\nA função write_rds() do pacote {readr} permite salvar um objeto do R em um arquivo binário do R, preservando a estrutura dos objetos.\nExistem algumas vantagens em salvar arquivos no formato .rds: - Podemos salvar qualquer tipo de objeto do R, como dataframes, listas, vetores, etc.\n\nNão perdemos a estrutura do objeto, como a classe, os tipos das colunas, nível de fatores, etc.\nÉ um arquivo compacto (o arquivo salvo não é grande) e de rápida leitura no R (a importação não demora).\n\n\nwrite_rds(dados, \"dados_output/sidrar_4092_bruto.rds\")",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Importando dados"
    ]
  },
  {
    "objectID": "03_importacao.html#importando-dados-usando-pacotes-de-dados",
    "href": "03_importacao.html#importando-dados-usando-pacotes-de-dados",
    "title": "Importando dados",
    "section": "Importando dados usando pacotes de dados",
    "text": "Importando dados usando pacotes de dados\nExistem pacotes no R que permitem a importação de dados, como por exemplo:\n\nsidrar: Acesso aos dados disponíveis no SIDRA - Sistema IBGE de Recuperação Automática.\ncensobr: Dados de censos demográficos brasileiros.\nipeadatar: Acesso aos dados disponibilizados no Ipeadata.\nflightsbr: Dados de vôos no Brasil.\nPNADcIBGE: Dados da PNAD Contínua do IBGE.\nmicrodatasus: Acesso aos microdados do DataSUS.\n\nA parte boa de usar esses pacotes é que eles já possuem funções prontas para importar os dados.\nA parte não-tão-boa é que os pacotes tem funções específicas para importar os dados, e você precisa aprender como usar essas funções. Recomendamos que você leia a documentação do pacote para entender como usar as funções de importação.\nAo longo deste curso, vamos aprender a usar alguns desses pacotes para importar dados específicos.\n\n\n\n\n\n\nImportante\n\n\n\nEsses pacotes, em geral, obtém as informações na internet. Isso pode demorar um pouco.\nRecomendamos que você salve uma cópia local dos dados brutos após o download. Isso evita a necessidade de baixar os dados novamente e facilita o trabalho localmente, principalmente se a conexão com a internet estiver instável.\nAlguns pacotes, como o {censobr}, apresentam funções preparadas para salvar os dados localmente.\n\n\n\nPacote {sidrar}\nO pacote {sidrar} permite a importação de dados do Sistema IBGE de Recuperação Automática (SIDRA).\n\nlibrary(sidrar)\n\nPara importar dados do SIDRA, você precisa saber o código da tabela que deseja importar. Uma forma de fazer isso é buscar no site do SIDRA, no IBGE: https://sidra.ibge.gov.br/.\n\nBuscando tabelas no SIDRA\nOutra forma é buscar por palavras-chave no próprio R, utilizando a função search_sidra():\n\n# Exemplo de busca por palavras-chave: \n# Tabelas com resultados da PNAD Contínua Trimestral\nsearch_sidra(\"PNADCT\")\n\n [1] \"Tabela 5435 - Pessoas de 14 anos ou mais de idade, ocupadas na semana de referência, por grupamento ocupacional no trabalho principal\"                                                                                                                                                             \n [2] \"Tabela 5444 - Rendimento médio mensal real das pessoas de 14 anos ou mais de idade ocupadas na semana de referência com rendimento de trabalho, habitualmente e efetivamente recebidos no trabalho principal, por grupamento ocupacional no trabalho principal\"                                    \n [3] \"Tabela 9440 - Pessoas de 14 anos ou mais de idade ocupadas na semana de referência, exclusive os empregados no setor público e militares, por grupamento ocupacional no trabalho principal e trabalho por meio de plataforma digital de serviço no trabalho principal - Estatísticas experimentais\"\n [4] \"Tabela 9457 - Indicador 8.5.1 - Rendimento médio por hora real das pessoas de 15 anos ou mais de idade ocupadas na semana de referência com rendimento de trabalho, habitualmente recebido em todos os trabalhos, por grupamento ocupacional no trabalho principal\"                                \n [5] \"Tabela 9485 - Percentual de pessoas de 14 anos ou mais de idade ocupadas na semana de referência, exclusive os empregados no setor público e militares, que trabalharam por meio de plataformas de serviços, por grupamento ocupacional no trabalho principal - Estatísticas experimentais\"        \n [6] \"Tabela 9540 - Percentual de pessoas de 14 anos ou mais de idade ocupadas na semana de referência que realizaram teletrabalho no período de referência de 30 dias, por grupamento ocupacional no trabalho principal - Estatísticas experimentais\"                                                   \n [7] \"Tabela 9572 - Percentual de pessoas de 14 anos ou mais de idade ocupadas na semana de referência que realizaram teletrabalho no domicílio no período de referência de 30 dias, por grupamento ocupacional no trabalho principal - Estatísticas experimentais\"                                      \n [8] \"Tabela 9575 - Pessoas de 14 anos ou mais de idade ocupadas na semana de referência que trabalharam no domicílio, por grupamento ocupacional no trabalho principal e frequência do trabalho no domicílio - Estatísticas experimentais\"                                                              \n [9] \"Tabela 9599 - Pessoas de 14 anos ou mais de idade ocupadas na semana de referência, por grupamento ocupacional no trabalho principal e realização de teletrabalho fora do domicílio no período de referência de 30 dias - Estatísticas experimentais\"                                              \n[10] \"Tabela 9603 - Percentual de pessoas de 14 anos ou mais de idade ocupadas na semana de referência que realizaram teletrabalho fora do domicílio no período de referência de 30 dias, por grupamento ocupacional no trabalho principal - Estatísticas experimentais\"                                 \n[11] \"Tabela 9617 - Pessoas de 14 anos ou mais de idade ocupadas na semana de referência, por grupamento ocupacional no trabalho principal e realização de teletrabalho no período de referência de 30 dias - Estatísticas experimentais\"                                                                \n[12] \"Tabela 9624 - Pessoas de 14 anos ou mais de idade ocupadas na semana de referência, por grupamento ocupacional no trabalho principal e realização de teletrabalho no domicílio no período de referência de 30 dias - Estatísticas experimentais\"                                                   \n\n\nNeste curso, utilizaremos na maioria das aulas a Tabela 4092 - Pessoas de 14 anos ou mais de idade, por condição em relação à força de trabalho e condição e ocupação, proveniente da Pesquisa Nacional por Amostra de Domicílios Contínua Trimestral (PNADC/T).\n\n\nBuscando informações sobre a tabela\nSabendo o código da tabela, você pode buscar informações sobre a tabela com a função info_sidra().\n\ninfo_4092 &lt;- info_sidra(\"4092\")\n\nO resultado dessa função é uma lista, portanto podemos acessar os elementos da lista utilizando o operador $, seguido pelo nome do elemento.\nPrimeiro, podemos ver os nomes dos elementos da lista:\n\nnames(info_4092)\n\n[1] \"table\"              \"period\"             \"variable\"          \n[4] \"classific_category\" \"geo\"               \n\n\nAgora podemos consultar os elementos dessa lista!\n\nNome da tabela\n\ninfo_4092$table\n\n[1] \"Tabela 4092: Pessoas de 14 anos ou mais de idade, por condição em relação à força de trabalho e condição de ocupação\"\n\n\n\n\nPeríodos\nIsso será importante para a importação dos dados, pois podemos informar qual período queremos importar.\n\ninfo_4092$period\n\n[1] \"201201, 201202, 201203, 201204, 201301, 201302, 201303, 201304, 201401, 201402, 201403, 201404, 201501, 201502, 201503, 201504, 201601, 201602, 201603, 201604, 201701, 201702, 201703, 201704, 201801, 201802, 201803, 201804, 201901, 201902, 201903, 201904, 202001, 202002, 202003, 202004, 202101, 202102, 202103, 202104, 202201, 202202, 202203, 202204, 202301, 202302, 202303, 202304, 202401, 202402\"\n\n\nEsses dados estão salvos em um vetor de tamanho um, com textos separados por vírgula. Esse formato não é o ideal para usar na função de importação que veremos a seguir: o melhor é transformar em um vetor, onde cada elemento é um período.\nPodemos fazer isso com a função str_split():\n\nperiodos_disponiveis &lt;- stringr::str_split(info_4092$period, \", \")[[1]]\nperiodos_disponiveis\n\n [1] \"201201\" \"201202\" \"201203\" \"201204\" \"201301\" \"201302\" \"201303\" \"201304\"\n [9] \"201401\" \"201402\" \"201403\" \"201404\" \"201501\" \"201502\" \"201503\" \"201504\"\n[17] \"201601\" \"201602\" \"201603\" \"201604\" \"201701\" \"201702\" \"201703\" \"201704\"\n[25] \"201801\" \"201802\" \"201803\" \"201804\" \"201901\" \"201902\" \"201903\" \"201904\"\n[33] \"202001\" \"202002\" \"202003\" \"202004\" \"202101\" \"202102\" \"202103\" \"202104\"\n[41] \"202201\" \"202202\" \"202203\" \"202204\" \"202301\" \"202302\" \"202303\" \"202304\"\n[49] \"202401\" \"202402\"\n\n\nEsses são os períodos disponíveis para essa tabela no SIDRA.\n\n\nVariáveis\nIsso será importante para a importação dos dados, pois podemos informar quais variáveis queremos importar.\n\ninfo_4092$variable\n\n   cod\n1 1641\n2 4087\n3 4104\n4 4105\n                                                                                         desc\n1                                             Pessoas de  anos ou mais de idade (Mil pessoas)\n2                             Coeficiente de variação - Pessoas de  anos ou mais de idade (%)\n3                           Distribuição percentual das pessoas de  anos ou mais de idade (%)\n4 Coeficiente de variação - Distribuição percentual das pessoas de  anos ou mais de idade (%)\n\n\n\n\nVariáveis - Categorias\n\ninfo_4092$classific_category\n\n$`c629 = Condição em relação à força de trabalho e condição de ocupação (5):`\n    cod                           desc\n1 32385                          Total\n2 32386              Força de trabalho\n3 32387    Força de trabalho - ocupada\n4 32446 Força de trabalho - desocupada\n5 32447      Fora da força de trabalho\n\n\n\n\nNível territorial\nIsso será importante para a importação dos dados, pois precisamos informar qual é o nível territorial a ser usado na importação.\n\ninfo_4092$geo\n\n          cod\n1      Brazil\n2         IRD\n3      Region\n4       State\n5        City\n6 MetroRegion\n                                                                                                                 desc\n1                                                                                                          Brasil (1)\n2 Região Integrada de Desenvolvimento  [1º trimestre 2012 a 1º trimestre 2020, 2º trimestre 2022 a 2º trimestre 2024]\n3                                                                                                   Grande Região (5)\n4                                                                                           Unidade da Federação (27)\n5                           Município  [1º trimestre 2012 a 1º trimestre 2020, 2º trimestre 2022 a 2º trimestre 2024]\n6                Região Metropolitana  [1º trimestre 2012 a 1º trimestre 2020, 2º trimestre 2022 a 2º trimestre 2024]\n\n\n\n\n\nImportando a tabela\nA função get_sidra() do pacote {sidrar} permite importar dados do SIDRA.\n\ndados_brutos_4092 &lt;- sidrar::get_sidra(\n1  x = 4092,\n2  period = c(\"201402\", \"201702\", \"202002\", \"202302\"),\n3  geo = \"State\"\n)\n\n\n1\n\nQual é o código da tabela que vamos usar?\n\n2\n\nPeríodos: trimestres, podemos indicar um vetor\n\n3\n\nNível territorial: Dados por UF\n\n\n\n\nLembrando que é importante salvar uma cópia local dos dados após o download. Assim, quando você for trabalhar com esses dados, não precisará baixá-los novamente.\n\n# Salvar localmente essa base de dados\nwrite_rds(dados_brutos_4092, \"dados_output/sidrar_4092_bruto.rds\")",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Importando dados"
    ]
  },
  {
    "objectID": "03_importacao.html#sugestões-de-materiais",
    "href": "03_importacao.html#sugestões-de-materiais",
    "title": "Importando dados",
    "section": "Sugestões de materiais",
    "text": "Sugestões de materiais\n\nLivro R para Ciência de Dados 2ed:\n\nImportação de dados\n\nVídeo Como organizar seu banco de dados para análises estatísticas, por Fernanda Peres (30 minutos).",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Importando dados"
    ]
  },
  {
    "objectID": "03_importacao.html#footnotes",
    "href": "03_importacao.html#footnotes",
    "title": "Importando dados",
    "section": "Notas de rodapé",
    "text": "Notas de rodapé\n\n\nO formato .rds não é o único formato de arquivo binário do R; outro exemplo é o .Rdata. Existem também formatos externos, como o .parquet, um formato eficiente para grandes volumes de dados e que podem ser lidos no R com o pacote {arrow}. Isso será abordado nos exemplos com o pacote {censobr}.↩︎",
    "crumbs": [
      "Etapas em uma análise de dados",
      "Importando dados"
    ]
  },
  {
    "objectID": "11_censobr_microdados.html",
    "href": "11_censobr_microdados.html",
    "title": "Microdados do Censo",
    "section": "",
    "text": "A Tabela 1 apresenta abaixo todas as bases de dados do censo que você consegue acessar com o {censobr}.\nTabela 1. Funções de dados disponíveis no {censobr}\n\n\n\n  \n  \n    \n    \n\n\n\n\n\n\n\nFunção\nOrigem\nUnidade\nDefinição\nDisponibilidade\n\n\n1960\n70\n80\n91\n2000\n10\n22\n\n\n\n\nread_population()\nAmostra\nMicrodado\nLê os microdados de pessoas\nX\nX\nX\nX\nX\nX\nem breve\n\n\nread_households()\nAmostra\nMicrodado\nLê os microdados de domicílios\nX\nX\nX\nX\nX\nX\nem breve\n\n\nread_families()\nAmostra\nMicrodado\nLê os microdados de famílias do censo de 2000\n\n\n\nX\n\n\n\n\n\nread_emigration()\nAmostra\nMicrodado\nLê os microdados de emigração\n\n\n\n\n\nX\nem breve\n\n\nread_mortality()\nAmostra\nMicrodado\nLê os microdados de mortalidade\n\n\n\n\n\nX\nem breve\n\n\nread_tracts()\nUniverso\nSetor Censitário\nLê os dados do Universo agregados por setores censitários\n\n\n\n\nem breve\nX\nem breve\n\n\n\n\n\n\n\nTodas as funções do {censobr} para leitura de microdados possuem a mesma estrutra (sintaxe), o que permite o usuário baixar os dados de maneira fácil e intuitiva com um único comando. As funções possuem os seguintes parâmetros:\n\nread_households(\n  year,          # ano de referência do censo\n  columns,       # seleciona colunas que devem ser lidas\n  add_labels,    # adiciona os 'labels' das variáveis categóricas\n  as_data_frame, # retorna resultado como um `Arrow DataSet` ou `data.frame`\n  showProgress,  # mostra barra de progresso do download\n  cache          # salva arquivo em cache para rapida leitura posteriormente\n  )\n\n\n\n\n\n\n\nCache local dos dados\n\n\n\nA primeira vez que o usuário executa uma função, o {censobr} fará o download dos dados e os armazenará localmente numa pasta do pacote. Dessa forma, os dados precisam ser baixados apenas uma vez. Mais informações na seção Cache de Dados abaixo.",
    "crumbs": [
      "Explorando o Censo Demográfico",
      "Microdados do Censo"
    ]
  },
  {
    "objectID": "11_censobr_microdados.html#dados-disponíveis-no-censobr",
    "href": "11_censobr_microdados.html#dados-disponíveis-no-censobr",
    "title": "Microdados do Censo",
    "section": "",
    "text": "A Tabela 1 apresenta abaixo todas as bases de dados do censo que você consegue acessar com o {censobr}.\nTabela 1. Funções de dados disponíveis no {censobr}\n\n\n\n  \n  \n    \n    \n\n\n\n\n\n\n\nFunção\nOrigem\nUnidade\nDefinição\nDisponibilidade\n\n\n1960\n70\n80\n91\n2000\n10\n22\n\n\n\n\nread_population()\nAmostra\nMicrodado\nLê os microdados de pessoas\nX\nX\nX\nX\nX\nX\nem breve\n\n\nread_households()\nAmostra\nMicrodado\nLê os microdados de domicílios\nX\nX\nX\nX\nX\nX\nem breve\n\n\nread_families()\nAmostra\nMicrodado\nLê os microdados de famílias do censo de 2000\n\n\n\nX\n\n\n\n\n\nread_emigration()\nAmostra\nMicrodado\nLê os microdados de emigração\n\n\n\n\n\nX\nem breve\n\n\nread_mortality()\nAmostra\nMicrodado\nLê os microdados de mortalidade\n\n\n\n\n\nX\nem breve\n\n\nread_tracts()\nUniverso\nSetor Censitário\nLê os dados do Universo agregados por setores censitários\n\n\n\n\nem breve\nX\nem breve\n\n\n\n\n\n\n\nTodas as funções do {censobr} para leitura de microdados possuem a mesma estrutra (sintaxe), o que permite o usuário baixar os dados de maneira fácil e intuitiva com um único comando. As funções possuem os seguintes parâmetros:\n\nread_households(\n  year,          # ano de referência do censo\n  columns,       # seleciona colunas que devem ser lidas\n  add_labels,    # adiciona os 'labels' das variáveis categóricas\n  as_data_frame, # retorna resultado como um `Arrow DataSet` ou `data.frame`\n  showProgress,  # mostra barra de progresso do download\n  cache          # salva arquivo em cache para rapida leitura posteriormente\n  )\n\n\n\n\n\n\n\nCache local dos dados\n\n\n\nA primeira vez que o usuário executa uma função, o {censobr} fará o download dos dados e os armazenará localmente numa pasta do pacote. Dessa forma, os dados precisam ser baixados apenas uma vez. Mais informações na seção Cache de Dados abaixo.",
    "crumbs": [
      "Explorando o Censo Demográfico",
      "Microdados do Censo"
    ]
  },
  {
    "objectID": "11_censobr_microdados.html#trabalhando-com-dados-maior-do-que-a-ram",
    "href": "11_censobr_microdados.html#trabalhando-com-dados-maior-do-que-a-ram",
    "title": "Microdados do Censo",
    "section": "Trabalhando com dados maior do que a RAM",
    "text": "Trabalhando com dados maior do que a RAM\n\n\n\n\n\nÉ muito comum que os microdados do censo brasileiro sejam grandes demais para serem carregados na memória RAM do usuário. Para resolver esse problema, o {censobr} foi construído sobre a plataforma Arrow e arquivos em formato .parquet, o que permite que o usuário trabalhe de maneira eficiente até mesmo com bases de dados muito grandes utilizando funções já bem conhecidas do pacote {dplyr}.\nVamos então partir para exemplos na prática, e começar carregando as bibliotecas que usamos.\n\n# carrega bibliotecas\nlibrary(censobr)\nlibrary(arrow)\nlibrary(dplyr)\nlibrary(ggplot2)",
    "crumbs": [
      "Explorando o Censo Demográfico",
      "Microdados do Censo"
    ]
  },
  {
    "objectID": "11_censobr_microdados.html#dados-de-população",
    "href": "11_censobr_microdados.html#dados-de-população",
    "title": "Microdados do Censo",
    "section": "Dados de população",
    "text": "Dados de população\nNeste exemplo, nós vamos criar um gráfico da pirâmica populacional do Brasil no ano de 2010. O primeiro passo é usar a função read_population() para carregar os microdados de população.\nO comportamento padrão das funções do {censobr} é retornar todas as variáveis das bases de dados. No entanto, como vamos fazer uma análise simples, o mais eficiente é passarmos um vetor com os nomes das colunas que vamos utilizar. Neste caso, usaremos somente as variáveis de peso amostral, sexo e idade (códigos \"V0010\", \"V0601\" e \"V6036\", respectivamente). No último capítulo do curso a gente vai ver como baixar os dicionários variáveis dos censos.\n\npop &lt;- read_population(\n  year = 2010,\n1  columns = c('V0010', 'V0601', 'V6036'),\n2  add_labels = 'pt',\n  showProgress = FALSE\n  )\n\nclass(pop)\n\n\n1\n\nAumentando eficiência ao ler apenas as colunas que vamos usar\n\n2\n\nAdicionando os ‘labels’ em Português das variáveis categóricas.\n\n\n\n\n[1] \"arrow_dplyr_query\"\n\n\nAo rodar o comando nrow(pop), você verá que a tabela de microdados de população do Censo de 2010 tinha mais de vinte milhões de observações (20.635.472), mas essas observações não estão carregadas na sua memória RAM. Isso porque, por padrão, a saída da função é um \"arrow_dplyr_query\" ou \"ArrowObject\". Isso permite que você trabalhe com os dados do censo de maneira super rápida e eficiente, mesmo que a tabela de dados seja grande demais para a memória do seu computador. Note que se você passar o parâmetro as_data_frame = TRUE, a função carregará os dados como um data.frame na memória RAM. Atenção: isso pode fazer com que a sessão do R trave em ambientes com pouca memória.\nEsse output em arrow pode ser analisado de maneira similar a como se analisaria um data.frame utilizando-se funções do pacote {dplyr}. Uma diferença, no entanto, é que as operações somente são executadas e resultados extraídos quando o usuário roda a função dplyr::collect().\nNeste exemplo, abaixo, nós visualizamos as primeiras linhas 6 da tabela de dados com head(pop), e somente essas poucas observações são carregas para memória com o commando collect():\n\nhead(pop) |&gt; \n  collect()\n\n      V0010     V0601 V6036\n1 11.996452  Feminino    14\n2 11.996452 Masculino    45\n3 11.996452  Feminino     3\n4 10.298796  Feminino    57\n5 10.298796 Masculino    53\n6  7.872739  Feminino    29\n\n\nO próximo passo para criamos nossa pirâmide populacional é criar um variável categória com grupos de idade. No exemplo abaix, nós utilizadmos grupos de 5 anos.\n\npop &lt;- pop |&gt;\n  mutate(\n    age_group = dplyr::case_when(\n      V6036 &lt;= 04              ~ \"00-05\",\n      V6036 &gt;= 05 & V6036 &lt; 10 ~ \"05-10\",\n      V6036 &gt;= 10 & V6036 &lt; 15 ~ \"10-15\",\n      V6036 &gt;= 15 & V6036 &lt; 20 ~ \"15-20\",\n      V6036 &gt;= 20 & V6036 &lt; 25 ~ \"20-25\",\n      V6036 &gt;= 25 & V6036 &lt; 30 ~ \"25-30\",\n      V6036 &gt;= 30 & V6036 &lt; 35 ~ \"30-35\",\n      V6036 &gt;= 35 & V6036 &lt; 40 ~ \"35-40\",\n      V6036 &gt;= 40 & V6036 &lt; 45 ~ \"40-45\",\n      V6036 &gt;= 45 & V6036 &lt; 50 ~ \"45-50\",\n      V6036 &gt;= 50 & V6036 &lt; 55 ~ \"50-55\",\n      V6036 &gt;= 55 & V6036 &lt; 60 ~ \"55-60\",\n      V6036 &gt;= 60 & V6036 &lt; 65 ~ \"60-65\",\n      V6036 &gt;= 65 & V6036 &lt; 70 ~ \"65-70\",\n      V6036 &gt;= 70              ~ \"70+\"\n      ))\n\nhead(pop) |&gt; \n  collect()\n\n     V0010     V0601 V6036 age_group\n1 8.083000 Masculino     8     05-10\n2 9.718624 Masculino    28     25-30\n3 9.718624  Feminino    19     15-20\n4 9.718624  Feminino     3     00-05\n5 9.513442  Feminino    61     60-65\n6 9.513442 Masculino    58     55-60\n\n\nE em seguida, nós só precisamos somar o número de homens e mulheres em cada grupo de idade. Para isso, nós somamos os valores da variável de peso amostral V0010 em cada grupo. Repare que ao chamarmos a função collect(), o código é executado e retorna um data.frame com a contagem de pessoas por sexo e faixa de idade. Repare que nós processamos todos os mais de 20 milhões de registro do censo, mas só precisamos carregar na memória essa tabela com 30 observações.\n\n# cacula tabela de contagem de pessoas por idade\npiramide_df &lt;- pop |&gt;\n               group_by(V0601, age_group) |&gt;\n               summarise(pop_count = sum(V0010)) |&gt;\n               collect()\n\nhead(piramide_df)\n\n# A tibble: 6 × 3\n# Groups:   V0601 [2]\n  V0601     age_group pop_count\n  &lt;chr&gt;     &lt;chr&gt;         &lt;dbl&gt;\n1 Masculino 20-25      8627665.\n2 Feminino  15-20      8429180.\n3 Masculino 35-40      6767177.\n4 Feminino  40-45      6688525.\n5 Masculino 10-15      8727095.\n6 Masculino 15-20      8557608.\n\n\nPronto, no último passo é só fazer o gráfico de pirâmide populacional utilizando o pacote {ggplot2}.\n\n\nCódigo\n# remove grupo com idade missing `NA`\npiramide_df &lt;- filter(piramide_df, !is.na(age_group))\n\n# transforma a contagem de mulheres para valores negativos\npiramide_df &lt;- piramide_df |&gt;\n  mutate(pop_count = if_else(V0601 == \"Masculino\", pop_count, -pop_count))\n\n# figura\nggplot(data = piramide_df,\n       aes(x = pop_count / 1000,\n           y = age_group,\n           fill = V0601)) +\n  geom_col() +\n  scale_fill_discrete(name=\"\", type=c(\"#ffcb69\",\"#437297\")) +\n  scale_x_continuous(labels = function(x){scales::comma(abs(x))},\n                     breaks = c(-8000, -4000,0,4000, 8000),\n                     name = \"População (em milhares)\") +\n  theme_classic() +\n  theme(\n    legend.position = \"top\",\n    axis.title.y=element_blank(),\n    panel.grid.major.x = element_line(color = \"grey90\")\n  )\n\n\n\n\n\nPirâmide demográfica, Brasil, 2010",
    "crumbs": [
      "Explorando o Censo Demográfico",
      "Microdados do Censo"
    ]
  },
  {
    "objectID": "11_censobr_microdados.html#dados-de-domicílios",
    "href": "11_censobr_microdados.html#dados-de-domicílios",
    "title": "Microdados do Censo",
    "section": "Dados de domicílios",
    "text": "Dados de domicílios\n\nSaneamento:\nNeste exemplo, nós vamos usar os dados de domicílios do censo de 2010 para calcular qual a proporção de domicílios que estavam conectados à rede de esgoto nos municípios de cada região do Brasil. O primeiro passo é baixar os dados utilizando a função read_households().\n\ndom &lt;- read_households(year = 2010, \n                      showProgress = FALSE)\n\nAgora vamos (1) agrupar as observações por região e município, (2) obter o número de domicílios conectados à rede de esgoto, (3) obter o número total de domicílios, (4) calcular a proporção de domicílios conectados e (5) coletar os resultados.\n\nesg &lt;- dom |&gt; \n        compute() |&gt;\n1        group_by(name_region, code_muni) |&gt;\n2        summarize(rede = sum(V0010[which(V0207=='1')]),\n3                  total = sum(V0010)) |&gt;\n4        mutate(cobertura = rede / total) |&gt;\n5        collect()\n\nhead(esg)\n\n\n1\n\nAgrupar as observações por região e município\n\n2\n\nObter o número de domicílios conectados à rede de esgoto\n\n3\n\nObter o número total de domicílios\n\n4\n\nCalcular a proporção de domicílios conectados\n\n5\n\nColetar os resultados.\n\n\n\n\n# A tibble: 6 × 5\n# Groups:   name_region [1]\n  name_region  code_muni   rede  total cobertura\n  &lt;chr&gt;            &lt;int&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;\n1 Centro-oeste   5000203   73.4  4534    0.0162 \n2 Centro-oeste   5000252   10.3  1596.   0.00646\n3 Centro-oeste   5000609 2150.  11012.   0.195  \n4 Centro-oeste   5000708 1705.   7419.   0.230  \n5 Centro-oeste   5000807   35.9  2759.   0.0130 \n6 Centro-oeste   5000856   12.4  3053.   0.00407\n\n\nUma rápida análise da dispersão dos valores com o box-plot abaixo já revela um dos retratos da desigualdade regional brasileira. Em todos municípios da região Norte e quase metade dos municípios da região Nordeste, a gente encontra que menos de 50% dos domicílios estavam conectados à rede de esgoto em 2010. No próximo bloco, nós vamos visualizar como essas diferenças se distribuem espacialmente.\n\nggplot(esg) +\n  geom_boxplot(aes(x=reorder(name_region, -cobertura), y=cobertura, \n                   weight  = rede, color=name_region), \n               show.legend = F, outlier.alpha = 0.1) +\n  scale_y_continuous(labels = scales::percent) +\n  labs(x=\"Região\", y=\"Quantidade de domicílios\\nconectados à rede de esgoto\") +\n  theme_classic()",
    "crumbs": [
      "Explorando o Censo Demográfico",
      "Microdados do Censo"
    ]
  },
  {
    "objectID": "11_censobr_microdados.html#análise-espacial-com-geobr",
    "href": "11_censobr_microdados.html#análise-espacial-com-geobr",
    "title": "Microdados do Censo",
    "section": "Análise espacial com {geobr}",
    "text": "Análise espacial com {geobr}\nO {geobr} é um pacote para baixar dados espaciais oficiais do Brasil (Pereira e Gonçalves 2019). Ele inclui uma ampla variedade de dados geoespaciais disponíveis em várias escalas geográficas e para diversos anos, como municípios, regiões metropolitanas, biomas, estabelecimentos de saúde, etc (veja a lista completa no site do pacote).",
    "crumbs": [
      "Explorando o Censo Demográfico",
      "Microdados do Censo"
    ]
  },
  {
    "objectID": "11_censobr_microdados.html#integração-entre-censobr-e-geobr",
    "href": "11_censobr_microdados.html#integração-entre-censobr-e-geobr",
    "title": "Microdados do Censo",
    "section": "Integração entre {censobr} e {geobr}",
    "text": "Integração entre {censobr} e {geobr}\n\n \n\n\nTodos os dados do {censobr} são enriquecidos com colunas de geografia, seguindo os padrões de nomenclatura do pacote {geobr} para facilitar a manipulação e a integração de dados espaciais dos censos demográficos do Brasil. As colunas adicionadas são: c('code_muni', 'code_state', 'abbrev_state', 'name_state', 'code_region', 'name_region', 'code_weighting', 'code_tract').\n\nPara criarmos uma mapa com a distribuição espacial da cobertura da rede de esgoto no Brasil, nós vamos primeiro usar o pacote {geobr} para baixar as geometrias dos municípios brasileiros no ano de 2010. Vamos também sobrepor os limites das grandes regiões do país para dar um pouco mais de contexto à figura.\n\nlibrary(geobr)\n\nregioes_df &lt;- read_region(year = 2010,\n                          showProgress = FALSE)\n\nmuni_sf &lt;- read_municipality(year = 2010,\n                             showProgress = FALSE)\n\nhead(muni_sf)\n\nSimple feature collection with 6 features and 4 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -63.61822 ymin: -13.6937 xmax: -60.33317 ymax: -9.66916\nGeodetic CRS:  SIRGAS 2000\n  code_muni             name_muni code_state abbrev_state\n1   1100015 Alta Floresta D'oeste         11           RO\n2   1100023             Ariquemes         11           RO\n3   1100031                Cabixi         11           RO\n4   1100049                Cacoal         11           RO\n5   1100056            Cerejeiras         11           RO\n6   1100064     Colorado Do Oeste         11           RO\n                            geom\n1 MULTIPOLYGON (((-62.2462 -1...\n2 MULTIPOLYGON (((-63.13712 -...\n3 MULTIPOLYGON (((-60.52408 -...\n4 MULTIPOLYGON (((-61.42679 -...\n5 MULTIPOLYGON (((-61.41347 -...\n6 MULTIPOLYGON (((-60.66352 -...\n\n\nAgora nós só precisamos unir os dados espaciais com nossas estimativas utilizando a variável chave code_muni e mapear os resultados.\n\n# merge data\nesg_sf &lt;- dplyr::left_join(muni_sf, esg, by = 'code_muni')\n\n# plot map\nggplot() +\n  geom_sf(data = esg_sf, aes(fill = cobertura), color=NA) +\n  geom_sf(data = regioes_df, color = 'gray20', fill=NA) +\n  labs(title = \"Quantidade de domicílios conectados à rede de esgoto\") +\n  scale_fill_distiller(palette = \"Greens\", direction = 1, \n                       name='Proporção de\\ndomicílios', \n                       labels = scales::percent) +\n  theme_void() +\n  theme(legend.position = 'bottom')\n\n\n\n\n\n\n\n\n\nDistribuição espacial do valor do aluguel:\nNo exemplo anterior, nós agregamos os microdados do censo no nível de municípios. Neste próximo exemplo, faremos uma análise espacial no nível de áreas de ponderação. Aqui nós vamos visualizar como o valor do aluguel varia espacialmente na região metropolitana de São Paulo.\nPrimeiro, vamos baixar os municípios da região metropolitana de São Paulo com o {geobr}.\n\nmetro_sp &lt;- geobr::read_metro_area(year = 2010,\n                                     showProgress = FALSE) |&gt; \n              filter(name_metro == \"RM São Paulo\")\n\nTambém precisamos dos polígonos das áreas de ponderação. Com o código abaixo, baixamos todas as áreas de ponderação do estado de São Paulo e, em seguida, mantemos apenas aquelas na região metropolitana de São Paulo.\n\nwt_areas &lt;- geobr::read_weighting_area(code_weighting = \"SP\",\n                                       year = 2010,\n                                       simplified = FALSE,\n1                                       showProgress = FALSE)\n\nwt_areas &lt;- filter(wt_areas, code_muni %in% metro_sp$code_muni)\nhead(wt_areas)\n\n\n1\n\nO comportamento padrão do {geobr} é baixar uma versão da malha espacial com geometrias ligeiramente simplificadas (simplified = TRUE) para agilizar o processamento e visualização de dados. Aqui, nós baixamos os dados com geometrias originais devido à escala espacial da visualização dos resultados.\n\n\n\n\nSimple feature collection with 6 features and 7 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -46.73454 ymin: -23.64487 xmax: -46.64756 ymax: -23.53528\nGeodetic CRS:  SIRGAS 2000\n  code_weighting code_muni name_muni code_state abbrev_state code_region\n1  3550308005100   3550308 São Paulo         35           SP           3\n2  3550308005102   3550308 São Paulo         35           SP           3\n3  3550308005101   3550308 São Paulo         35           SP           3\n4  3550308005104   3550308 São Paulo         35           SP           3\n5  3550308005103   3550308 São Paulo         35           SP           3\n6  3550308005106   3550308 São Paulo         35           SP           3\n  name_region                           geom\n1     Sudeste MULTIPOLYGON (((-46.67201 -...\n2     Sudeste MULTIPOLYGON (((-46.67663 -...\n3     Sudeste MULTIPOLYGON (((-46.67257 -...\n4     Sudeste MULTIPOLYGON (((-46.70138 -...\n5     Sudeste MULTIPOLYGON (((-46.69581 -...\n6     Sudeste MULTIPOLYGON (((-46.73454 -...\n\n\nAgora voltamos para a base de dados de domicílios do censo de 2010. Com essa base, nós precisamos calcular o valor médio do aluguel gasto em cada área de ponderação. Note que para isso nós usamos a média do aluguel (variável V2011) ponderada pelo peso do domicílio (variável V0010). Para encontrar esses valores, o código abaixo (1) filtra apenas as observações nos nossos municípios de interesse, (2) computa temporariamente o resultado, (3) agrupa as observações por área de ponderação, (4) calcula o valor médio do aluguel e (5) coleta os resultados.\n\nrent &lt;- dom |&gt;\n1        filter(code_muni %in% metro_sp$code_muni) |&gt;\n2        compute() |&gt;\n3        group_by(code_weighting) |&gt;\n4        summarize(avgrent=weighted.mean(x=V2011, w=V0010, na.rm=TRUE)) |&gt;\n5        collect()\n\nhead(rent)\n\n\n1\n\nFiltra apenas as observações nos nossos municípios de interesse\n\n2\n\nComputa temporariamente o resultado\n\n3\n\nAgrupa as observações por área de ponderação\n\n4\n\nCalcula o valor médio do aluguel\n\n5\n\nColeta os resultados.\n\n\n\n\n# A tibble: 6 × 2\n  code_weighting avgrent\n  &lt;chr&gt;            &lt;dbl&gt;\n1 3503901003001     355.\n2 3503901003002     627.\n3 3503901003003     358.\n4 3505708005001     577.\n5 3505708005002     397.\n6 3505708005003     327.\n\n\nPor fim, basta unirmos os dados espaciais com nossas estimativas de aluguel pela variável chave de código da área de ponderação (code_weighting), e mapear os resultados.\n\nrent_sf &lt;- left_join(wt_areas, rent, by = 'code_weighting')\n\nggplot() +\n  geom_sf(data = rent_sf, aes(fill = avgrent), color=NA) +\n  geom_sf(data = metro_sp, color='gray', fill=NA) +\n  labs(title = \"Valor médio do aluguel por área de ponderação\",\n       subtitle = \"Região Metropolitana de São Paulo, 2010\") +\n  scale_fill_distiller(palette = \"Purples\", direction = 1, \n                       name='Valores\\nem R$',\n                       labels = scales::number_format(big.mark = \".\")) +\n  theme_void()",
    "crumbs": [
      "Explorando o Censo Demográfico",
      "Microdados do Censo"
    ]
  },
  {
    "objectID": "11_censobr_microdados.html#data-cache",
    "href": "11_censobr_microdados.html#data-cache",
    "title": "Microdados do Censo",
    "section": "Data cache",
    "text": "Data cache\nNa primeira vez que o usuário executa uma função, o {censobr} fará o download do arquivo e o armazenará localmente. Dessa forma, os dados só precisam ser baixados uma vez. Quando o parâmetro cache está configurado como TRUE (que é o comportamento padrão do pacote), a função lerá os dados que já estão armanezados em cache, o que é praticamente instantâneo.\nOs usuários podem gerenciar os conjuntos de dados em cache usando a função censobr_cache(). Por exemplo, os usuários podem:\nListar arquivos em cache:\n\ncensobr_cache(list_files = TRUE)\n\nDeletar um arquivo específico:\n\ncensobr_cache(delete_file = \"2010_emigration\")\n\nDeletar todos arquivos do cache:\n\ncensobr_cache(delete_file = \"all\")\n\nPor padrão, os arquivos do {censobr} são salvos no diretório ‘User’. No entanto, os usuários podem executar a função set_censobr_cache_dir() para definir um diretório de cache personalizado. Note que essa definição personalizada precisa ser definida a cada nova sessão do R.\n\ntempf &lt;- tempdir()\n\nset_censobr_cache_dir(path = tempf)",
    "crumbs": [
      "Explorando o Censo Demográfico",
      "Microdados do Censo"
    ]
  },
  {
    "objectID": "01_r_rstudio.html",
    "href": "01_r_rstudio.html",
    "title": "Conhecendo o R e o RStudio",
    "section": "",
    "text": "Pré-requisitos:\n\nInstalar o R\nInstalar o RStudio",
    "crumbs": [
      "Conceitos básicos",
      "Conhecendo o R e o RStudio"
    ]
  },
  {
    "objectID": "01_r_rstudio.html#linguagem-r",
    "href": "01_r_rstudio.html#linguagem-r",
    "title": "Conhecendo o R e o RStudio",
    "section": "Linguagem R",
    "text": "Linguagem R\nR é uma linguagem de programação com o foco em estatística, análise e visualização de dados.\nEla é uma linguagem de código aberto, o que significa que qualquer pessoa pode utilizá-la gratuitamente. Além disso, as pessoas com mais experiência na linguagem podem contribuir com o desenvolvimento de novas funcionalidades e pacotes.\nCaso queira saber mais sobre a linguagem R, acesse o site oficial (R-Project).\nAo instalar o R, você terá acesso a um programa chamado “R Console” que permite escrever e executar códigos em R:\n\n\n\nCaptura de tela do R Console no MacOS\n\n\n\n\n\nCaptura de tela do R Console no Windows\n\n\nPorém o R Console não é muito amigável para escrever códigos complexos ou realizar análises de dados. Por isso, é recomendado utilizar um ambiente de desenvolvimento integrado (IDE). Existem várias IDEs que podemos utilizar com o R, como: RStudio, Visual Studio Code, Positron, entre outros. A IDE mais utilizada por pessoas que programam em R é o RStudio.",
    "crumbs": [
      "Conceitos básicos",
      "Conhecendo o R e o RStudio"
    ]
  },
  {
    "objectID": "01_r_rstudio.html#ide-rstudio-desktop",
    "href": "01_r_rstudio.html#ide-rstudio-desktop",
    "title": "Conhecendo o R e o RStudio",
    "section": "IDE RStudio Desktop",
    "text": "IDE RStudio Desktop\nO RStudio é um IDE focada em programação em R, e é desenvolvido pela Posit. Ele facilita a escrita de códigos, execução de scripts, e visualização dos resultados.\nExistem algumas versões do RStudio. Neste curso, utilizaremos o RStudio Desktop, pois é a versão de código aberto (portanto é gratuita). Daqui em diante, sempre que mencionarmos “RStudio”, estaremos nos referindo ao RStudio Desktop.\n\n\n\n\n\n\nDica\n\n\n\nCaso o seu computador tenha limitações para instalação de programas, você pode utilizar o Posit Cloud, uma versão online do RStudio. Entretanto, a versão gratuita do Posit Cloud tem algumas limitações, como limite de tempo de uso (25 horas por mês) e de memória RAM (1 GB).\n\n\nAo abrir o RStudio, veremos a seguinte tela:\n Aos poucos, conheceremos os painéis e funcionalidades do RStudio. Neste momento, podemos destacar os três painéis que são apresentados:\n\nConsole: painel onde os códigos são executados. É similar ao “R Console”, citado anteriormente.\nEnvironment: painel onde as variáveis e dados carregados ficam listados.\nFiles: painel onde podemos navegar por arquivos no computador. A página inicial é o diretório de trabalho: esse conceito será explicado mais adiante.",
    "crumbs": [
      "Conceitos básicos",
      "Conhecendo o R e o RStudio"
    ]
  },
  {
    "objectID": "01_r_rstudio.html#scripts",
    "href": "01_r_rstudio.html#scripts",
    "title": "Conhecendo o R e o RStudio",
    "section": "Scripts",
    "text": "Scripts\nNo RStudio, podemos escrever e executar códigos no Console, porém os códigos são perdidos quando fechamos o programa. Para salvar os códigos e reutilizá-los posteriormente, utilizamos scripts.\nOs scripts são arquivos de texto onde podemos escrever códigos R e salvá-los para utilizar posteriormente. É recomendado que qualquer código que você deseje reutilizar ou que seja importante para a análise que você fizer seja salvo em um script.\nExistem algumas formas de criar um novo script:\n\nNo menu superior, clicando em File &gt; New File &gt; R Script.\nUtilizando o atalho Ctrl + Shift + N (Windows) ou Cmd + Shift + N (Mac).\nClicando no ícone de um arquivo com um sinal de + no canto superior esquerdo do RStudio e selecionando R Script:\n\n\n\n\nCaptura de tela do RStudio: Opção para criar novo Script\n\n\nApós abrir um script, o RStudio exibirá 4 paineis:\n\n\n\nCaptura de tela do RStudio\n\n\n\n\n\n\n\n\nDica\n\n\n\nO script é um arquivo salvo no nosso computador. Lembre-se de salvar os scripts com frequência para evitar perder o nosso trabalho.\nPodemos salvar um script de algumas formas, como:\n\nClicando em File &gt; Save no menu superior.\nClicando no ícone do disquete ().\nUtilizando o atalho Ctrl + S (Windows) ou Cmd + S (Mac).\n\n\n\n\nComo executar os códigos?\nPodemos escrever e executar códigos no Console ou em um script.\nNo Console, escrevemos o código diretamente e pressionamos Enter para executá-lo.\nEm um Script, escrevemos o código e podemos executá-lo de algumas formas:\n\nSelecionando o trecho de código que queremos executar e clicando no botão Run do RStudio, ou utilizando o atalho Ctrl + Enter (Windows) ou Cmd + Enter (Mac).\nClicando no trecho que queremos executar e clicando no botão Run do RStudio, ou utilizando o atalho Ctrl + Enter (Windows) ou Cmd + Enter (Mac).\n\n\n\nComentários\nComentários são textos que não são executados pelo R. Podemos usar comentários para explicar o que um bloco de código faz, para anotar ideias e explicar escolhas feitas, ou para desativar temporariamente um trecho de código.\nNo R, todo texto em uma linha após um hashtag (#) é um comentário. Por exemplo:\n\n# Este é um comentário",
    "crumbs": [
      "Conceitos básicos",
      "Conhecendo o R e o RStudio"
    ]
  },
  {
    "objectID": "01_r_rstudio.html#funções",
    "href": "01_r_rstudio.html#funções",
    "title": "Conhecendo o R e o RStudio",
    "section": "Funções",
    "text": "Funções\nAgora que já sabemos onde escrever nossos códigos em R (no Console ou em um script), é importante entender o conceito de funções.\nUma função é tipo de objeto no R, que quando executado, executa um bloco de código específico. As funções são úteis para evitar repetição de códigos e organizar o nosso trabalho.\nNo R, existem muitas funções prontas que podemos utilizar. Por exemplo, a função Sys.Date() retorna a data atual do sistema:\n\nSys.Date()\n\n[1] \"2024-10-06\"\n\n\nPara utilizar uma função, escrevemos o nome dela seguido de parênteses. Dentro dos parênteses, podemos colocar dados e informações úteis para a função executar a tarefa desejada, e são chamados de argumentos.\nPor exemplo, a função sqrt() calcula a raiz quadrada de um número. Para utilizá-la, podemos escrever mean() e informar esse número entre parênteses:\n\nsqrt(25)\n\n[1] 5\n\n\n\n\n\n\n\n\nDica\n\n\n\nAo adquirir experiência com o R, podemos criar nossas próprias funções. Isso é útil para automatizar tarefas repetitivas e para organizar o código.",
    "crumbs": [
      "Conceitos básicos",
      "Conhecendo o R e o RStudio"
    ]
  },
  {
    "objectID": "01_r_rstudio.html#pacotes",
    "href": "01_r_rstudio.html#pacotes",
    "title": "Conhecendo o R e o RStudio",
    "section": "Pacotes",
    "text": "Pacotes\nPacotes do R são coleções de funções, dados e documentação que estendem a funcionalidade básica da linguagem.\nO CRAN (Comprehensive R Archive Network) é o repositório oficial de pacotes do R. Ele contém milhares de pacotes que podem ser instalados e utilizados gratuitamente. Em setembro de 2024, o CRAN continha mais de 21.000 pacotes disponíveis.\nPara instalar um pacote, utilizamos a função install.packages() e informando o nome do pacote como texto entre aspas. Por exemplo, para instalar o pacote {tidyverse}, utilizamos o seguinte comando:\n\ninstall.packages(\"tidyverse\")  # Instala o pacote tidyverse\n\nApenas precisamos instalar um pacote uma vez.\nDepois de instalado, podemos carregá-lo com a função library(), para que as funções do pacote fiquem disponíveis para uso:\n\nlibrary(tidyverse)  # Carrega o pacote tidyverse\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\n\nPrecisamos carregar o pacote sempre que abrirmos um novo script, ou quando reiniciamos o RStudio. Uma pratica frequente é carregar os principais pacotes necessários no início do script.\n\n\n\n\n\n\nCuidado\n\n\n\nUma outra forma de acessar uma função é utilizando o operador ::. Por exemplo, para acessar a função read_csv() do pacote {readr}, podemos escrever readr::read_csv().\nEssa sintaxe é menos frequente, porém útil para evitar problemas de conflito de funções com o mesmo nome em pacotes diferentes. Esse problema acontece mais frequentemente quando carregamos muitos pacotes em um mesmo script.\nPor exemplo: o pacote {dplyr} apresenta uma função filter(), e o pacote {stats} também apresenta uma função filter(). Se não usarmos o operador ::, a função utilizada será a do pacote que foi carregado por último. Usando o operador ::, podemos escolher qual função queremos utilizar.",
    "crumbs": [
      "Conceitos básicos",
      "Conhecendo o R e o RStudio"
    ]
  },
  {
    "objectID": "01_r_rstudio.html#documentação",
    "href": "01_r_rstudio.html#documentação",
    "title": "Conhecendo o R e o RStudio",
    "section": "Documentação",
    "text": "Documentação\nAs funções e pacotes do R apresentam textos com explicações e exemplos de uso, chamados de documentação.\nAs documentações podem ser acessadas online, ou diretamente no RStudio.\n\nDocumentação no RStudio\nNo RStudio, podemos acessar a documentação de uma função ou pacote das seguintes formas:\n\nPara buscar informações sobre funções de pacotes já carregados (com library), podemos utilizar a função help(), informando o nome da função que queremos buscar como argumento (ex: help(mean)), ou utilizar o operador ?, seguido do nome da função (ex: ?mean).\n\n\nhelp(mean)  # Abre a documentação da função mean()\n?mean  # Abre a documentação da função mean()\n\n\nPara fazer uma por funções presentes em todos os pacotes instalados no computador, podemos utilizar o operador ??, seguido pelo termo que queremos buscar (ex: ??mean). Essa é uma busca mais ampla, que procura pelo termo no nome e na descrição das funções.\n\n\n??mean  # Busca por funções que contenham o termo \"mean\"\n\n\nPodemos utilizar o painel Help para buscar informações sobre funções e pacotes:\n\n\n\n\nCaptura de tela do RStudio: Painel Help\n\n\nAlém disso, a maioria dos pacotes vem com textos explicativos sobre como usá-los, chamadas de vignettes. Elas estão disponíveis online, mas também podem ser acessadas diretamente no RStudio.\nPara acessar no RStudio, podemos usar a função browseVignettes() para listar as vignettes disponíveis para um pacote específico. A lista será apresentada em uma janela do navegador (ex: Google Chrome, Firefox, Safari, etc):\n\nbrowseVignettes(\"dplyr\")\n\n\n\n\nCaptura de tela: Lista de Vignettes do pacote dplyr\n\n\n\n\nDocumentação online\nComo citado anteriormente, é possível acessar a documentação dos pacotes diretamente no RStudio e também online. No geral, o conteúdo disponível online é igual ao disponível no RStudio, mas pode ser mais fácil de buscar e navegar.\nUma forma de acessar a documentação online é fazendo uma busca no Google com os termos “R documentation {nome da função}”. Por exemplo: “R documentation mean()”.\nAlguns pacotes apresentam também sites próprios com documentações e vignettes.\nPor exemplo, o pacote {dplyr} (que usaremos no curso) tem um site próprio onde conseguimos acessar a documentação. Os pacotes do tidyverse apresentam sites similares, com páginas com os seguintes conteúdos:\n\nEm Get started encontramos uma introdução ao pacote, e exemplos de uso para quem quer aprender a usá-lo.\nEm Reference, encontramos a lista de funções disponíveis no pacote, e podemos acessar a documentação de cada uma delas:\n\n\n\n\nCaptura de tela: Site do pacote dplyr - Reference\n\n\n\nEm Articles podemos acessar as vignettes:\n\n\n\n\nCaptura de tela: Site do pacote dplyr - Vignettes\n\n\n\n\nCheatsheets\nAs cheatsheets (ou folhas de cola) são documentos resumidos com informações sobre funções e pacotes. Elas são úteis para consulta rápida.\nA Posit (empresa que desenvolve o RStudio) disponibiliza cheatsheets para diversos pacotes e tópicos. Elas podem ser acessadas no site Posit Cheatsheets.\nA lista a seguir apresenta algumas cheatsheets sobre temas que serão abordados ao longo do curso:\n\nRStudio IDE\nImportação de dados com o tidyverse\nTransformação de dados com dplyr\nVisualização de dados com ggplot2\nArrumando dados com tidyr\nArrow",
    "crumbs": [
      "Conceitos básicos",
      "Conhecendo o R e o RStudio"
    ]
  },
  {
    "objectID": "01_r_rstudio.html#instalação-de-pacotes-necessários-no-curso",
    "href": "01_r_rstudio.html#instalação-de-pacotes-necessários-no-curso",
    "title": "Conhecendo o R e o RStudio",
    "section": "Instalação de pacotes necessários no curso",
    "text": "Instalação de pacotes necessários no curso\nDurante o curso, utilizaremos diversos pacotes do R.\nVamos instalar os pacotes ao longo das aulas. Neste momento, vamos instalar os pacotes que utilizaremos nas primeiras aulas do curso. Copie o código abaixo no console, e execute-o para instalar os pacotes necessários:\n\npacotes_necessarios &lt;- c(\n  \"tidyverse\",\n  \"janitor\",\n  \"sidrar\",\n  \"readxl\",\n  \"writexl\",\n  \"fs\",\n  \"naniar\",\n  \"skimr\",\n  \"esquisse\"\n)\n\ninstall.packages(pacotes_necessarios)",
    "crumbs": [
      "Conceitos básicos",
      "Conhecendo o R e o RStudio"
    ]
  },
  {
    "objectID": "01_r_rstudio.html#sugestões-de-materiais",
    "href": "01_r_rstudio.html#sugestões-de-materiais",
    "title": "Conhecendo o R e o RStudio",
    "section": "Sugestões de materiais",
    "text": "Sugestões de materiais\n\nLivro R para Ciência de Dados 2ed:\n\nIntrodução &gt; Pré-requisitos em diante\nFluxo de Trabalho: obtendo ajuda",
    "crumbs": [
      "Conceitos básicos",
      "Conhecendo o R e o RStudio"
    ]
  }
]